"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/lobby/page",{

/***/ "(app-pages-browser)/./hooks/use-websocket.js":
/*!********************************!*\
  !*** ./hooks/use-websocket.js ***!
  \********************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useWebSocket: () => (/* binding */ useWebSocket)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _hooks_use_toast__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/hooks/use-toast */ \"(app-pages-browser)/./hooks/use-toast.js\");\nvar _s = $RefreshSig$();\n\n\n\nconst WEBSOCKET_BASE_URL = \"wss://cd6f-202-28-7-4.ngrok-free.app\";\nfunction useWebSocket(lobbyCode, username, userToken, role) {\n    _s();\n    const [isConnected, setIsConnected] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [messages, setMessages] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]);\n    const [players, setPlayers] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]);\n    const [lobbyInfo, setLobbyInfo] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({});\n    const [connectionError, setConnectionError] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [verified_usernames, setVerifiedUsername] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [game_started, setGameStarted] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [video_url, setVideoUrl] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [laughMeters, setLaughMeters] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({}) // Added laughMeters state\n    ;\n    const [data, setData] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({});\n    const socketRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n    const { toast } = (0,_hooks_use_toast__WEBPACK_IMPORTED_MODULE_1__.useToast)();\n    const connect = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useWebSocket.useCallback[connect]\": ()=>{\n            if (!lobbyCode || !username || !userToken || !role) {\n                setConnectionError(\"Missing connection parameters\");\n                return;\n            }\n            try {\n                const wsURL = \"\".concat(WEBSOCKET_BASE_URL, \"/ws/connect/?lobby_code=\").concat(lobbyCode, \"&user_token=\").concat(userToken, \"&username=\").concat(username, \"&role=\").concat(role);\n                socketRef.current = new WebSocket(wsURL);\n                socketRef.current.onopen = ({\n                    \"useWebSocket.useCallback[connect]\": ()=>{\n                        console.log(\"✅ WebSocket connected\");\n                        setIsConnected(true);\n                        setConnectionError(null);\n                    }\n                })[\"useWebSocket.useCallback[connect]\"];\n                socketRef.current.onmessage = ({\n                    \"useWebSocket.useCallback[connect]\": (event)=>{\n                        try {\n                            const data = JSON.parse(event.data);\n                            handleMessage(data);\n                        } catch (error) {\n                            console.error(\"Error parsing WebSocket message:\", error);\n                        }\n                    }\n                })[\"useWebSocket.useCallback[connect]\"];\n                socketRef.current.onerror = ({\n                    \"useWebSocket.useCallback[connect]\": (error)=>{\n                        console.error(\"WebSocket error:\", error);\n                        setConnectionError(\"Connection error occurred\");\n                    }\n                })[\"useWebSocket.useCallback[connect]\"];\n                socketRef.current.onclose = ({\n                    \"useWebSocket.useCallback[connect]\": (event)=>{\n                        console.log(\"❌ WebSocket closed\", event.code, event.reason);\n                        setIsConnected(false);\n                        // Handle different close codes\n                        const errorMessages = {\n                            4001: \"Missing required connection parameters\",\n                            4003: \"Authentication failed\",\n                            4004: \"Lobby not found\",\n                            4009: \"Token already in use\",\n                            4010: \"Lobby is full\",\n                            4011: \"Lobby is closed for new connections\"\n                        };\n                        if (errorMessages[event.code]) {\n                            setConnectionError(errorMessages[event.code]);\n                            toast({\n                                title: \"Connection Error\",\n                                description: errorMessages[event.code],\n                                variant: \"destructive\"\n                            });\n                        }\n                    // Auto-reconnect logic (unless it's an auth error)\n                    }\n                })[\"useWebSocket.useCallback[connect]\"];\n            } catch (error) {\n                setConnectionError(\"Failed to create WebSocket connection\");\n                console.error(\"WebSocket connection error:\", error);\n            }\n        }\n    }[\"useWebSocket.useCallback[connect]\"], [\n        lobbyCode,\n        username,\n        userToken,\n        role,\n        toast\n    ]);\n    const handleMessage = (data)=>{\n        console.log(\"Received WebSocket message:\", data);\n        setData(data);\n        if (data.type === 'lobby.message') {\n            console.log(\"Data Event:\", data.event);\n            // Handle different lobby events\n            switch(data.event){\n                case 'chat_message':\n                    setMessages((prev)=>[\n                            ...prev,\n                            {\n                                id: Date.now(),\n                                type: 'chat',\n                                message: data.message,\n                                sender: data.sender_username,\n                                senderRole: data.sender_role,\n                                timestamp: new Date()\n                            }\n                        ]);\n                    break;\n                case 'user_left':\n                    setPlayers(data.players_in_lobby || []);\n                    setLobbyInfo({\n                        code: data.lobby_code,\n                        name: data.lobby_name,\n                        host: data.host,\n                        playersInLobby: data.players_in_lobby\n                    });\n                    setMessages((prev)=>[\n                            ...prev,\n                            {\n                                id: Date.now(),\n                                type: 'system',\n                                message: \"\".concat(data.username, \" \").concat(data.event.replace('_', ' ')),\n                                timestamp: new Date()\n                            }\n                        ]);\n                    break;\n                case 'user_connected':\n                    console.log(\"User connected:\", data.players_in_lobby);\n                    setPlayers(data.players_in_lobby || []);\n                    setMessages((prev)=>[\n                            ...prev,\n                            {\n                                id: Date.now(),\n                                type: 'system',\n                                message: \"\".concat(data.player, \" entered the lobby\"),\n                                timestamp: new Date()\n                            }\n                        ]);\n                    break;\n                case 'player_kicked':\n                    setMessages((prev)=>[\n                            ...prev,\n                            {\n                                id: Date.now(),\n                                type: 'system',\n                                message: \"\".concat(data.kicked_username, \" was kicked from the lobby. Reason: \").concat(data.reason),\n                                timestamp: new Date()\n                            }\n                        ]);\n                    break;\n                case 'game_started':\n                    setVideoUrl(data.url);\n                    setGameStarted(true);\n                    setMessages((prev)=>[\n                            ...prev,\n                            {\n                                id: Date.now(),\n                                type: 'system',\n                                message: \"Game started by \".concat(data.started_by, \"!\"),\n                                timestamp: new Date()\n                            }\n                        ]);\n                    toast({\n                        title: \"Game Started!\",\n                        description: data.message\n                    });\n                    break;\n                case 'lobby_closed':\n                    setMessages((prev)=>[\n                            ...prev,\n                            {\n                                id: Date.now(),\n                                type: 'system',\n                                message: data.message,\n                                timestamp: new Date()\n                            }\n                        ]);\n                    toast({\n                        title: \"Lobby Closed\",\n                        description: data.message,\n                        variant: \"destructive\"\n                    });\n                    break;\n                case 'lobby_disbanded':\n                    setMessages((prev)=>[\n                            ...prev,\n                            {\n                                id: Date.now(),\n                                type: 'system',\n                                message: data.message,\n                                timestamp: new Date()\n                            }\n                        ]);\n                    toast({\n                        title: \"Lobby Disbanded\",\n                        description: data.message,\n                        variant: \"destructive\"\n                    });\n                    break;\n                case 'settings_changed':\n                    setMessages((prev)=>[\n                            ...prev,\n                            {\n                                id: Date.now(),\n                                type: 'system',\n                                message: data.message,\n                                timestamp: new Date()\n                            }\n                        ]);\n                    toast({\n                        title: \"Settings Updated\",\n                        description: data.message\n                    });\n                    break;\n                // Face detection events\n                case 'face_detection_update':\n                    // Handle face detection updates from other players\n                    console.log(\"Face detection update:\", data);\n                    break;\n                case 'player_verified':\n                    setVerifiedUsername(data.verified_usernames || data.username);\n                    setMessages((prev)=>[\n                            ...prev,\n                            {\n                                id: Date.now(),\n                                type: 'system',\n                                message: \"\".concat(data.verified_usernames, \" has been verified via \").concat(data.verification_method || 'face detection'),\n                                timestamp: new Date()\n                            }\n                        ]);\n                    toast({\n                        title: \"Player Verified\",\n                        description: \"\".concat(data.verified_usernames, \" has been verified\")\n                    });\n                    break;\n                case 'game_video':\n                    setVideoUrl(data.url);\n                    setMessages((prev)=>[\n                            ...prev,\n                            {\n                                id: Date.now(),\n                                type: 'system',\n                                message: \"Game video available at \".concat(data.url),\n                                timestamp: new Date()\n                            }\n                        ]);\n                    toast({\n                        title: \"Game Video Available\",\n                        description: \"Game video available at \".concat(data.url)\n                    });\n                    break;\n                case 'emotion_prediction_update':\n                    break;\n                default:\n                    console.log(\"Unhandled lobby event:\", data.event);\n            }\n        } else if (data.type === 'private_message' && data.message_type !== 'emotion_prediction_update') {\n            toast({\n                title: data.message_type === 'error' ? \"Error\" : \"Success\",\n                description: data.message,\n                variant: data.message_type === 'error' ? \"destructive\" : \"default\"\n            });\n        } else if (data.type === 'private_message' && data.message_type === 'emotion_prediction_update') {\n            console.log(\"Checking LAUGH METER IN SOCKET\") // Added case for emotion_prediction_update\n            ;\n            if (data.message) {\n                setLaughMeters(data.message);\n            }\n        } else if (data.type === 'kicked') {\n            toast({\n                title: \"Kicked from Lobby\",\n                description: data.message,\n                variant: \"destructive\"\n            });\n            // Handle being kicked (maybe redirect)\n            setTimeout(()=>{\n                window.location.href = \"/\";\n            }, 3000);\n        } else if (data.type === 'muted') {\n            toast({\n                title: \"Muted\",\n                description: data.message,\n                variant: \"destructive\"\n            });\n        } else if (data.type === 'unmuted') {\n            toast({\n                title: \"Unmuted\",\n                description: data.message\n            });\n        }\n    };\n    const sendMessage = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useWebSocket.useCallback[sendMessage]\": function(type) {\n            let payload = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};\n            if (socketRef.current && socketRef.current.readyState === WebSocket.OPEN) {\n                socketRef.current.send(JSON.stringify({\n                    type,\n                    payload\n                }));\n            } else {\n                toast({\n                    title: \"Connection Error\",\n                    description: \"Not connected to the server\",\n                    variant: \"destructive\"\n                });\n            }\n        }\n    }[\"useWebSocket.useCallback[sendMessage]\"], [\n        toast\n    ]);\n    // Convenience methods for common actions\n    const sendChatMessage = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useWebSocket.useCallback[sendChatMessage]\": (text)=>{\n            sendMessage('chat_message', {\n                text\n            });\n        }\n    }[\"useWebSocket.useCallback[sendChatMessage]\"], [\n        sendMessage\n    ]);\n    const leaveLobby = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useWebSocket.useCallback[leaveLobby]\": ()=>{\n            sendMessage('leave_lobby');\n        }\n    }[\"useWebSocket.useCallback[leaveLobby]\"], [\n        sendMessage\n    ]);\n    const kickPlayer = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useWebSocket.useCallback[kickPlayer]\": function(username) {\n            let reason = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : '';\n            sendMessage('kick_player', {\n                username,\n                reason\n            });\n        }\n    }[\"useWebSocket.useCallback[kickPlayer]\"], [\n        sendMessage\n    ]);\n    const startGame = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useWebSocket.useCallback[startGame]\": ()=>{\n            sendMessage('start_game');\n        }\n    }[\"useWebSocket.useCallback[startGame]\"], [\n        sendMessage\n    ]);\n    const closeLobby = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useWebSocket.useCallback[closeLobby]\": ()=>{\n            sendMessage('close_lobby');\n        }\n    }[\"useWebSocket.useCallback[closeLobby]\"], [\n        sendMessage\n    ]);\n    const disbandLobby = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useWebSocket.useCallback[disbandLobby]\": ()=>{\n            sendMessage('disband_lobby');\n        }\n    }[\"useWebSocket.useCallback[disbandLobby]\"], [\n        sendMessage\n    ]);\n    const mutePlayer = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useWebSocket.useCallback[mutePlayer]\": (username)=>{\n            sendMessage('mute_player', {\n                username\n            });\n        }\n    }[\"useWebSocket.useCallback[mutePlayer]\"], [\n        sendMessage\n    ]);\n    const unmutePlayer = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useWebSocket.useCallback[unmutePlayer]\": (username)=>{\n            sendMessage('unmute_player', {\n                username\n            });\n        }\n    }[\"useWebSocket.useCallback[unmutePlayer]\"], [\n        sendMessage\n    ]);\n    const changeSettings = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useWebSocket.useCallback[changeSettings]\": (settings)=>{\n            sendMessage('change_settings', settings);\n        }\n    }[\"useWebSocket.useCallback[changeSettings]\"], [\n        sendMessage\n    ]);\n    const disconnect = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useWebSocket.useCallback[disconnect]\": ()=>{\n            if (socketRef.current) {\n                socketRef.current.close();\n            }\n        }\n    }[\"useWebSocket.useCallback[disconnect]\"], []);\n    // Connect on mount, cleanup on unmount\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"useWebSocket.useEffect\": ()=>{\n            connect();\n            return ({\n                \"useWebSocket.useEffect\": ()=>{\n                    disconnect();\n                }\n            })[\"useWebSocket.useEffect\"];\n        }\n    }[\"useWebSocket.useEffect\"], [\n        connect,\n        disconnect\n    ]);\n    console.log(\"Laugh Meters from websocket:\", laughMeters) // Log laughMeters for debugging\n    ;\n    return {\n        isConnected,\n        messages,\n        players,\n        lobbyInfo,\n        connectionError,\n        verified_usernames,\n        game_started,\n        video_url,\n        laughMeters,\n        data,\n        sendChatMessage,\n        leaveLobby,\n        kickPlayer,\n        startGame,\n        closeLobby,\n        disbandLobby,\n        mutePlayer,\n        unmutePlayer,\n        changeSettings,\n        sendMessage,\n        disconnect\n    };\n}\n_s(useWebSocket, \"6vmdKBkYCplIvJIbA/Ys1LYTCv8=\", false, function() {\n    return [\n        _hooks_use_toast__WEBPACK_IMPORTED_MODULE_1__.useToast\n    ];\n});\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2hvb2tzL3VzZS13ZWJzb2NrZXQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBZ0U7QUFDcEI7QUFDZDtBQUU5QixNQUFNTSxxQkFBcUI7QUFFcEIsU0FBU0MsYUFBYUMsU0FBUyxFQUFFQyxRQUFRLEVBQUVDLFNBQVMsRUFBRUMsSUFBSTs7SUFDL0QsTUFBTSxDQUFDQyxhQUFhQyxlQUFlLEdBQUdiLCtDQUFRQSxDQUFDO0lBQy9DLE1BQU0sQ0FBQ2MsVUFBVUMsWUFBWSxHQUFHZiwrQ0FBUUEsQ0FBQyxFQUFFO0lBQzNDLE1BQU0sQ0FBQ2dCLFNBQVNDLFdBQVcsR0FBR2pCLCtDQUFRQSxDQUFDLEVBQUU7SUFDekMsTUFBTSxDQUFDa0IsV0FBV0MsYUFBYSxHQUFHbkIsK0NBQVFBLENBQUMsQ0FBQztJQUM1QyxNQUFNLENBQUNvQixpQkFBaUJDLG1CQUFtQixHQUFHckIsK0NBQVFBLENBQUM7SUFDdkQsTUFBTSxDQUFDc0Isb0JBQW9CQyxvQkFBb0IsR0FBR3ZCLCtDQUFRQSxDQUFDO0lBQzNELE1BQU0sQ0FBQ3dCLGNBQWNDLGVBQWUsR0FBR3pCLCtDQUFRQSxDQUFDO0lBQ2hELE1BQU0sQ0FBQzBCLFdBQVdDLFlBQVksR0FBRzNCLCtDQUFRQSxDQUFDO0lBQzFDLE1BQU0sQ0FBQzRCLGFBQWFDLGVBQWUsR0FBRzdCLCtDQUFRQSxDQUFDLENBQUMsR0FBRywwQkFBMEI7O0lBRTdFLE1BQU0sQ0FBQzhCLE1BQU1DLFFBQVEsR0FBRy9CLCtDQUFRQSxDQUFDLENBQUM7SUFDbEMsTUFBTWdDLFlBQVk5Qiw2Q0FBTUEsQ0FBQztJQUN6QixNQUFNLEVBQUUrQixLQUFLLEVBQUUsR0FBRzdCLDBEQUFRQTtJQUUxQixNQUFNOEIsVUFBVS9CLGtEQUFXQTs2Q0FBQztZQUMxQixJQUFJLENBQUNLLGFBQWEsQ0FBQ0MsWUFBWSxDQUFDQyxhQUFhLENBQUNDLE1BQU07Z0JBQ2xEVSxtQkFBbUI7Z0JBQ25CO1lBQ0Y7WUFFQSxJQUFJ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Z0RBQUM7WUFDN0JnRixZQUFZO1FBQ2Q7K0NBQUc7UUFBQ0E7S0FBWTtJQUVoQixNQUFNWSxlQUFlNUYsa0RBQVdBO2tEQUFDO1lBQy9CZ0YsWUFBWTtRQUNkO2lEQUFHO1FBQUNBO0tBQVk7SUFFaEIsTUFBTWEsYUFBYTdGLGtEQUFXQTtnREFBQyxDQUFDTTtZQUM5QjBFLFlBQVksZUFBZTtnQkFBRTFFO1lBQVM7UUFDeEM7K0NBQUc7UUFBQzBFO0tBQVk7SUFFaEIsTUFBTWMsZUFBZTlGLGtEQUFXQTtrREFBQyxDQUFDTTtZQUNoQzBFLFlBQVksaUJBQWlCO2dCQUFFMUU7WUFBUztRQUMxQztpREFBRztRQUFDMEU7S0FBWTtJQUVoQixNQUFNZSxpQkFBaUIvRixrREFBV0E7b0RBQUMsQ0FBQ2dHO1lBQ2xDaEIsWUFBWSxtQkFBbUJnQjtRQUNqQzttREFBRztRQUFDaEI7S0FBWTtJQUVoQixNQUFNaUIsYUFBYWpHLGtEQUFXQTtnREFBQztZQUM3QixJQUFJNkIsVUFBVUksT0FBTyxFQUFFO2dCQUNyQkosVUFBVUksT0FBTyxDQUFDaUUsS0FBSztZQUN6QjtRQUNGOytDQUFHLEVBQUU7SUFFTCx1Q0FBdUM7SUFDdkNwRyxnREFBU0E7a0NBQUM7WUFDUmlDO1lBQ0E7MENBQU87b0JBQ0xrRTtnQkFDRjs7UUFDRjtpQ0FBRztRQUFDbEU7UUFBU2tFO0tBQVc7SUFDeEI3RCxRQUFRQyxHQUFHLENBQUMsZ0NBQWdDWixhQUFhLGdDQUFnQzs7SUFDekYsT0FBTztRQUNMaEI7UUFDQUU7UUFDQUU7UUFDQUU7UUFDQUU7UUFDQUU7UUFDQUU7UUFDQUU7UUFDQUU7UUFDQUU7UUFDQTJEO1FBQ0FFO1FBQ0FDO1FBQ0FDO1FBQ0FDO1FBQ0FDO1FBQ0FDO1FBQ0FDO1FBQ0FDO1FBQ0FmO1FBQ0FpQjtJQUNGO0FBQ0Y7R0FsV2dCN0Y7O1FBYUlILHNEQUFRQSIsInNvdXJjZXMiOlsiL1VzZXJzL2hheXNvbmNoZXVuZy9wcm9ncmFtcy9weXRob25Qcm9qZWN0L2tyYWNrbGUyL2Zyb250ZW5kdXBkYXRlZC9ob29rcy91c2Utd2Vic29ja2V0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QsIHVzZVJlZiwgdXNlQ2FsbGJhY2sgfSBmcm9tICdyZWFjdCdcbmltcG9ydCB7IHVzZVRvYXN0IH0gZnJvbSBcIkAvaG9va3MvdXNlLXRvYXN0XCJcbmltcG9ydCB7IHNldCB9IGZyb20gJ2RhdGUtZm5zJ1xuXG5jb25zdCBXRUJTT0NLRVRfQkFTRV9VUkwgPSBcIndzczovL2NkNmYtMjAyLTI4LTctNC5uZ3Jvay1mcmVlLmFwcFwiXG5cbmV4cG9ydCBmdW5jdGlvbiB1c2VXZWJTb2NrZXQobG9iYnlDb2RlLCB1c2VybmFtZSwgdXNlclRva2VuLCByb2xlKSB7XG4gIGNvbnN0IFtpc0Nvbm5lY3RlZCwgc2V0SXNDb25uZWN0ZWRdID0gdXNlU3RhdGUoZmFsc2UpXG4gIGNvbnN0IFttZXNzYWdlcywgc2V0TWVzc2FnZXNdID0gdXNlU3RhdGUoW10pXG4gIGNvbnN0IFtwbGF5ZXJzLCBzZXRQbGF5ZXJzXSA9IHVzZVN0YXRlKFtdKVxuICBjb25zdCBbbG9iYnlJbmZvLCBzZXRMb2JieUluZm9dID0gdXNlU3RhdGUoe30pXG4gIGNvbnN0IFtjb25uZWN0aW9uRXJyb3IsIHNldENvbm5lY3Rpb25FcnJvcl0gPSB1c2VTdGF0ZShudWxsKVxuICBjb25zdCBbdmVyaWZpZWRfdXNlcm5hbWVzLCBzZXRWZXJpZmllZFVzZXJuYW1lXSA9IHVzZVN0YXRlKG51bGwpXG4gIGNvbnN0IFtnYW1lX3N0YXJ0ZWQsIHNldEdhbWVTdGFydGVkXSA9IHVzZVN0YXRlKGZhbHNlKVxuICBjb25zdCBbdmlkZW9fdXJsLCBzZXRWaWRlb1VybF0gPSB1c2VTdGF0ZShudWxsKVxuICBjb25zdCBbbGF1Z2hNZXRlcnMsIHNldExhdWdoTWV0ZXJzXSA9IHVzZVN0YXRlKHt9KSAvLyBBZGRlZCBsYXVnaE1ldGVycyBzdGF0ZVxuICBcbiAgY29uc3QgW2RhdGEsIHNldERhdGFdID0gdXNlU3RhdGUoe30pXG4gIGNvbnN0IHNvY2tldFJlZiA9IHVzZVJlZihudWxsKVxuICBjb25zdCB7IHRvYXN0IH0gPSB1c2VUb2FzdCgpXG5cbiAgY29uc3QgY29ubmVjdCA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBpZiAoIWxvYmJ5Q29kZSB8fCAhdXNlcm5hbWUgfHwgIXVzZXJUb2tlbiB8fCAhcm9sZSkge1xuICAgICAgc2V0Q29ubmVjdGlvbkVycm9yKFwiTWlzc2luZyBjb25uZWN0aW9uIHBhcmFtZXRlcnNcIilcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICBjb25zdCB3c1VSTCA9IGAke1dFQlNPQ0tFVF9CQVNFX1VSTH0vd3MvY29ubmVjdC8/bG9iYnlfY29kZT0ke2xvYmJ5Q29kZX0mdXNlcl90b2tlbj0ke3VzZXJUb2tlbn0mdXNlcm5hbWU9JHt1c2VybmFtZX0mcm9sZT0ke3JvbGV9YFxuICAgICAgc29ja2V0UmVmLmN1cnJlbnQgPSBuZXcgV2ViU29ja2V0KHdzVVJMKVxuXG4gICAgICBzb2NrZXRSZWYuY3VycmVudC5vbm9wZW4gPSAoKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwi4pyFIFdlYlNvY2tldCBjb25uZWN0ZWRcIilcbiAgICAgICAgc2V0SXNDb25uZWN0ZWQodHJ1ZSlcbiAgICAgICAgc2V0Q29ubmVjdGlvbkVycm9yKG51bGwpXG4gICAgICB9XG5cbiAgICAgIHNvY2tldFJlZi5jdXJyZW50Lm9ubWVzc2FnZSA9IChldmVudCkgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IGRhdGEgPSBKU09OLnBhcnNlKGV2ZW50LmRhdGEpXG4gICAgICAgICAgaGFuZGxlTWVzc2FnZShkYXRhKVxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBwYXJzaW5nIFdlYlNvY2tldCBtZXNzYWdlOlwiLCBlcnJvcilcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBzb2NrZXRSZWYuY3VycmVudC5vbmVycm9yID0gKGVycm9yKSA9PiB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJXZWJTb2NrZXQgZXJyb3I6XCIsIGVycm9yKVxuICAgICAgICBzZXRDb25uZWN0aW9uRXJyb3IoXCJDb25uZWN0aW9uIGVycm9yIG9jY3VycmVkXCIpXG4gICAgICB9XG5cbiAgICAgIHNvY2tldFJlZi5jdXJyZW50Lm9uY2xvc2UgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coXCLinYwgV2ViU29ja2V0IGNsb3NlZFwiLCBldmVudC5jb2RlLCBldmVudC5yZWFzb24pXG4gICAgICAgIHNldElzQ29ubmVjdGVkKGZhbHNlKVxuICAgICAgICBcbiAgICAgICAgLy8gSGFuZGxlIGRpZmZlcmVudCBjbG9zZSBjb2Rlc1xuICAgICAgICBjb25zdCBlcnJvck1lc3NhZ2VzID0ge1xuICAgICAgICAgIDQwMDE6IFwiTWlzc2luZyByZXF1aXJlZCBjb25uZWN0aW9uIHBhcmFtZXRlcnNcIixcbiAgICAgICAgICA0MDAzOiBcIkF1dGhlbnRpY2F0aW9uIGZhaWxlZFwiLFxuICAgICAgICAgIDQwMDQ6IFwiTG9iYnkgbm90IGZvdW5kXCIsXG4gICAgICAgICAgNDAwOTogXCJUb2tlbiBhbHJlYWR5IGluIHVzZVwiLFxuICAgICAgICAgIDQwMTA6IFwiTG9iYnkgaXMgZnVsbFwiLFxuICAgICAgICAgIDQwMTE6IFwiTG9iYnkgaXMgY2xvc2VkIGZvciBuZXcgY29ubmVjdGlvbnNcIlxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBpZiAoZXJyb3JNZXNzYWdlc1tldmVudC5jb2RlXSkge1xuICAgICAgICAgIHNldENvbm5lY3Rpb25FcnJvcihlcnJvck1lc3NhZ2VzW2V2ZW50LmNvZGVdKVxuICAgICAgICAgIHRvYXN0KHtcbiAgICAgICAgICAgIHRpdGxlOiBcIkNvbm5lY3Rpb24gRXJyb3JcIixcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBlcnJvck1lc3NhZ2VzW2V2ZW50LmNvZGVdLFxuICAgICAgICAgICAgdmFyaWFudDogXCJkZXN0cnVjdGl2ZVwiLFxuICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIEF1dG8tcmVjb25uZWN0IGxvZ2ljICh1bmxlc3MgaXQncyBhbiBhdXRoIGVycm9yKVxuICAgICAgXG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHNldENvbm5lY3Rpb25FcnJvcihcIkZhaWxlZCB0byBjcmVhdGUgV2ViU29ja2V0IGNvbm5lY3Rpb25cIilcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJXZWJTb2NrZXQgY29ubmVjdGlvbiBlcnJvcjpcIiwgZXJyb3IpXG4gICAgfVxuICB9LCBbbG9iYnlDb2RlLCB1c2VybmFtZSwgdXNlclRva2VuLCByb2xlLCB0b2FzdF0pXG5cbiAgY29uc3QgaGFuZGxlTWVzc2FnZSA9IChkYXRhKSA9PiB7XG4gICAgY29uc29sZS5sb2coXCJSZWNlaXZlZCBXZWJTb2NrZXQgbWVzc2FnZTpcIiwgZGF0YSlcbiAgICBzZXREYXRhKGRhdGEpXG5cbiAgICBpZiAoZGF0YS50eXBlID09PSAnbG9iYnkubWVzc2FnZScpIHtcbiAgICAgIGNvbnNvbGUubG9nKFwiRGF0YSBFdmVudDpcIiwgZGF0YS5ldmVudClcbiAgICAgIC8vIEhhbmRsZSBkaWZmZXJlbnQgbG9iYnkgZXZlbnRzXG4gICAgICBzd2l0Y2ggKGRhdGEuZXZlbnQpIHtcbiAgICAgICAgY2FzZSAnY2hhdF9tZXNzYWdlJzpcbiAgICAgICAgICBzZXRNZXNzYWdlcyhwcmV2ID0+IFsuLi5wcmV2LCB7XG4gICAgICAgICAgICBpZDogRGF0ZS5ub3coKSxcbiAgICAgICAgICAgIHR5cGU6ICdjaGF0JyxcbiAgICAgICAgICAgIG1lc3NhZ2U6IGRhdGEubWVzc2FnZSxcbiAgICAgICAgICAgIHNlbmRlcjogZGF0YS5zZW5kZXJfdXNlcm5hbWUsXG4gICAgICAgICAgICBzZW5kZXJSb2xlOiBkYXRhLnNlbmRlcl9yb2xlLFxuICAgICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpXG4gICAgICAgICAgfV0pXG4gICAgICAgICAgYnJlYWtcblxuICAgICAgICBjYXNlICd1c2VyX2xlZnQnOlxuICAgICAgICAgIHNldFBsYXllcnMoZGF0YS5wbGF5ZXJzX2luX2xvYmJ5IHx8IFtdKVxuICAgICAgICAgIHNldExvYmJ5SW5mbyh7XG4gICAgICAgICAgICBjb2RlOiBkYXRhLmxvYmJ5X2NvZGUsXG4gICAgICAgICAgICBuYW1lOiBkYXRhLmxvYmJ5X25hbWUsXG4gICAgICAgICAgICBob3N0OiBkYXRhLmhvc3QsXG4gICAgICAgICAgICBwbGF5ZXJzSW5Mb2JieTogZGF0YS5wbGF5ZXJzX2luX2xvYmJ5XG4gICAgICAgICAgfSlcbiAgICAgICAgICBcbiAgICAgICAgICBzZXRNZXNzYWdlcyhwcmV2ID0+IFsuLi5wcmV2LCB7XG4gICAgICAgICAgICBpZDogRGF0ZS5ub3coKSxcbiAgICAgICAgICAgIHR5cGU6ICdzeXN0ZW0nLFxuICAgICAgICAgICAgbWVzc2FnZTogYCR7ZGF0YS51c2VybmFtZX0gJHtkYXRhLmV2ZW50LnJlcGxhY2UoJ18nLCAnICcpfWAsXG4gICAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKClcbiAgICAgICAgICB9XSlcbiAgICAgICAgICBicmVha1xuICAgICAgICBcbiAgICAgICAgY2FzZSAndXNlcl9jb25uZWN0ZWQnOlxuICAgICAgICAgIGNvbnNvbGUubG9nKFwiVXNlciBjb25uZWN0ZWQ6XCIsIGRhdGEucGxheWVyc19pbl9sb2JieSlcbiAgICAgICAgICBzZXRQbGF5ZXJzKGRhdGEucGxheWVyc19pbl9sb2JieSB8fCBbXSlcbiAgICAgICAgICBcbiAgICAgICAgICBzZXRNZXNzYWdlcyhwcmV2ID0+IFsuLi5wcmV2LCB7XG4gICAgICAgICAgICBpZDogRGF0ZS5ub3coKSxcbiAgICAgICAgICAgIHR5cGU6ICdzeXN0ZW0nLFxuICAgICAgICAgICAgbWVzc2FnZTogYCR7ZGF0YS5wbGF5ZXJ9IGVudGVyZWQgdGhlIGxvYmJ5YCxcbiAgICAgICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKVxuICAgICAgICAgIH1dKVxuICAgICAgICAgIGJyZWFrXG5cbiAgICAgICAgY2FzZSAncGxheWVyX2tpY2tlZCc6XG4gICAgICAgICAgc2V0TWVzc2FnZXMocHJldiA9PiBbLi4ucHJldiwge1xuICAgICAgICAgICAgaWQ6IERhdGUubm93KCksXG4gICAgICAgICAgICB0eXBlOiAnc3lzdGVtJyxcbiAgICAgICAgICAgIG1lc3NhZ2U6IGAke2RhdGEua2lja2VkX3VzZXJuYW1lfSB3YXMga2lja2VkIGZyb20gdGhlIGxvYmJ5LiBSZWFzb246ICR7ZGF0YS5yZWFzb259YCxcbiAgICAgICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKVxuICAgICAgICAgIH1dKVxuICAgICAgICAgIGJyZWFrXG5cbiAgICAgICAgY2FzZSAnZ2FtZV9zdGFydGVkJzpcbiAgICAgICAgICBzZXRWaWRlb1VybChkYXRhLnVybClcbiAgICAgICAgICBzZXRHYW1lU3RhcnRlZCh0cnVlKVxuICAgICAgICAgIHNldE1lc3NhZ2VzKHByZXYgPT4gWy4uLnByZXYsIHtcbiAgICAgICAgICAgIGlkOiBEYXRlLm5vdygpLFxuICAgICAgICAgICAgdHlwZTogJ3N5c3RlbScsXG4gICAgICAgICAgICBtZXNzYWdlOiBgR2FtZSBzdGFydGVkIGJ5ICR7ZGF0YS5zdGFydGVkX2J5fSFgLFxuICAgICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpXG4gICAgICAgICAgfV0pXG4gICAgICAgICAgdG9hc3Qoe1xuICAgICAgICAgICAgdGl0bGU6IFwiR2FtZSBTdGFydGVkIVwiLFxuICAgICAgICAgICAgZGVzY3JpcHRpb246IGRhdGEubWVzc2FnZSxcbiAgICAgICAgICB9KVxuICAgICAgICAgIGJyZWFrXG5cbiAgICAgICAgY2FzZSAnbG9iYnlfY2xvc2VkJzpcbiAgICAgICAgICBzZXRNZXNzYWdlcyhwcmV2ID0+IFsuLi5wcmV2LCB7XG4gICAgICAgICAgICBpZDogRGF0ZS5ub3coKSxcbiAgICAgICAgICAgIHR5cGU6ICdzeXN0ZW0nLFxuICAgICAgICAgICAgbWVzc2FnZTogZGF0YS5tZXNzYWdlLFxuICAgICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpXG4gICAgICAgICAgfV0pXG4gICAgICAgICAgdG9hc3Qoe1xuICAgICAgICAgICAgdGl0bGU6IFwiTG9iYnkgQ2xvc2VkXCIsXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogZGF0YS5tZXNzYWdlLFxuICAgICAgICAgICAgdmFyaWFudDogXCJkZXN0cnVjdGl2ZVwiLFxuICAgICAgICAgIH0pXG4gICAgICAgICAgYnJlYWtcblxuICAgICAgICBjYXNlICdsb2JieV9kaXNiYW5kZWQnOlxuICAgICAgICAgIHNldE1lc3NhZ2VzKHByZXYgPT4gWy4uLnByZXYsIHtcbiAgICAgICAgICAgIGlkOiBEYXRlLm5vdygpLFxuICAgICAgICAgICAgdHlwZTogJ3N5c3RlbScsXG4gICAgICAgICAgICBtZXNzYWdlOiBkYXRhLm1lc3NhZ2UsXG4gICAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKClcbiAgICAgICAgICB9XSlcbiAgICAgICAgICB0b2FzdCh7XG4gICAgICAgICAgICB0aXRsZTogXCJMb2JieSBEaXNiYW5kZWRcIixcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBkYXRhLm1lc3NhZ2UsXG4gICAgICAgICAgICB2YXJpYW50OiBcImRlc3RydWN0aXZlXCIsICAgICAgICAgIH0pXG4gICAgICAgICAgYnJlYWtcblxuICAgICAgICBjYXNlICdzZXR0aW5nc19jaGFuZ2VkJzpcbiAgICAgICAgICBzZXRNZXNzYWdlcyhwcmV2ID0+IFsuLi5wcmV2LCB7XG4gICAgICAgICAgICBpZDogRGF0ZS5ub3coKSxcbiAgICAgICAgICAgIHR5cGU6ICdzeXN0ZW0nLFxuICAgICAgICAgICAgbWVzc2FnZTogZGF0YS5tZXNzYWdlLFxuICAgICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpXG4gICAgICAgICAgfV0pXG4gICAgICAgICAgdG9hc3Qoe1xuICAgICAgICAgICAgdGl0bGU6IFwiU2V0dGluZ3MgVXBkYXRlZFwiLFxuICAgICAgICAgICAgZGVzY3JpcHRpb246IGRhdGEubWVzc2FnZSxcbiAgICAgICAgICB9KVxuICAgICAgICAgIGJyZWFrXG5cbiAgICAgICAgLy8gRmFjZSBkZXRlY3Rpb24gZXZlbnRzXG4gICAgICAgIGNhc2UgJ2ZhY2VfZGV0ZWN0aW9uX3VwZGF0ZSc6XG4gICAgICAgICAgLy8gSGFuZGxlIGZhY2UgZGV0ZWN0aW9uIHVwZGF0ZXMgZnJvbSBvdGhlciBwbGF5ZXJzXG4gICAgICAgICAgY29uc29sZS5sb2coXCJGYWNlIGRldGVjdGlvbiB1cGRhdGU6XCIsIGRhdGEpXG4gICAgICAgICAgYnJlYWtcblxuICAgICAgICBjYXNlICdwbGF5ZXJfdmVyaWZpZWQnOlxuICAgICAgICAgIHNldFZlcmlmaWVkVXNlcm5hbWUoZGF0YS52ZXJpZmllZF91c2VybmFtZXMgfHwgZGF0YS51c2VybmFtZSlcbiAgICAgICAgICBzZXRNZXNzYWdlcyhwcmV2ID0+IFsuLi5wcmV2LCB7XG4gICAgICAgICAgICBpZDogRGF0ZS5ub3coKSxcbiAgICAgICAgICAgIHR5cGU6ICdzeXN0ZW0nLFxuICAgICAgICAgICAgbWVzc2FnZTogYCR7ZGF0YS52ZXJpZmllZF91c2VybmFtZXN9IGhhcyBiZWVuIHZlcmlmaWVkIHZpYSAke2RhdGEudmVyaWZpY2F0aW9uX21ldGhvZCB8fCAnZmFjZSBkZXRlY3Rpb24nfWAsXG4gICAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKClcbiAgICAgICAgICB9XSlcbiAgICAgICAgICB0b2FzdCh7XG4gICAgICAgICAgICB0aXRsZTogXCJQbGF5ZXIgVmVyaWZpZWRcIixcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBgJHtkYXRhLnZlcmlmaWVkX3VzZXJuYW1lc30gaGFzIGJlZW4gdmVyaWZpZWRgLFxuICAgICAgICAgIH0pXG4gICAgICAgICAgYnJlYWtcblxuICAgICAgICBjYXNlICdnYW1lX3ZpZGVvJzpcbiAgICAgICAgICBzZXRWaWRlb1VybChkYXRhLnVybClcbiAgICAgICAgICBzZXRNZXNzYWdlcyhwcmV2ID0+IFsuLi5wcmV2LCB7XG4gICAgICAgICAgICBpZDogRGF0ZS5ub3coKSxcbiAgICAgICAgICAgIHR5cGU6ICdzeXN0ZW0nLFxuICAgICAgICAgICAgbWVzc2FnZTogYEdhbWUgdmlkZW8gYXZhaWxhYmxlIGF0ICR7ZGF0YS51cmx9YCxcbiAgICAgICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKVxuICAgICAgICAgIH1dKVxuICAgICAgICAgIHRvYXN0KHtcbiAgICAgICAgICAgIHRpdGxlOiBcIkdhbWUgVmlkZW8gQXZhaWxhYmxlXCIsXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogYEdhbWUgdmlkZW8gYXZhaWxhYmxlIGF0ICR7ZGF0YS51cmx9YCxcbiAgICAgICAgICB9KVxuICAgICAgICAgIGJyZWFrXG5cbiAgICAgICAgY2FzZSAnZW1vdGlvbl9wcmVkaWN0aW9uX3VwZGF0ZSc6XG4gICAgICAgICAgYnJlYWtcblxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGNvbnNvbGUubG9nKFwiVW5oYW5kbGVkIGxvYmJ5IGV2ZW50OlwiLCBkYXRhLmV2ZW50KVxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoZGF0YS50eXBlID09PSAncHJpdmF0ZV9tZXNzYWdlJyAmJiBkYXRhLm1lc3NhZ2VfdHlwZSAhPT0gJ2Vtb3Rpb25fcHJlZGljdGlvbl91cGRhdGUnKSB7XG4gICAgICB0b2FzdCh7XG4gICAgICAgIHRpdGxlOiBkYXRhLm1lc3NhZ2VfdHlwZSA9PT0gJ2Vycm9yJyA/IFwiRXJyb3JcIiA6IFwiU3VjY2Vzc1wiLFxuICAgICAgICBkZXNjcmlwdGlvbjogZGF0YS5tZXNzYWdlLFxuICAgICAgICB2YXJpYW50OiBkYXRhLm1lc3NhZ2VfdHlwZSA9PT0gJ2Vycm9yJyA/IFwiZGVzdHJ1Y3RpdmVcIiA6IFwiZGVmYXVsdFwiLFxuICAgICAgfSlcbiAgICB9IGVsc2UgaWYoZGF0YS50eXBlID09PSAncHJpdmF0ZV9tZXNzYWdlJyAmJiBkYXRhLm1lc3NhZ2VfdHlwZSA9PT0gJ2Vtb3Rpb25fcHJlZGljdGlvbl91cGRhdGUnKXtcbiAgICAgICAgICBjb25zb2xlLmxvZyhcIkNoZWNraW5nIExBVUdIIE1FVEVSIElOIFNPQ0tFVFwiKSAvLyBBZGRlZCBjYXNlIGZvciBlbW90aW9uX3ByZWRpY3Rpb25fdXBkYXRlXG4gICAgICAgICAgaWYgKGRhdGEubWVzc2FnZSkge1xuICAgICAgICAgICAgc2V0TGF1Z2hNZXRlcnMoZGF0YS5tZXNzYWdlKVxuICAgICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSBpZiAoZGF0YS50eXBlID09PSAna2lja2VkJykge1xuICAgICAgdG9hc3Qoe1xuICAgICAgICB0aXRsZTogXCJLaWNrZWQgZnJvbSBMb2JieVwiLFxuICAgICAgICBkZXNjcmlwdGlvbjogZGF0YS5tZXNzYWdlLFxuICAgICAgICB2YXJpYW50OiBcImRlc3RydWN0aXZlXCIsXG4gICAgICB9KVxuICAgICAgLy8gSGFuZGxlIGJlaW5nIGtpY2tlZCAobWF5YmUgcmVkaXJlY3QpXG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBcIi9cIlxuICAgICAgfSwgMzAwMClcbiAgICB9IGVsc2UgaWYgKGRhdGEudHlwZSA9PT0gJ211dGVkJykge1xuICAgICAgdG9hc3Qoe1xuICAgICAgICB0aXRsZTogXCJNdXRlZFwiLFxuICAgICAgICBkZXNjcmlwdGlvbjogZGF0YS5tZXNzYWdlLFxuICAgICAgICB2YXJpYW50OiBcImRlc3RydWN0aXZlXCIsXG4gICAgICB9KVxuICAgIH0gZWxzZSBpZiAoZGF0YS50eXBlID09PSAndW5tdXRlZCcpIHtcbiAgICAgIHRvYXN0KHtcbiAgICAgICAgdGl0bGU6IFwiVW5tdXRlZFwiLFxuICAgICAgICBkZXNjcmlwdGlvbjogZGF0YS5tZXNzYWdlLFxuICAgICAgfSlcbiAgICB9XG4gIH1cblxuICBjb25zdCBzZW5kTWVzc2FnZSA9IHVzZUNhbGxiYWNrKCh0eXBlLCBwYXlsb2FkID0ge30pID0+IHtcbiAgICBpZiAoc29ja2V0UmVmLmN1cnJlbnQgJiYgc29ja2V0UmVmLmN1cnJlbnQucmVhZHlTdGF0ZSA9PT0gV2ViU29ja2V0Lk9QRU4pIHtcbiAgICAgIHNvY2tldFJlZi5jdXJyZW50LnNlbmQoSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICB0eXBlLFxuICAgICAgICBwYXlsb2FkXG4gICAgICB9KSlcbiAgICB9IGVsc2Uge1xuICAgICAgdG9hc3Qoe1xuICAgICAgICB0aXRsZTogXCJDb25uZWN0aW9uIEVycm9yXCIsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBcIk5vdCBjb25uZWN0ZWQgdG8gdGhlIHNlcnZlclwiLFxuICAgICAgICB2YXJpYW50OiBcImRlc3RydWN0aXZlXCIsXG4gICAgICB9KVxuICAgIH1cbiAgfSwgW3RvYXN0XSlcblxuICAvLyBDb252ZW5pZW5jZSBtZXRob2RzIGZvciBjb21tb24gYWN0aW9uc1xuICBjb25zdCBzZW5kQ2hhdE1lc3NhZ2UgPSB1c2VDYWxsYmFjaygodGV4dCkgPT4ge1xuICAgIHNlbmRNZXNzYWdlKCdjaGF0X21lc3NhZ2UnLCB7IHRleHQgfSlcbiAgfSwgW3NlbmRNZXNzYWdlXSlcblxuICBjb25zdCBsZWF2ZUxvYmJ5ID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIHNlbmRNZXNzYWdlKCdsZWF2ZV9sb2JieScpXG4gIH0sIFtzZW5kTWVzc2FnZV0pXG5cbiAgY29uc3Qga2lja1BsYXllciA9IHVzZUNhbGxiYWNrKCh1c2VybmFtZSwgcmVhc29uID0gJycpID0+IHtcbiAgICBzZW5kTWVzc2FnZSgna2lja19wbGF5ZXInLCB7IHVzZXJuYW1lLCByZWFzb24gfSlcbiAgfSwgW3NlbmRNZXNzYWdlXSlcblxuICBjb25zdCBzdGFydEdhbWUgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgc2VuZE1lc3NhZ2UoJ3N0YXJ0X2dhbWUnKVxuICB9LCBbc2VuZE1lc3NhZ2VdKVxuXG4gIGNvbnN0IGNsb3NlTG9iYnkgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgc2VuZE1lc3NhZ2UoJ2Nsb3NlX2xvYmJ5JylcbiAgfSwgW3NlbmRNZXNzYWdlXSlcblxuICBjb25zdCBkaXNiYW5kTG9iYnkgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgc2VuZE1lc3NhZ2UoJ2Rpc2JhbmRfbG9iYnknKVxuICB9LCBbc2VuZE1lc3NhZ2VdKVxuXG4gIGNvbnN0IG11dGVQbGF5ZXIgPSB1c2VDYWxsYmFjaygodXNlcm5hbWUpID0+IHtcbiAgICBzZW5kTWVzc2FnZSgnbXV0ZV9wbGF5ZXInLCB7IHVzZXJuYW1lIH0pXG4gIH0sIFtzZW5kTWVzc2FnZV0pXG5cbiAgY29uc3QgdW5tdXRlUGxheWVyID0gdXNlQ2FsbGJhY2soKHVzZXJuYW1lKSA9PiB7XG4gICAgc2VuZE1lc3NhZ2UoJ3VubXV0ZV9wbGF5ZXInLCB7IHVzZXJuYW1lIH0pXG4gIH0sIFtzZW5kTWVzc2FnZV0pXG5cbiAgY29uc3QgY2hhbmdlU2V0dGluZ3MgPSB1c2VDYWxsYmFjaygoc2V0dGluZ3MpID0+IHtcbiAgICBzZW5kTWVzc2FnZSgnY2hhbmdlX3NldHRpbmdzJywgc2V0dGluZ3MpXG4gIH0sIFtzZW5kTWVzc2FnZV0pXG5cbiAgY29uc3QgZGlzY29ubmVjdCA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBpZiAoc29ja2V0UmVmLmN1cnJlbnQpIHtcbiAgICAgIHNvY2tldFJlZi5jdXJyZW50LmNsb3NlKClcbiAgICB9XG4gIH0sIFtdKVxuXG4gIC8vIENvbm5lY3Qgb24gbW91bnQsIGNsZWFudXAgb24gdW5tb3VudFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbm5lY3QoKVxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBkaXNjb25uZWN0KClcbiAgICB9XG4gIH0sIFtjb25uZWN0LCBkaXNjb25uZWN0XSlcbiAgY29uc29sZS5sb2coXCJMYXVnaCBNZXRlcnMgZnJvbSB3ZWJzb2NrZXQ6XCIsIGxhdWdoTWV0ZXJzKSAvLyBMb2cgbGF1Z2hNZXRlcnMgZm9yIGRlYnVnZ2luZ1xuICByZXR1cm4ge1xuICAgIGlzQ29ubmVjdGVkLFxuICAgIG1lc3NhZ2VzLFxuICAgIHBsYXllcnMsXG4gICAgbG9iYnlJbmZvLFxuICAgIGNvbm5lY3Rpb25FcnJvcixcbiAgICB2ZXJpZmllZF91c2VybmFtZXMsXG4gICAgZ2FtZV9zdGFydGVkLFxuICAgIHZpZGVvX3VybCxcbiAgICBsYXVnaE1ldGVycywgLy8gUmV0dXJuIGxhdWdoTWV0ZXJzXG4gICAgZGF0YSxcbiAgICBzZW5kQ2hhdE1lc3NhZ2UsXG4gICAgbGVhdmVMb2JieSxcbiAgICBraWNrUGxheWVyLFxuICAgIHN0YXJ0R2FtZSxcbiAgICBjbG9zZUxvYmJ5LFxuICAgIGRpc2JhbmRMb2JieSxcbiAgICBtdXRlUGxheWVyLFxuICAgIHVubXV0ZVBsYXllcixcbiAgICBjaGFuZ2VTZXR0aW5ncyxcbiAgICBzZW5kTWVzc2FnZSxcbiAgICBkaXNjb25uZWN0LFxuICB9XG59XG4iXSwibmFtZXMiOlsidXNlU3RhdGUiLCJ1c2VFZmZlY3QiLCJ1c2VSZWYiLCJ1c2VDYWxsYmFjayIsInVzZVRvYXN0Iiwic2V0IiwiV0VCU09DS0VUX0JBU0VfVVJMIiwidXNlV2ViU29ja2V0IiwibG9iYnlDb2RlIiwidXNlcm5hbWUiLCJ1c2VyVG9rZW4iLCJyb2xlIiwiaXNDb25uZWN0ZWQiLCJzZXRJc0Nvbm5lY3RlZCIsIm1lc3NhZ2VzIiwic2V0TWVzc2FnZXMiLCJwbGF5ZXJzIiwic2V0UGxheWVycyIsImxvYmJ5SW5mbyIsInNldExvYmJ5SW5mbyIsImNvbm5lY3Rpb25FcnJvciIsInNldENvbm5lY3Rpb25FcnJvciIsInZlcmlmaWVkX3VzZXJuYW1lcyIsInNldFZlcmlmaWVkVXNlcm5hbWUiLCJnYW1lX3N0YXJ0ZWQiLCJzZXRHYW1lU3RhcnRlZCIsInZpZGVvX3VybCIsInNldFZpZGVvVXJsIiwibGF1Z2hNZXRlcnMiLCJzZXRMYXVnaE1ldGVycyIsImRhdGEiLCJzZXREYXRhIiwic29ja2V0UmVmIiwidG9hc3QiLCJjb25uZWN0Iiwid3NVUkwiLCJjdXJyZW50IiwiV2ViU29ja2V0Iiwib25vcGVuIiwiY29uc29sZSIsImxvZyIsIm9ubWVzc2FnZSIsImV2ZW50IiwiSlNPTiIsInBhcnNlIiwiaGFuZGxlTWVzc2FnZSIsImVycm9yIiwib25lcnJvciIsIm9uY2xvc2UiLCJjb2RlIiwicmVhc29uIiwiZXJyb3JNZXNzYWdlcyIsInRpdGxlIiwiZGVzY3JpcHRpb24iLCJ2YXJpYW50IiwidHlwZSIsInByZXYiLCJpZCIsIkRhdGUiLCJub3ciLCJtZXNzYWdlIiwic2VuZGVyIiwic2VuZGVyX3VzZXJuYW1lIiwic2VuZGVyUm9sZSIsInNlbmRlcl9yb2xlIiwidGltZXN0YW1wIiwicGxheWVyc19pbl9sb2JieSIsImxvYmJ5X2NvZGUiLCJuYW1lIiwibG9iYnlfbmFtZSIsImhvc3QiLCJwbGF5ZXJzSW5Mb2JieSIsInJlcGxhY2UiLCJwbGF5ZXIiLCJraWNrZWRfdXNlcm5hbWUiLCJ1cmwiLCJzdGFydGVkX2J5IiwidmVyaWZpY2F0aW9uX21ldGhvZCIsIm1lc3NhZ2VfdHlwZSIsInNldFRpbWVvdXQiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsImhyZWYiLCJzZW5kTWVzc2FnZSIsInBheWxvYWQiLCJyZWFkeVN0YXRlIiwiT1BFTiIsInNlbmQiLCJzdHJpbmdpZnkiLCJzZW5kQ2hhdE1lc3NhZ2UiLCJ0ZXh0IiwibGVhdmVMb2JieSIsImtpY2tQbGF5ZXIiLCJzdGFydEdhbWUiLCJjbG9zZUxvYmJ5IiwiZGlzYmFuZExvYmJ5IiwibXV0ZVBsYXllciIsInVubXV0ZVBsYXllciIsImNoYW5nZVNldHRpbmdzIiwic2V0dGluZ3MiLCJkaXNjb25uZWN0IiwiY2xvc2UiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./hooks/use-websocket.js\n"));

/***/ })

});