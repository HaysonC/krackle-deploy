"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/game/page",{

/***/ "(app-pages-browser)/./app/game/page.jsx":
/*!***************************!*\
  !*** ./app/game/page.jsx ***!
  \***************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ GamePage)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_navigation__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/navigation */ \"(app-pages-browser)/./node_modules/next/dist/api/navigation.js\");\n/* harmony import */ var _components_ui_use_toast__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/components/ui/use-toast */ \"(app-pages-browser)/./components/ui/use-toast.ts\");\n/* harmony import */ var _components_ui_button__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/components/ui/button */ \"(app-pages-browser)/./components/ui/button.tsx\");\n/* harmony import */ var _barrel_optimize_names_Crown_Loader2_LogOut_Play_RefreshCw_Users_lucide_react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! __barrel_optimize__?names=Crown,Loader2,LogOut,Play,RefreshCw,Users!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/users.js\");\n/* harmony import */ var _barrel_optimize_names_Crown_Loader2_LogOut_Play_RefreshCw_Users_lucide_react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! __barrel_optimize__?names=Crown,Loader2,LogOut,Play,RefreshCw,Users!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/crown.js\");\n/* harmony import */ var _barrel_optimize_names_Crown_Loader2_LogOut_Play_RefreshCw_Users_lucide_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! __barrel_optimize__?names=Crown,Loader2,LogOut,Play,RefreshCw,Users!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/loader-circle.js\");\n/* harmony import */ var _barrel_optimize_names_Crown_Loader2_LogOut_Play_RefreshCw_Users_lucide_react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! __barrel_optimize__?names=Crown,Loader2,LogOut,Play,RefreshCw,Users!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/refresh-cw.js\");\n/* harmony import */ var _barrel_optimize_names_Crown_Loader2_LogOut_Play_RefreshCw_Users_lucide_react__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! __barrel_optimize__?names=Crown,Loader2,LogOut,Play,RefreshCw,Users!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/play.js\");\n/* harmony import */ var _barrel_optimize_names_Crown_Loader2_LogOut_Play_RefreshCw_Users_lucide_react__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! __barrel_optimize__?names=Crown,Loader2,LogOut,Play,RefreshCw,Users!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/log-out.js\");\n/* harmony import */ var _hooks_use_websocket__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/hooks/use-websocket */ \"(app-pages-browser)/./hooks/use-websocket.js\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\n\n\n\n\n\nconst API_BASE_URL = \"https://cd6f-202-28-7-4.ngrok-free.app\";\nfunction GamePage() {\n    _s();\n    const [username, setUsername] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [lobbyCode, setLobbyCode] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [userToken, setUserToken] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [role, setRole] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"player\");\n    const [isLoadingVideo, setIsLoadingVideo] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [verifiedPlayers, setVerifiedPlayers] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [videoUrl, setVideoUrl] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [gameProgress, setGameProgress] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const [modelsLoaded, setModelsLoaded] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [faceApiLoaded, setFaceApiLoaded] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const videoContainerRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const videoElementRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null); // Added ref for video element\n    const router = (0,next_navigation__WEBPACK_IMPORTED_MODULE_2__.useRouter)();\n    const searchParams = (0,next_navigation__WEBPACK_IMPORTED_MODULE_2__.useSearchParams)();\n    const { toast } = (0,_components_ui_use_toast__WEBPACK_IMPORTED_MODULE_3__.useToast)();\n    const { isConnected, messages, players, lobbyInfo, connectionError, verified_usernames, game_started, video_url, laughMeters, data, sendChatMessage, leaveLobby, kickPlayer, startGame, closeLobby, disbandLobby, mutePlayer, unmutePlayer, changeSettings, sendMessage, disconnect } = (0,_hooks_use_websocket__WEBPACK_IMPORTED_MODULE_5__.useWebSocket)(lobbyCode, username, userToken, role);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"GamePage.useEffect\": ()=>{\n            if (window.faceapi) {\n                setFaceApiLoaded(true);\n                return;\n            }\n            const script = document.createElement('script');\n            script.src = 'https://cdn.jsdelivr.net/npm/face-api.js@0.22.2/dist/face-api.min.js';\n            script.async = true;\n            script.onload = ({\n                \"GamePage.useEffect\": ()=>{\n                    setFaceApiLoaded(true);\n                    toast({\n                        title: \"FaceAPI Script Loaded\",\n                        description: \"Face detection capabilities are now active.\"\n                    });\n                }\n            })[\"GamePage.useEffect\"];\n            script.onerror = ({\n                \"GamePage.useEffect\": ()=>{\n                    toast({\n                        title: \"FaceAPI Load Error\",\n                        description: \"Failed to load face detection script.\",\n                        variant: \"destructive\"\n                    });\n                }\n            })[\"GamePage.useEffect\"];\n            document.body.appendChild(script);\n        // No cleanup needed for CDN script that might be used by other pages\n        }\n    }[\"GamePage.useEffect\"], [\n        toast\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"GamePage.useEffect\": ()=>{\n            const storedUsername = localStorage.getItem(\"krackle_username\");\n            const storedLobby = localStorage.getItem(\"krackle_lobby\");\n            const storedToken = localStorage.getItem(\"krackle_user_token\");\n            const storedRole = localStorage.getItem(\"krackle_role\");\n            if (!storedUsername || !storedLobby && !urlLobbyCode) {\n                toast({\n                    title: \"Session expired\",\n                    description: \"Please join a lobby again\",\n                    variant: \"destructive\"\n                });\n                router.push(\"/\");\n                return;\n            }\n            setUsername(storedUsername);\n            setLobbyCode(storedLobby || urlLobbyCode);\n            const websocketRole = storedRole === \"admin\" ? \"lobby-admin\" : storedRole || \"player\";\n            setRole(websocketRole);\n            if (storedRole === \"admin\") {\n                setUserToken(storedAdminToken);\n            } else if (storedRole === \"player\") {\n                setUserToken(storedToken);\n            } else {\n                toast({\n                    title: \"Invalid session\",\n                    description: \"Missing authentication token\",\n                    variant: \"destructive\"\n                });\n                router.push(\"/\");\n                return;\n            }\n            if (storedRole === \"admin\") {\n                requestNewVideo();\n            }\n            if (!faceApiLoaded || modelsLoaded) return;\n            const loadModels = {\n                \"GamePage.useEffect.loadModels\": async ()=>{\n                    const MODEL_URL = '/models';\n                    if (!window.faceapi) {\n                        toast({\n                            title: \"FaceAPI Not Ready\",\n                            description: \"Cannot load models yet.\",\n                            variant: \"warning\"\n                        });\n                        return;\n                    }\n                    try {\n                        toast({\n                            title: \"Loading Face Models\",\n                            description: \"Please wait...\"\n                        });\n                        await window.faceapi.nets.tinyFaceDetector.loadFromUri(MODEL_URL);\n                        setModelsLoaded(true);\n                        setFaceApiLoaded(true);\n                        toast({\n                            title: \"Face Models Loaded\",\n                            description: \"Ready for face detection.\"\n                        });\n                    } catch (error) {\n                        console.error(\"Error loading face detection models:\", error);\n                        toast({\n                            title: \"Model Load Error\",\n                            description: \"Could not load face detection models.\",\n                            variant: \"destructive\"\n                        });\n                    }\n                }\n            }[\"GamePage.useEffect.loadModels\"];\n            loadModels();\n        }\n    }[\"GamePage.useEffect\"], [\n        router,\n        searchParams,\n        toast,\n        faceApiLoaded,\n        modelsLoaded\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"GamePage.useEffect\": ()=>{\n            const initWebcam = {\n                \"GamePage.useEffect.initWebcam\": async ()=>{\n                    try {\n                        const stream = await navigator.mediaDevices.getUserMedia({\n                            video: true\n                        });\n                        if (videoElementRef.current) {\n                            videoElementRef.current.srcObject = stream;\n                        }\n                    } catch (err) {\n                        console.error(\"Error accessing webcam:\", err);\n                        toast({\n                            title: \"Webcam Error\",\n                            description: \"Could not access webcam. Please check permissions.\",\n                            variant: \"destructive\"\n                        });\n                    }\n                }\n            }[\"GamePage.useEffect.initWebcam\"];\n            initWebcam();\n            // Cleanup function to stop webcam tracks when component unmounts\n            return ({\n                \"GamePage.useEffect\": ()=>{\n                    if (videoElementRef.current && videoElementRef.current.srcObject) {\n                        const stream = videoElementRef.current.srcObject;\n                        const tracks = stream.getTracks();\n                        tracks.forEach({\n                            \"GamePage.useEffect\": (track)=>track.stop()\n                        }[\"GamePage.useEffect\"]);\n                        videoElementRef.current.srcObject = null;\n                    }\n                }\n            })[\"GamePage.useEffect\"];\n        }\n    }[\"GamePage.useEffect\"], [\n        toast\n    ]);\n    const requestNewVideo = async ()=>{\n        setIsLoadingVideo(true);\n        try {\n            if (isConnected && sendMessage) {\n                sendMessage(JSON.stringify({\n                    type: \"new_game_video\"\n                }));\n            } else {\n                toast({\n                    title: \"Connection error\",\n                    description: \"Not connected to server to request video.\",\n                    variant: \"destructive\"\n                });\n            }\n        } catch (error) {\n            toast({\n                title: \"Connection error\",\n                description: \"Could not connect to the game server.\",\n                variant: \"destructive\"\n            });\n            console.error(\"Error fetching video:\", error);\n        } finally{\n            setIsLoadingVideo(false);\n        }\n    };\n    const getYouTubeVideoId = (url)=>{\n        if (!url) return null;\n        const regExp = /^.*(youtu.be\\/|v\\/|u\\/\\w\\/|embed\\/|shorts\\/|watch\\?v=|&v=)([^#&?]*).*/;\n        const match = url.match(regExp);\n        return match && match[2].length === 11 ? match[2] : null;\n    };\n    const load_video_from_url = (video_url_from_ws)=>{\n        if (!video_url_from_ws || !videoContainerRef.current) {\n            console.warn(\"No video URL provided or container not found\");\n            return;\n        }\n        setVideoUrl(video_url_from_ws); // Update the videoUrl state\n        const container = videoContainerRef.current;\n        container.innerHTML = \"\";\n        const loadingOverlay = document.createElement(\"div\");\n        loadingOverlay.className = \"absolute inset-0 flex items-center justify-center bg-gradient-to-br from-purple-900/50 to-pink-900/50 backdrop-blur-sm z-10 transition-opacity duration-500\";\n        loadingOverlay.innerHTML = '\\n      <div class=\"text-center\">\\n        <div class=\"w-16 h-16 border-4 border-white/20 border-t-white rounded-full animate-spin mx-auto mb-4\"></div>\\n        <p class=\"text-white text-lg font-medium\">Loading video...</p>\\n      </div>\\n    ';\n        container.appendChild(loadingOverlay);\n        const videoId = getYouTubeVideoId(video_url_from_ws);\n        if (videoId) {\n            const iframe = document.createElement(\"iframe\");\n            iframe.className = \"absolute inset-0 w-full h-full\";\n            iframe.src = \"https://www.youtube.com/embed/\".concat(videoId, \"?autoplay=1&controls=0&disablekb=1&fs=0&modestbranding=1&rel=0&showinfo=0&iv_load_policy=3&enablejsapi=1&playsinline=1&mute=0\");\n            iframe.title = \"Game Video Player\";\n            iframe.frameBorder = \"0\";\n            iframe.allow = \"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\";\n            iframe.allowFullscreen = false;\n            iframe.style.pointerEvents = \"none\";\n            iframe.onload = ()=>{\n                loadingOverlay.style.opacity = \"0\";\n                setTimeout(()=>{\n                    if (loadingOverlay.parentNode) {\n                        loadingOverlay.parentNode.removeChild(loadingOverlay);\n                    }\n                }, 500);\n                toast({\n                    title: \"YouTube Video Loaded\",\n                    description: \"Playback started.\"\n                });\n            };\n            iframe.onerror = ()=>{\n                handleVideoError(\"Failed to load YouTube video\");\n            };\n            container.appendChild(iframe);\n        } else {\n            const video = document.createElement(\"video\");\n            video.className = \"w-full h-full object-cover rounded-xl\";\n            video.src = video_url_from_ws;\n            video.autoplay = true;\n            video.muted = true;\n            video.playsInline = true;\n            video.loop = false;\n            video.preload = \"auto\";\n            video.controls = false;\n            video.style.pointerEvents = \"none\";\n            video.onloadeddata = ()=>{\n                loadingOverlay.style.opacity = \"0\";\n                setTimeout(()=>{\n                    if (loadingOverlay.parentNode) {\n                        loadingOverlay.parentNode.removeChild(loadingOverlay);\n                    }\n                }, 500);\n                toast({\n                    title: \"Video File Loaded\",\n                    description: \"Playback started.\"\n                });\n            };\n            video.onerror = ()=>{\n                handleVideoError(\"Failed to load video file\");\n            };\n            container.appendChild(video);\n        }\n        function handleVideoError(errorMessage) {\n            if (loadingOverlay.parentNode) {\n                loadingOverlay.innerHTML = '\\n        <div class=\"text-center\">\\n          <p class=\"text-red-400 text-lg font-medium mb-2\">Video Load Error</p>\\n          <p class=\"text-white/70 text-sm\">'.concat(errorMessage, \"</p>\\n        </div>\\n      \");\n            }\n            toast({\n                title: \"Video Error\",\n                description: errorMessage,\n                variant: \"destructive\"\n            });\n        }\n    };\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"GamePage.useEffect\": ()=>{\n            if (video_url) {\n                load_video_from_url(video_url);\n            }\n        }\n    }[\"GamePage.useEffect\"], [\n        video_url\n    ]);\n    async function detectAndSendFace() {\n        const currentVideoElement = videoElementRef.current;\n        if (!currentVideoElement || currentVideoElement.paused || currentVideoElement.readyState < 3) {\n            return;\n        }\n        if (!window.faceapi) {\n            return;\n        }\n        try {\n            const options = new window.faceapi.TinyFaceDetectorOptions({\n                inputSize: 224,\n                scoreThreshold: 0.5\n            });\n            const detections = await window.faceapi.detectAllFaces(currentVideoElement, options);\n            if (detections.length === 0) {\n                return;\n            }\n            if (detections.length > 1) {\n                // toast({ title: \"Multiple faces detected\", description: \"Please ensure only one person is visible.\", variant: \"warning\" });\n                return;\n            }\n            const detection = detections[0];\n            const box = detection.detection ? detection.detection.box : detection.box;\n            if (!box) {\n                return;\n            }\n            const tempCanvas = document.createElement(\"canvas\");\n            const tempContext = tempCanvas.getContext(\"2d\");\n            const padding = 0.1;\n            const paddedWidth = box.width * (1 + padding * 2);\n            const paddedHeight = box.height * (1 + padding * 2);\n            const paddedX = box.x - box.width * padding;\n            const paddedY = box.y - box.height * padding;\n            const cropX = Math.max(0, paddedX);\n            const cropY = Math.max(0, paddedY);\n            const cropWidth = Math.min(paddedWidth, currentVideoElement.videoWidth - cropX);\n            const cropHeight = Math.min(paddedHeight, currentVideoElement.videoHeight - cropY);\n            if (cropWidth <= 0 || cropHeight <= 0) {\n                return;\n            }\n            tempCanvas.width = cropWidth;\n            tempCanvas.height = cropHeight;\n            tempContext.drawImage(currentVideoElement, cropX, cropY, cropWidth, cropHeight, 0, 0, cropWidth, cropHeight);\n            const imageDataUrl = tempCanvas.toDataURL(\"image/jpeg\", 0.7);\n            const base64Data = imageDataUrl.split(\",\")[1];\n            if (sendMessage) {\n                sendMessage(\"upload_image\", base64Data);\n            }\n        } catch (error) {\n            console.error(\"Face crop and send error:\", error);\n        // toast({\n        //   title: \"Face Detection Error\",\n        //   description: `Failed to crop and send face: ${error.message}`,\n        //   variant: \"destructive\",\n        // });\n        }\n    }\n    // Renamed to avoid conflict with detectAndSendFace which is async\n    function triggerFaceImageSend() {\n        if (!isConnected) {\n            return;\n        }\n        const currentVideoElement = videoElementRef.current;\n        if (!currentVideoElement || currentVideoElement.paused) {\n            return;\n        }\n        if (!modelsLoaded || !faceApiLoaded) {\n            return;\n        }\n        detectAndSendFace(); // Call the async function\n    }\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"GamePage.useEffect\": ()=>{\n            let intervalId;\n            if (isConnected && modelsLoaded && faceApiLoaded) {\n                intervalId = setInterval({\n                    \"GamePage.useEffect\": ()=>{\n                        triggerFaceImageSend(); // Use the renamed wrapper function\n                    }\n                }[\"GamePage.useEffect\"], 500);\n            }\n            return ({\n                \"GamePage.useEffect\": ()=>{\n                    if (intervalId) {\n                        clearInterval(intervalId);\n                    }\n                }\n            })[\"GamePage.useEffect\"];\n        }\n    }[\"GamePage.useEffect\"], [\n        isConnected,\n        modelsLoaded,\n        faceApiLoaded,\n        lobbyCode,\n        username,\n        sendMessage\n    ]); // Added relevant dependencies\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"GamePage.useEffect\": ()=>{\n            return ({\n                \"GamePage.useEffect\": ()=>{\n                    var _videoContainerRef_current;\n                    if ((_videoContainerRef_current = videoContainerRef.current) === null || _videoContainerRef_current === void 0 ? void 0 : _videoContainerRef_current._cleanup) {\n                        videoContainerRef.current._cleanup();\n                    }\n                }\n            })[\"GamePage.useEffect\"];\n        }\n    }[\"GamePage.useEffect\"], []);\n    const handleLeaveGame = ()=>{\n        disconnect();\n        router.push(\"/lobby\");\n    };\n    if (connectionError) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"min-h-screen flex items-center justify-center bg-gradient-to-br from-purple-600 via-pink-600 to-blue-600 p-4\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"bg-white/95 backdrop-blur-xl rounded-3xl p-8 text-center\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                        className: \"text-2xl font-bold text-red-600 mb-4\",\n                        children: \"Connection Error\"\n                    }, void 0, false, {\n                        fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                        lineNumber: 428,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"text-gray-700 mb-4\",\n                        children: connectionError\n                    }, void 0, false, {\n                        fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                        lineNumber: 429,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_4__.Button, {\n                        onClick: ()=>router.push(\"/lobby\"),\n                        className: \"bg-purple-600 hover:bg-purple-700\",\n                        children: \"Return to Lobby\"\n                    }, void 0, false, {\n                        fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                        lineNumber: 430,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                lineNumber: 427,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n            lineNumber: 426,\n            columnNumber: 7\n        }, this);\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"min-h-screen flex flex-col bg-gradient-to-br from-purple-600 via-pink-600 to-blue-600\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"text-center py-4\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                        className: \"text-white text-4xl font-bold tracking-wide\",\n                        children: [\n                            \"KRACKLE\",\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: \"text-yellow-300\",\n                                children: \".CO\"\n                            }, void 0, false, {\n                                fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                lineNumber: 442,\n                                columnNumber: 18\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                        lineNumber: 441,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                        className: \"text-white text-xl mt-1\",\n                        children: [\n                            \"Game: \",\n                            lobbyCode\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                        lineNumber: 444,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                lineNumber: 440,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex flex-col md:flex-row flex-1 p-4 gap-4\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"w-full md:w-64 bg-white/10 backdrop-blur-md rounded-xl p-4\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                className: \"text-white text-xl font-bold mb-4 flex items-center gap-2\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Crown_Loader2_LogOut_Play_RefreshCw_Users_lucide_react__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n                                        className: \"w-5 h-5\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                        lineNumber: 450,\n                                        columnNumber: 13\n                                    }, this),\n                                    \" Players\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                lineNumber: 449,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"space-y-2 max-h-[60vh] overflow-y-auto\",\n                                children: players.length > 0 ? players.map((player, index)=>{\n                                    const isVerified = verifiedPlayers.includes(player) // REVERTED: Check directly against player string\n                                    ;\n                                    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"p-3 rounded-lg \".concat(isVerified ? \"bg-gradient-to-r from-green-200/80 to-green-100/80 backdrop-blur-md\" : \"bg-gray-200/80 backdrop-blur-md\", \" flex items-center\"),\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"h-8 w-8 rounded-full \".concat(isVerified ? \"bg-gradient-to-r from-green-500 to-emerald-500\" : \"bg-gray-500\", \" text-white flex items-center justify-center mr-3\"),\n                                                children: player.charAt(0).toUpperCase()\n                                            }, void 0, false, {\n                                                fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                                lineNumber: 466,\n                                                columnNumber: 21\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"font-medium\",\n                                                children: [\n                                                    player,\n                                                    \" \",\n                                                    player === username && \"(You)\"\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                                lineNumber: 473,\n                                                columnNumber: 21\n                                            }, this),\n                                            index === 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Crown_Loader2_LogOut_Play_RefreshCw_Users_lucide_react__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n                                                className: \"w-4 h-4 text-yellow-500 ml-2\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                                lineNumber: 477,\n                                                columnNumber: 37\n                                            }, this)\n                                        ]\n                                    }, index, true, {\n                                        fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                        lineNumber: 458,\n                                        columnNumber: 19\n                                    }, this);\n                                }) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"text-center py-4 text-white\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Crown_Loader2_LogOut_Play_RefreshCw_Users_lucide_react__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n                                            className: \"w-6 h-6 animate-spin mx-auto mb-2\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                            lineNumber: 483,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                            children: \"Loading players...\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                            lineNumber: 484,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                    lineNumber: 482,\n                                    columnNumber: 15\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                lineNumber: 452,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                        lineNumber: 448,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex-1 flex items-center justify-center\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"w-[400px] bg-white rounded-xl p-4 h-[600px] flex flex-col\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex justify-between items-center mb-4\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                            className: \"text-2xl font-bold\",\n                                            children: \"Game Video\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                            lineNumber: 493,\n                                            columnNumber: 15\n                                        }, this),\n                                        role === \"lobby-admin\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_4__.Button, {\n                                            onClick: requestNewVideo,\n                                            disabled: isLoadingVideo,\n                                            className: \"bg-purple-600 hover:bg-purple-700 text-white\",\n                                            children: isLoadingVideo ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Crown_Loader2_LogOut_Play_RefreshCw_Users_lucide_react__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n                                                        className: \"w-4 h-4 mr-2 animate-spin\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                                        lineNumber: 502,\n                                                        columnNumber: 23\n                                                    }, this),\n                                                    \"Loading...\"\n                                                ]\n                                            }, void 0, true) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Crown_Loader2_LogOut_Play_RefreshCw_Users_lucide_react__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n                                                        className: \"w-4 h-4 mr-2\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                                        lineNumber: 507,\n                                                        columnNumber: 23\n                                                    }, this),\n                                                    \"New Video\"\n                                                ]\n                                            }, void 0, true)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                            lineNumber: 495,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                    lineNumber: 492,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex-1 relative w-full rounded-lg overflow-hidden bg-black\",\n                                    ref: videoContainerRef,\n                                    children: !video_url && !videoUrl && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"absolute inset-0 flex items-center justify-center\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"text-center\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Crown_Loader2_LogOut_Play_RefreshCw_Users_lucide_react__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\n                                                    className: \"w-12 h-12 mx-auto mb-4 text-gray-500\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                                    lineNumber: 519,\n                                                    columnNumber: 21\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                    className: \"text-gray-500\",\n                                                    children: role === \"lobby-admin\" ? \"Click 'New Video' to start the game\" : \"Waiting for the host to start a video...\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                                    lineNumber: 520,\n                                                    columnNumber: 21\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                            lineNumber: 518,\n                                            columnNumber: 19\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                        lineNumber: 517,\n                                        columnNumber: 17\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                    lineNumber: 515,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"mt-4 flex justify-center\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_4__.Button, {\n                                        className: \"bg-red-400 hover:bg-red-500 text-white rounded-full px-6 py-2 text-lg font-bold\",\n                                        onClick: handleLeaveGame,\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Crown_Loader2_LogOut_Play_RefreshCw_Users_lucide_react__WEBPACK_IMPORTED_MODULE_11__[\"default\"], {\n                                                className: \"w-5 h-5 mr-2\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                                lineNumber: 535,\n                                                columnNumber: 17\n                                            }, this),\n                                            \"LEAVE GAME\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                        lineNumber: 531,\n                                        columnNumber: 15\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                    lineNumber: 530,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                            lineNumber: 491,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                        lineNumber: 490,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                lineNumber: 447,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"fixed bottom-6 right-6 z-20\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"relative flex flex-col items-center\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"relative w-8 h-40 mb-0\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"absolute inset-0 bg-white/20 backdrop-blur-sm rounded-full border border-white/30\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                    lineNumber: 546,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"absolute bottom-0 left-0 right-0 rounded-full transition-all duration-300 ease-out\",\n                                    style: {\n                                        height: \"\".concat(gameProgress, \"%\"),\n                                        background: \"linear-gradient(to top, #22c55e, #eab308, #ef4444)\",\n                                        margin: \"2px\",\n                                        width: \"calc(100% - 4px)\"\n                                    }\n                                }, void 0, false, {\n                                    fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                    lineNumber: 547,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"absolute -right-10 top-1/2 -translate-y-1/2\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"bg-black/50 backdrop-blur-sm rounded-lg px-2 py-1\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"text-white font-bold text-xs\",\n                                            children: [\n                                                Math.round(gameProgress),\n                                                \"%\"\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                            lineNumber: 558,\n                                            columnNumber: 17\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                        lineNumber: 557,\n                                        columnNumber: 15\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                    lineNumber: 556,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                            lineNumber: 545,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"relative\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"relative w-32 h-32 rounded-full overflow-hidden border-4 border-white/30 shadow-xl\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"video\", {\n                                        ref: videoElementRef,\n                                        id: \"webcam\",\n                                        className: \"absolute w-full h-full object-cover\",\n                                        autoPlay: true,\n                                        playsInline: true,\n                                        muted: true\n                                    }, void 0, false, {\n                                        fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                        lineNumber: 566,\n                                        columnNumber: 15\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                    lineNumber: 564,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"absolute top-1 right-1 z-10\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex items-center gap-1 bg-black/50 backdrop-blur-sm rounded-full px-1.5 py-0.5\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"w-1.5 h-1.5 bg-red-500 rounded-full animate-pulse\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                                lineNumber: 570,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"text-white text-xs font-medium\",\n                                                children: \"LIVE\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                                lineNumber: 571,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                        lineNumber: 569,\n                                        columnNumber: 15\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                    lineNumber: 568,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                            lineNumber: 563,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                    lineNumber: 544,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                lineNumber: 543,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"py-4 text-center text-white text-xs\",\n                children: [\n                    \"MADE WITH LOVE BY HAYSON, NELSON, AND BOYA \",\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                        className: \"ml-1\",\n                        children: \"\"\n                    }, void 0, false, {\n                        fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                        lineNumber: 579,\n                        columnNumber: 52\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                lineNumber: 578,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n        lineNumber: 439,\n        columnNumber: 5\n    }, this);\n}\n_s(GamePage, \"WQGQ6rAgYWIsL3APvVBSS31fNhQ=\", false, function() {\n    return [\n        next_navigation__WEBPACK_IMPORTED_MODULE_2__.useRouter,\n        next_navigation__WEBPACK_IMPORTED_MODULE_2__.useSearchParams,\n        _components_ui_use_toast__WEBPACK_IMPORTED_MODULE_3__.useToast,\n        _hooks_use_websocket__WEBPACK_IMPORTED_MODULE_5__.useWebSocket\n    ];\n});\n_c = GamePage;\nvar _c;\n$RefreshReg$(_c, \"GamePage\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2FwcC9nYW1lL3BhZ2UuanN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFbUQ7QUFDUztBQUNSO0FBQ0w7QUFDOEI7QUFDekI7QUFDdEI7QUFFOUIsTUFBTWUsZUFBZTtBQUVOLFNBQVNDOztJQUN0QixNQUFNLENBQUNDLFVBQVVDLFlBQVksR0FBR2pCLCtDQUFRQSxDQUFDO0lBQ3pDLE1BQU0sQ0FBQ2tCLFdBQVdDLGFBQWEsR0FBR25CLCtDQUFRQSxDQUFDO0lBQzNDLE1BQU0sQ0FBQ29CLFdBQVdDLGFBQWEsR0FBR3JCLCtDQUFRQSxDQUFDO0lBQzNDLE1BQU0sQ0FBQ3NCLE1BQU1DLFFBQVEsR0FBR3ZCLCtDQUFRQSxDQUFDO0lBQ2pDLE1BQU0sQ0FBQ3dCLGdCQUFnQkMsa0JBQWtCLEdBQUd6QiwrQ0FBUUEsQ0FBQztJQUNyRCxNQUFNLENBQUMwQixpQkFBaUJDLG1CQUFtQixHQUFHM0IsK0NBQVFBLENBQUMsRUFBRTtJQUN6RCxNQUFNLENBQUM0QixVQUFVQyxZQUFZLEdBQUc3QiwrQ0FBUUEsQ0FBQztJQUN6QyxNQUFNLENBQUM4QixjQUFjQyxnQkFBZ0IsR0FBRy9CLCtDQUFRQSxDQUFDO0lBQ2pELE1BQU0sQ0FBQ2dDLGNBQWNDLGdCQUFnQixHQUFHakMsK0NBQVFBLENBQUM7SUFDakQsTUFBTSxDQUFDa0MsZUFBZUMsaUJBQWlCLEdBQUduQywrQ0FBUUEsQ0FBQztJQUNuRCxNQUFNb0Msb0JBQW9CbkMsNkNBQU1BLENBQUM7SUFDakMsTUFBTW9DLGtCQUFrQnBDLDZDQUFNQSxDQUFDLE9BQU8sOEJBQThCO0lBRXBFLE1BQU1xQyxTQUFTcEMsMERBQVNBO0lBQ3hCLE1BQU1xQyxlQUFlcEMsZ0VBQWVBO0lBQ3BDLE1BQU0sRUFBRXFDLEtBQUssRUFBRSxHQUFHcEMsa0VBQVFBO0lBRTFCLE1BQU0sRUFDSnFDLFdBQVcsRUFDWEMsUUFBUSxFQUNSQyxPQUFPLEVBQ1BDLFNBQVMsRUFDVEMsZUFBZSxFQUNmQyxrQkFBa0IsRUFDbEJDLFlBQVksRUFDWkMsU0FBUyxFQUNUQyxXQUFXLEVBQ1hDLElBQUksRUFDSkMsZUFBZSxFQUNmQyxVQUFVLEVBQ1ZDLFVBQVUsRUFDVkMsU0FBUyxFQUNUQyxVQUFVLEVBQ1ZDLFlBQVksRUFDWkMsVUFBVSxFQUNWQyxZQUFZLEVBQ1pDLGNBQWMsRUFDZEMsV0FBVyxFQUNYQyxVQUFVLEVBQ1gsR0FBR2pELGtFQUFZQSxDQUNkTSxXQUNBRixVQUNBSSxXQUNBRTtJQUdGdkIsZ0RBQVNBOzhCQUFDO1lBQ1IsSUFBSStELE9BQU9DLE9BQU8sRUFBRTtnQkFDbEI1QixpQkFBaUI7Z0JBQ2pCO1lBQ0Y7WUFDQSxNQUFNNkIsU0FBU0MsU0FBU0MsYUFBYSxDQUFDO1lBQ3RDRixPQUFPRyxHQUFHLEdBQUc7WUFDYkgsT0FBT0ksS0FBSyxHQUFHO1lBQ2ZKLE9BQU9LLE1BQU07c0NBQUc7b0JBQ2RsQyxpQkFBaUI7b0JBQ2pCSyxNQUFNO3dCQUFFOEIsT0FBTzt3QkFBeUJDLGFBQWE7b0JBQThDO2dCQUNyRzs7WUFDQVAsT0FBT1EsT0FBTztzQ0FBRztvQkFDZmhDLE1BQU07d0JBQUU4QixPQUFPO3dCQUFzQkMsYUFBYTt3QkFBeUNFLFNBQVM7b0JBQWM7Z0JBQ3BIOztZQUNBUixTQUFTUyxJQUFJLENBQUNDLFdBQVcsQ0FBQ1g7UUFFMUIscUVBQXFFO1FBQ3ZFOzZCQUFHO1FBQUN4QjtLQUFNO0lBRVZ6QyxnREFBU0E7OEJBQUM7WUFDUixNQUFNNkUsaUJBQWlCQyxhQUFhQyxPQUFPLENBQUM7WUFDNUMsTUFBTUMsY0FBY0YsYUFBYUMsT0FBTyxDQUFDO1lBQ3pDLE1BQU1FLGNBQWNILGFBQWFDLE9BQU8sQ0FBQztZQUN6QyxNQUFNRyxhQUFhSixhQUFhQyxPQUFPLENBQUM7WUFFeEMsSUFBSSxDQUFDRixrQkFBbUIsQ0FBQ0csZUFBZSxDQUFDRyxjQUFlO2dCQUN0RDFDLE1BQU07b0JBQ0o4QixPQUFPO29CQUNQQyxhQUFhO29CQUNiRSxTQUFTO2dCQUNYO2dCQUNBbkMsT0FBTzZDLElBQUksQ0FBQztnQkFDWjtZQUNGO1lBRUFsRSxZQUFZMkQ7WUFDWnpELGFBQWE0RCxlQUFlRztZQUU1QixNQUFNRSxnQkFBZ0JILGVBQWUsVUFBVSxnQkFBZ0JBLGNBQWM7WUFDN0UxRCxRQUFRNkQ7WUFFUixJQUFJSCxlQUFlLFNBQVM7Z0JBQzFCNUQsYUFBYWdFO1lBQ2YsT0FBTyxJQUFJSixlQUFlLFVBQVU7Z0JBQ2xDNUQsYUFBYTJEO1lBQ2YsT0FBTztnQkFDTHhDLE1BQU07b0JBQ0o4QixPQUFPO29CQUNQQyxhQUFhO29CQUNiRSxTQUFTO2dCQUNYO2dCQUNBbkMsT0FBTzZDLElBQUksQ0FBQztnQkFDWjtZQUNGO1lBRUEsSUFBSUYsZUFBZSxTQUFTO2dCQUMxQks7WUFDRjtZQUVBLElBQUksQ0FBQ3BELGlCQUFpQkYsY0FBYztZQUVwQyxNQUFNdUQ7aURBQWE7b0JBQ2pCLE1BQU1DLFlBQVk7b0JBQ2xCLElBQUksQ0FBQzFCLE9BQU9DLE9BQU8sRUFBRTt3QkFDbkJ2QixNQUFNOzRCQUFFOEIsT0FBTzs0QkFBcUJDLGFBQWE7NEJBQTJCRSxTQUFTO3dCQUFVO3dCQUMvRjtvQkFDRjtvQkFDQSxJQUFJO3dCQUNGakMsTUFBTTs0QkFBRThCLE9BQU87NEJBQXVCQyxhQUFhO3dCQUFpQjt3QkFDcEUsTUFBTVQsT0FBT0MsT0FBTyxDQUFDMEIsSUFBSSxDQUFDQyxnQkFBZ0IsQ0FBQ0MsV0FBVyxDQUFDSDt3QkFDdkR2RCxnQkFBZ0I7d0JBQ2hCRSxpQkFBaUI7d0JBQ2pCSyxNQUFNOzRCQUFFOEIsT0FBTzs0QkFBc0JDLGFBQWE7d0JBQTRCO29CQUNoRixFQUFFLE9BQU9xQixPQUFPO3dCQUNkQyxRQUFRRCxLQUFLLENBQUMsd0NBQXdDQTt3QkFDdERwRCxNQUFNOzRCQUNKOEIsT0FBTzs0QkFDUEMsYUFBYTs0QkFDYkUsU0FBUzt3QkFDWDtvQkFDRjtnQkFDRjs7WUFDQWM7UUFDRjs2QkFBRztRQUFDakQ7UUFBUUM7UUFBY0M7UUFBT047UUFBZUY7S0FBYTtJQUU3RGpDLGdEQUFTQTs4QkFBQztZQUNSLE1BQU0rRjtpREFBYTtvQkFDakIsSUFBSTt3QkFDRixNQUFNQyxTQUFTLE1BQU1DLFVBQVVDLFlBQVksQ0FBQ0MsWUFBWSxDQUFDOzRCQUFFQyxPQUFPO3dCQUFLO3dCQUN2RSxJQUFJOUQsZ0JBQWdCK0QsT0FBTyxFQUFFOzRCQUMzQi9ELGdCQUFnQitELE9BQU8sQ0FBQ0MsU0FBUyxHQUFHTjt3QkFDdEM7b0JBQ0YsRUFBRSxPQUFPTyxLQUFLO3dCQUNaVCxRQUFRRCxLQUFLLENBQUMsMkJBQTJCVTt3QkFDekM5RCxNQUFNOzRCQUNKOEIsT0FBTzs0QkFDUEMsYUFBYTs0QkFDYkUsU0FBUzt3QkFDWDtvQkFDRjtnQkFDRjs7WUFDQXFCO1lBQ0EsaUVBQWlFO1lBQ2pFO3NDQUFPO29CQUNMLElBQUl6RCxnQkFBZ0IrRCxPQUFPLElBQUkvRCxnQkFBZ0IrRCxPQUFPLENBQUNDLFNBQVMsRUFBRTt3QkFDaEUsTUFBTU4sU0FBUzFELGdCQUFnQitELE9BQU8sQ0FBQ0MsU0FBUzt3QkFDaEQsTUFBTUUsU0FBU1IsT0FBT1MsU0FBUzt3QkFDL0JELE9BQU9FLE9BQU87a0RBQUNDLENBQUFBLFFBQVNBLE1BQU1DLElBQUk7O3dCQUNsQ3RFLGdCQUFnQitELE9BQU8sQ0FBQ0MsU0FBUyxHQUFHO29CQUN0QztnQkFDRjs7UUFDRjs2QkFBRztRQUFDN0Q7S0FBTTtJQUVWLE1BQU04QyxrQkFBa0I7UUFDdEI3RCxrQkFBa0I7UUFDbEIsSUFBSTtZQUNGLElBQUlnQixlQUFlbUIsYUFBYTtnQkFDOUJBLFlBQVlnRCxLQUFLQyxTQUFTLENBQUM7b0JBQUVDLE1BQU07Z0JBQWlCO1lBQ3RELE9BQU87Z0JBQ0x0RSxNQUFNO29CQUNKOEIsT0FBTztvQkFDUEMsYUFBYTtvQkFDYkUsU0FBUztnQkFDWDtZQUNGO1FBQ0YsRUFBRSxPQUFPbUIsT0FBTztZQUNkcEQsTUFBTTtnQkFDSjhCLE9BQU87Z0JBQ1BDLGFBQWE7Z0JBQ2JFLFNBQVM7WUFDWDtZQUNBb0IsUUFBUUQsS0FBSyxDQUFDLHlCQUF5QkE7UUFDekMsU0FBVTtZQUNSbkUsa0JBQWtCO1FBQ3BCO0lBQ0Y7SUFFQSxNQUFNc0Ysb0JBQW9CLENBQUNDO1FBQ3pCLElBQUksQ0FBQ0EsS0FBSyxPQUFPO1FBQ2pCLE1BQU1DLFNBQVM7UUFDZixNQUFNQyxRQUFRRixJQUFJRSxLQUFLLENBQUNEO1FBQ3hCLE9BQU9DLFNBQVNBLEtBQUssQ0FBQyxFQUFFLENBQUNDLE1BQU0sS0FBSyxLQUFLRCxLQUFLLENBQUMsRUFBRSxHQUFHO0lBQ3REO0lBRUEsTUFBTUUsc0JBQXNCLENBQUNDO1FBQzNCLElBQUksQ0FBQ0EscUJBQXFCLENBQUNqRixrQkFBa0JnRSxPQUFPLEVBQUU7WUFDcERQLFFBQVF5QixJQUFJLENBQUM7WUFDYjtRQUNGO1FBQ0F6RixZQUFZd0Ysb0JBQW9CLDRCQUE0QjtRQUU1RCxNQUFNRSxZQUFZbkYsa0JBQWtCZ0UsT0FBTztRQUMzQ21CLFVBQVVDLFNBQVMsR0FBRztRQUV0QixNQUFNQyxpQkFBaUJ4RCxTQUFTQyxhQUFhLENBQUM7UUFDOUN1RCxlQUFlQyxTQUFTLEdBQ3RCO1FBQ0ZELGVBQWVELFNBQVMsR0FBSTtRQU01QkQsVUFBVTVDLFdBQVcsQ0FBQzhDO1FBRXRCLE1BQU1FLFVBQVVaLGtCQUFrQk07UUFFbEMsSUFBSU0sU0FBUztZQUNYLE1BQU1DLFNBQVMzRCxTQUFTQyxhQUFhLENBQUM7WUFDdEMwRCxPQUFPRixTQUFTLEdBQUc7WUFDbkJFLE9BQU96RCxHQUFHLEdBQUcsaUNBQXlDLE9BQVJ3RCxTQUFRO1lBQ3REQyxPQUFPdEQsS0FBSyxHQUFHO1lBQ2ZzRCxPQUFPQyxXQUFXLEdBQUc7WUFDckJELE9BQU9FLEtBQUssR0FBRztZQUNmRixPQUFPRyxlQUFlLEdBQUc7WUFDekJILE9BQU9JLEtBQUssQ0FBQ0MsYUFBYSxHQUFHO1lBRTdCTCxPQUFPdkQsTUFBTSxHQUFHO2dCQUNkb0QsZUFBZU8sS0FBSyxDQUFDRSxPQUFPLEdBQUc7Z0JBQy9CQyxXQUFXO29CQUNULElBQUlWLGVBQWVXLFVBQVUsRUFBRTt3QkFDN0JYLGVBQWVXLFVBQVUsQ0FBQ0MsV0FBVyxDQUFDWjtvQkFDeEM7Z0JBQ0YsR0FBRztnQkFDSGpGLE1BQU07b0JBQUU4QixPQUFPO29CQUF3QkMsYUFBYTtnQkFBb0I7WUFDMUU7WUFDQXFELE9BQU9wRCxPQUFPLEdBQUc7Z0JBQ2Y4RCxpQkFBaUI7WUFDbkI7WUFDQWYsVUFBVTVDLFdBQVcsQ0FBQ2lEO1FBQ3hCLE9BQU87WUFDTCxNQUFNekIsUUFBUWxDLFNBQVNDLGFBQWEsQ0FBQztZQUNyQ2lDLE1BQU11QixTQUFTLEdBQUc7WUFDbEJ2QixNQUFNaEMsR0FBRyxHQUFHa0Q7WUFDWmxCLE1BQU1vQyxRQUFRLEdBQUc7WUFDakJwQyxNQUFNcUMsS0FBSyxHQUFHO1lBQ2RyQyxNQUFNc0MsV0FBVyxHQUFHO1lBQ3BCdEMsTUFBTXVDLElBQUksR0FBRztZQUNidkMsTUFBTXdDLE9BQU8sR0FBRztZQUNoQnhDLE1BQU15QyxRQUFRLEdBQUc7WUFDakJ6QyxNQUFNNkIsS0FBSyxDQUFDQyxhQUFhLEdBQUc7WUFFNUI5QixNQUFNMEMsWUFBWSxHQUFHO2dCQUNuQnBCLGVBQWVPLEtBQUssQ0FBQ0UsT0FBTyxHQUFHO2dCQUMvQkMsV0FBVztvQkFDVCxJQUFJVixlQUFlVyxVQUFVLEVBQUU7d0JBQzdCWCxlQUFlVyxVQUFVLENBQUNDLFdBQVcsQ0FBQ1o7b0JBQ3hDO2dCQUNGLEdBQUc7Z0JBQ0hqRixNQUFNO29CQUFFOEIsT0FBTztvQkFBcUJDLGFBQWE7Z0JBQW9CO1lBQ3ZFO1lBQ0E0QixNQUFNM0IsT0FBTyxHQUFHO2dCQUNkOEQsaUJBQWlCO1lBQ25CO1lBQ0FmLFVBQVU1QyxXQUFXLENBQUN3QjtRQUN4QjtRQUVBLFNBQVNtQyxpQkFBaUJRLFlBQVk7WUFDcEMsSUFBSXJCLGVBQWVXLFVBQVUsRUFBRTtnQkFDNUJYLGVBQWVELFNBQVMsR0FBRyxvS0FHc0IsT0FBYnNCLGNBQWE7WUFHcEQ7WUFDQXRHLE1BQU07Z0JBQUU4QixPQUFPO2dCQUFlQyxhQUFhdUU7Z0JBQWNyRSxTQUFTO1lBQWM7UUFDbEY7SUFDRjtJQUVBMUUsZ0RBQVNBOzhCQUFDO1lBQ1IsSUFBSWlELFdBQVc7Z0JBQ2JvRSxvQkFBb0JwRTtZQUN0QjtRQUNGOzZCQUFHO1FBQUNBO0tBQVU7SUFFZCxlQUFlK0Y7UUFDYixNQUFNQyxzQkFBc0IzRyxnQkFBZ0IrRCxPQUFPO1FBQ25ELElBQUksQ0FBQzRDLHVCQUF1QkEsb0JBQW9CQyxNQUFNLElBQUlELG9CQUFvQkUsVUFBVSxHQUFHLEdBQUc7WUFDNUY7UUFDRjtRQUVBLElBQUksQ0FBQ3BGLE9BQU9DLE9BQU8sRUFBRTtZQUNuQjtRQUNGO1FBRUEsSUFBSTtZQUNGLE1BQU1vRixVQUFVLElBQUlyRixPQUFPQyxPQUFPLENBQUNxRix1QkFBdUIsQ0FBQztnQkFDekRDLFdBQVc7Z0JBQ1hDLGdCQUFnQjtZQUNsQjtZQUVBLE1BQU1DLGFBQWEsTUFBTXpGLE9BQU9DLE9BQU8sQ0FBQ3lGLGNBQWMsQ0FBQ1IscUJBQXFCRztZQUU1RSxJQUFJSSxXQUFXcEMsTUFBTSxLQUFLLEdBQUc7Z0JBQzNCO1lBQ0Y7WUFFQSxJQUFJb0MsV0FBV3BDLE1BQU0sR0FBRyxHQUFHO2dCQUN6Qiw2SEFBNkg7Z0JBQzdIO1lBQ0Y7WUFFQSxNQUFNc0MsWUFBWUYsVUFBVSxDQUFDLEVBQUU7WUFDL0IsTUFBTUcsTUFBTUQsVUFBVUEsU0FBUyxHQUFHQSxVQUFVQSxTQUFTLENBQUNDLEdBQUcsR0FBR0QsVUFBVUMsR0FBRztZQUV6RSxJQUFJLENBQUNBLEtBQUs7Z0JBQ1I7WUFDRjtZQUVBLE1BQU1DLGFBQWExRixTQUFTQyxhQUFhLENBQUM7WUFDMUMsTUFBTTBGLGNBQWNELFdBQVdFLFVBQVUsQ0FBQztZQUUxQyxNQUFNQyxVQUFVO1lBQ2hCLE1BQU1DLGNBQWNMLElBQUlNLEtBQUssR0FBSSxLQUFJRixVQUFVO1lBQy9DLE1BQU1HLGVBQWVQLElBQUlRLE1BQU0sR0FBSSxLQUFJSixVQUFVO1lBQ2pELE1BQU1LLFVBQVVULElBQUlVLENBQUMsR0FBR1YsSUFBSU0sS0FBSyxHQUFHRjtZQUNwQyxNQUFNTyxVQUFVWCxJQUFJWSxDQUFDLEdBQUdaLElBQUlRLE1BQU0sR0FBR0o7WUFFckMsTUFBTVMsUUFBUUMsS0FBS0MsR0FBRyxDQUFDLEdBQUdOO1lBQzFCLE1BQU1PLFFBQVFGLEtBQUtDLEdBQUcsQ0FBQyxHQUFHSjtZQUMxQixNQUFNTSxZQUFZSCxLQUFLSSxHQUFHLENBQUNiLGFBQWFmLG9CQUFvQjZCLFVBQVUsR0FBR047WUFDekUsTUFBTU8sYUFBYU4sS0FBS0ksR0FBRyxDQUFDWCxjQUFjakIsb0JBQW9CK0IsV0FBVyxHQUFHTDtZQUU1RSxJQUFJQyxhQUFhLEtBQUtHLGNBQWMsR0FBRztnQkFDckM7WUFDRjtZQUVBbkIsV0FBV0ssS0FBSyxHQUFHVztZQUNuQmhCLFdBQVdPLE1BQU0sR0FBR1k7WUFFcEJsQixZQUFZb0IsU0FBUyxDQUNuQmhDLHFCQUNBdUIsT0FDQUcsT0FDQUMsV0FDQUcsWUFDQSxHQUNBLEdBQ0FILFdBQ0FHO1lBR0YsTUFBTUcsZUFBZXRCLFdBQVd1QixTQUFTLENBQUMsY0FBYztZQUN4RCxNQUFNQyxhQUFhRixhQUFhRyxLQUFLLENBQUMsSUFBSSxDQUFDLEVBQUU7WUFHN0MsSUFBSXhILGFBQWE7Z0JBQ2ZBLFlBQVksZ0JBQWdCdUg7WUFDOUI7UUFFRixFQUFFLE9BQU92RixPQUFPO1lBQ2RDLFFBQVFELEtBQUssQ0FBQyw2QkFBNkJBO1FBQzNDLFVBQVU7UUFDVixtQ0FBbUM7UUFDbkMsbUVBQW1FO1FBQ25FLDRCQUE0QjtRQUM1QixNQUFNO1FBQ1I7SUFDRjtJQUVBLGtFQUFrRTtJQUNsRSxTQUFTeUY7UUFDUCxJQUFJLENBQUM1SSxhQUFhO1lBQ2hCO1FBQ0Y7UUFDQSxNQUFNdUcsc0JBQXNCM0csZ0JBQWdCK0QsT0FBTztRQUNuRCxJQUFJLENBQUM0Qyx1QkFBdUJBLG9CQUFvQkMsTUFBTSxFQUFFO1lBQ3REO1FBQ0Y7UUFDQSxJQUFJLENBQUNqSCxnQkFBZ0IsQ0FBQ0UsZUFBZTtZQUNuQztRQUNGO1FBQ0E2RyxxQkFBcUIsMEJBQTBCO0lBQ2pEO0lBRUFoSixnREFBU0E7OEJBQUM7WUFDUixJQUFJdUw7WUFDSixJQUFJN0ksZUFBZVQsZ0JBQWdCRSxlQUFlO2dCQUNoRG9KLGFBQWFDOzBDQUFZO3dCQUN2QkYsd0JBQXdCLG1DQUFtQztvQkFDN0Q7eUNBQUc7WUFDTDtZQUNBO3NDQUFPO29CQUNMLElBQUlDLFlBQVk7d0JBQ2RFLGNBQWNGO29CQUNoQjtnQkFDRjs7UUFDRjs2QkFBRztRQUFDN0k7UUFBYVQ7UUFBY0U7UUFBZWhCO1FBQVdGO1FBQVU0QztLQUFZLEdBQUcsOEJBQThCO0lBRWhIN0QsZ0RBQVNBOzhCQUFDO1lBQ1I7c0NBQU87d0JBQ0RxQztvQkFBSixLQUFJQSw2QkFBQUEsa0JBQWtCZ0UsT0FBTyxjQUF6QmhFLGlEQUFBQSwyQkFBMkJxSixRQUFRLEVBQUU7d0JBQ3ZDckosa0JBQWtCZ0UsT0FBTyxDQUFDcUYsUUFBUTtvQkFDcEM7Z0JBQ0Y7O1FBQ0Y7NkJBQUcsRUFBRTtJQUVMLE1BQU1DLGtCQUFrQjtRQUN0QjdIO1FBQ0F2QixPQUFPNkMsSUFBSSxDQUFDO0lBQ2Q7SUFFQSxJQUFJdEMsaUJBQWlCO1FBQ25CLHFCQUNFLDhEQUFDOEk7WUFBSWpFLFdBQVU7c0JBQ2IsNEVBQUNpRTtnQkFBSWpFLFdBQVU7O2tDQUNiLDhEQUFDa0U7d0JBQUdsRSxXQUFVO2tDQUF1Qzs7Ozs7O2tDQUNyRCw4REFBQ21FO3dCQUFFbkUsV0FBVTtrQ0FBc0I3RTs7Ozs7O2tDQUNuQyw4REFBQ3hDLHlEQUFNQTt3QkFBQ3lMLFNBQVMsSUFBTXhKLE9BQU82QyxJQUFJLENBQUM7d0JBQVd1QyxXQUFVO2tDQUFvQzs7Ozs7Ozs7Ozs7Ozs7Ozs7SUFNcEc7SUFFQSxxQkFDRSw4REFBQ2lFO1FBQUlqRSxXQUFVOzswQkFDYiw4REFBQ2lFO2dCQUFJakUsV0FBVTs7a0NBQ2IsOERBQUNxRTt3QkFBR3JFLFdBQVU7OzRCQUE4QzswQ0FDbkQsOERBQUNzRTtnQ0FBS3RFLFdBQVU7MENBQWtCOzs7Ozs7Ozs7Ozs7a0NBRTNDLDhEQUFDa0U7d0JBQUdsRSxXQUFVOzs0QkFBMEI7NEJBQU94Rzs7Ozs7Ozs7Ozs7OzswQkFHakQsOERBQUN5SztnQkFBSWpFLFdBQVU7O2tDQUNiLDhEQUFDaUU7d0JBQUlqRSxXQUFVOzswQ0FDYiw4REFBQ3VFO2dDQUFHdkUsV0FBVTs7a0RBQ1osOERBQUNwSCxxSEFBS0E7d0NBQUNvSCxXQUFVOzs7Ozs7b0NBQVk7Ozs7Ozs7MENBRS9CLDhEQUFDaUU7Z0NBQUlqRSxXQUFVOzBDQUNaL0UsUUFBUXdFLE1BQU0sR0FBRyxJQUNoQnhFLFFBQVF1SixHQUFHLENBQUMsQ0FBQ0MsUUFBUUM7b0NBQ25CLE1BQU1DLGFBQWEzSyxnQkFBZ0I0SyxRQUFRLENBQUNILFFBQVEsaURBQWlEOztvQ0FFckcscUJBQ0UsOERBQUNSO3dDQUVDakUsV0FBVyxrQkFJVixPQUhDMkUsYUFDSSx3RUFDQSxtQ0FDTDs7MERBRUQsOERBQUNWO2dEQUNDakUsV0FBVyx3QkFFVixPQURDMkUsYUFBYSxtREFBbUQsZUFDakU7MERBRUFGLE9BQU9JLE1BQU0sQ0FBQyxHQUFHQyxXQUFXOzs7Ozs7MERBRS9CLDhEQUFDUjtnREFBS3RFLFdBQVU7O29EQUNieUU7b0RBQU87b0RBQUVBLFdBQVduTCxZQUFZOzs7Ozs7OzRDQUdsQ29MLFVBQVUsbUJBQUssOERBQUM3TCxxSEFBS0E7Z0RBQUNtSCxXQUFVOzs7Ozs7O3VDQWxCNUIwRTs7Ozs7Z0NBcUJYLG1CQUVBLDhEQUFDVDtvQ0FBSWpFLFdBQVU7O3NEQUNiLDhEQUFDbEgscUhBQU9BOzRDQUFDa0gsV0FBVTs7Ozs7O3NEQUNuQiw4REFBQ21FO3NEQUFFOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztrQ0FNWCw4REFBQ0Y7d0JBQUlqRSxXQUFVO2tDQUNiLDRFQUFDaUU7NEJBQUlqRSxXQUFVOzs4Q0FDYiw4REFBQ2lFO29DQUFJakUsV0FBVTs7c0RBQ2IsOERBQUN1RTs0Q0FBR3ZFLFdBQVU7c0RBQXFCOzs7Ozs7d0NBQ2xDcEcsU0FBUywrQkFDUiw4REFBQ2pCLHlEQUFNQTs0Q0FDTHlMLFNBQVN4Rzs0Q0FDVG1ILFVBQVVqTDs0Q0FDVmtHLFdBQVU7c0RBRVRsRywrQkFDQzs7a0VBQ0UsOERBQUNoQixxSEFBT0E7d0RBQUNrSCxXQUFVOzs7Ozs7b0RBQThCOzs2RUFJbkQ7O2tFQUNFLDhEQUFDakgscUhBQVNBO3dEQUFDaUgsV0FBVTs7Ozs7O29EQUFpQjs7Ozs7Ozs7Ozs7Ozs7OENBUWhELDhEQUFDaUU7b0NBQUlqRSxXQUFVO29DQUE2RGdGLEtBQUt0Szs4Q0FDOUUsQ0FBQ1ksYUFBYSxDQUFDcEIsMEJBQ2QsOERBQUMrSjt3Q0FBSWpFLFdBQVU7a0RBQ2IsNEVBQUNpRTs0Q0FBSWpFLFdBQVU7OzhEQUNiLDhEQUFDaEgsc0hBQUlBO29EQUFDZ0gsV0FBVTs7Ozs7OzhEQUNoQiw4REFBQ21FO29EQUFFbkUsV0FBVTs4REFDVnBHLFNBQVMsZ0JBQ04sd0NBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OENBT2QsOERBQUNxSztvQ0FBSWpFLFdBQVU7OENBQ2IsNEVBQUNySCx5REFBTUE7d0NBQ0xxSCxXQUFVO3dDQUNWb0UsU0FBU0o7OzBEQUVULDhEQUFDL0ssc0hBQU1BO2dEQUFDK0csV0FBVTs7Ozs7OzRDQUFpQjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7MEJBUTdDLDhEQUFDaUU7Z0JBQUlqRSxXQUFVOzBCQUNiLDRFQUFDaUU7b0JBQUlqRSxXQUFVOztzQ0FDYiw4REFBQ2lFOzRCQUFJakUsV0FBVTs7OENBQ2IsOERBQUNpRTtvQ0FBSWpFLFdBQVU7Ozs7Ozs4Q0FDZiw4REFBQ2lFO29DQUNDakUsV0FBVTtvQ0FDVk0sT0FBTzt3Q0FDTGtDLFFBQVEsR0FBZ0IsT0FBYnBJLGNBQWE7d0NBQ3hCNkssWUFBYTt3Q0FDYkMsUUFBUTt3Q0FDUjVDLE9BQU87b0NBQ1Q7Ozs7Ozs4Q0FFRiw4REFBQzJCO29DQUFJakUsV0FBVTs4Q0FDYiw0RUFBQ2lFO3dDQUFJakUsV0FBVTtrREFDYiw0RUFBQ3NFOzRDQUFLdEUsV0FBVTs7Z0RBQWdDOEMsS0FBS3FDLEtBQUssQ0FBQy9LO2dEQUFjOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztzQ0FLL0UsOERBQUM2Sjs0QkFBSWpFLFdBQVU7OzhDQUNiLDhEQUFDaUU7b0NBQUlqRSxXQUFVOzhDQUViLDRFQUFDdkI7d0NBQU11RyxLQUFLcks7d0NBQWlCeUssSUFBRzt3Q0FBU3BGLFdBQVU7d0NBQXNDcUYsUUFBUTt3Q0FBQ3RFLFdBQVc7d0NBQUNELEtBQUs7Ozs7Ozs7Ozs7OzhDQUVySCw4REFBQ21EO29DQUFJakUsV0FBVTs4Q0FDYiw0RUFBQ2lFO3dDQUFJakUsV0FBVTs7MERBQ2IsOERBQUNpRTtnREFBSWpFLFdBQVU7Ozs7OzswREFDZiw4REFBQ3NFO2dEQUFLdEUsV0FBVTswREFBaUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7MEJBTzNELDhEQUFDaUU7Z0JBQUlqRSxXQUFVOztvQkFBc0M7a0NBQ1IsOERBQUNzRTt3QkFBS3RFLFdBQVU7a0NBQU87Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUkxRTtHQTFqQndCM0c7O1FBY1BiLHNEQUFTQTtRQUNIQyw0REFBZUE7UUFDbEJDLDhEQUFRQTtRQXdCdEJRLDhEQUFZQTs7O0tBeENNRyIsInNvdXJjZXMiOlsiL1VzZXJzL2hheXNvbmNoZXVuZy9wcm9ncmFtcy9weXRob25Qcm9qZWN0L2tyYWNrbGUyL2Zyb250ZW5kdXBkYXRlZC9hcHAvZ2FtZS9wYWdlLmpzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIlxuXG5pbXBvcnQgeyB1c2VFZmZlY3QsIHVzZVN0YXRlLCB1c2VSZWYgfSBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IHsgdXNlUm91dGVyLCB1c2VTZWFyY2hQYXJhbXMgfSBmcm9tIFwibmV4dC9uYXZpZ2F0aW9uXCJcbmltcG9ydCB7IHVzZVRvYXN0IH0gZnJvbSBcIkAvY29tcG9uZW50cy91aS91c2UtdG9hc3RcIlxuaW1wb3J0IHsgQnV0dG9uIH0gZnJvbSBcIkAvY29tcG9uZW50cy91aS9idXR0b25cIlxuaW1wb3J0IHsgVXNlcnMsIENyb3duLCBMb2FkZXIyLCBSZWZyZXNoQ3csIFBsYXksIExvZ091dCB9IGZyb20gXCJsdWNpZGUtcmVhY3RcIlxuaW1wb3J0IHsgdXNlV2ViU29ja2V0IH0gZnJvbSBcIkAvaG9va3MvdXNlLXdlYnNvY2tldFwiIFxuaW1wb3J0IHsgc2V0IH0gZnJvbSBcImRhdGUtZm5zXCJcblxuY29uc3QgQVBJX0JBU0VfVVJMID0gXCJodHRwczovL2NkNmYtMjAyLTI4LTctNC5uZ3Jvay1mcmVlLmFwcFwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEdhbWVQYWdlKCkge1xuICBjb25zdCBbdXNlcm5hbWUsIHNldFVzZXJuYW1lXSA9IHVzZVN0YXRlKFwiXCIpXG4gIGNvbnN0IFtsb2JieUNvZGUsIHNldExvYmJ5Q29kZV0gPSB1c2VTdGF0ZShcIlwiKVxuICBjb25zdCBbdXNlclRva2VuLCBzZXRVc2VyVG9rZW5dID0gdXNlU3RhdGUoXCJcIilcbiAgY29uc3QgW3JvbGUsIHNldFJvbGVdID0gdXNlU3RhdGUoXCJwbGF5ZXJcIilcbiAgY29uc3QgW2lzTG9hZGluZ1ZpZGVvLCBzZXRJc0xvYWRpbmdWaWRlb10gPSB1c2VTdGF0ZShmYWxzZSlcbiAgY29uc3QgW3ZlcmlmaWVkUGxheWVycywgc2V0VmVyaWZpZWRQbGF5ZXJzXSA9IHVzZVN0YXRlKFtdKVxuICBjb25zdCBbdmlkZW9VcmwsIHNldFZpZGVvVXJsXSA9IHVzZVN0YXRlKFwiXCIpXG4gIGNvbnN0IFtnYW1lUHJvZ3Jlc3MsIHNldEdhbWVQcm9ncmVzc10gPSB1c2VTdGF0ZSgwKVxuICBjb25zdCBbbW9kZWxzTG9hZGVkLCBzZXRNb2RlbHNMb2FkZWRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbZmFjZUFwaUxvYWRlZCwgc2V0RmFjZUFwaUxvYWRlZF0gPSB1c2VTdGF0ZShmYWxzZSk7IFxuICBjb25zdCB2aWRlb0NvbnRhaW5lclJlZiA9IHVzZVJlZihudWxsKVxuICBjb25zdCB2aWRlb0VsZW1lbnRSZWYgPSB1c2VSZWYobnVsbCk7IC8vIEFkZGVkIHJlZiBmb3IgdmlkZW8gZWxlbWVudFxuXG4gIGNvbnN0IHJvdXRlciA9IHVzZVJvdXRlcigpXG4gIGNvbnN0IHNlYXJjaFBhcmFtcyA9IHVzZVNlYXJjaFBhcmFtcygpXG4gIGNvbnN0IHsgdG9hc3QgfSA9IHVzZVRvYXN0KClcblxuICBjb25zdCB7XG4gICAgaXNDb25uZWN0ZWQsXG4gICAgbWVzc2FnZXMsXG4gICAgcGxheWVycyxcbiAgICBsb2JieUluZm8sXG4gICAgY29ubmVjdGlvbkVycm9yLFxuICAgIHZlcmlmaWVkX3VzZXJuYW1lcyxcbiAgICBnYW1lX3N0YXJ0ZWQsXG4gICAgdmlkZW9fdXJsLFxuICAgIGxhdWdoTWV0ZXJzLFxuICAgIGRhdGEsXG4gICAgc2VuZENoYXRNZXNzYWdlLFxuICAgIGxlYXZlTG9iYnksXG4gICAga2lja1BsYXllcixcbiAgICBzdGFydEdhbWUsXG4gICAgY2xvc2VMb2JieSxcbiAgICBkaXNiYW5kTG9iYnksXG4gICAgbXV0ZVBsYXllcixcbiAgICB1bm11dGVQbGF5ZXIsXG4gICAgY2hhbmdlU2V0dGluZ3MsXG4gICAgc2VuZE1lc3NhZ2UsXG4gICAgZGlzY29ubmVjdCxcbiAgfSA9IHVzZVdlYlNvY2tldChcbiAgICBsb2JieUNvZGUsXG4gICAgdXNlcm5hbWUsXG4gICAgdXNlclRva2VuLFxuICAgIHJvbGUsXG4gIClcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICh3aW5kb3cuZmFjZWFwaSkge1xuICAgICAgc2V0RmFjZUFwaUxvYWRlZCh0cnVlKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3Qgc2NyaXB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7XG4gICAgc2NyaXB0LnNyYyA9ICdodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvbnBtL2ZhY2UtYXBpLmpzQDAuMjIuMi9kaXN0L2ZhY2UtYXBpLm1pbi5qcyc7XG4gICAgc2NyaXB0LmFzeW5jID0gdHJ1ZTtcbiAgICBzY3JpcHQub25sb2FkID0gKCkgPT4ge1xuICAgICAgc2V0RmFjZUFwaUxvYWRlZCh0cnVlKTtcbiAgICAgIHRvYXN0KHsgdGl0bGU6IFwiRmFjZUFQSSBTY3JpcHQgTG9hZGVkXCIsIGRlc2NyaXB0aW9uOiBcIkZhY2UgZGV0ZWN0aW9uIGNhcGFiaWxpdGllcyBhcmUgbm93IGFjdGl2ZS5cIiB9KTtcbiAgICB9O1xuICAgIHNjcmlwdC5vbmVycm9yID0gKCkgPT4ge1xuICAgICAgdG9hc3QoeyB0aXRsZTogXCJGYWNlQVBJIExvYWQgRXJyb3JcIiwgZGVzY3JpcHRpb246IFwiRmFpbGVkIHRvIGxvYWQgZmFjZSBkZXRlY3Rpb24gc2NyaXB0LlwiLCB2YXJpYW50OiBcImRlc3RydWN0aXZlXCIgfSk7XG4gICAgfTtcbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHNjcmlwdCk7XG5cbiAgICAvLyBObyBjbGVhbnVwIG5lZWRlZCBmb3IgQ0ROIHNjcmlwdCB0aGF0IG1pZ2h0IGJlIHVzZWQgYnkgb3RoZXIgcGFnZXNcbiAgfSwgW3RvYXN0XSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBzdG9yZWRVc2VybmFtZSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwia3JhY2tsZV91c2VybmFtZVwiKVxuICAgIGNvbnN0IHN0b3JlZExvYmJ5ID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJrcmFja2xlX2xvYmJ5XCIpXG4gICAgY29uc3Qgc3RvcmVkVG9rZW4gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcImtyYWNrbGVfdXNlcl90b2tlblwiKVxuICAgIGNvbnN0IHN0b3JlZFJvbGUgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcImtyYWNrbGVfcm9sZVwiKVxuXG4gICAgaWYgKCFzdG9yZWRVc2VybmFtZSB8fCAoIXN0b3JlZExvYmJ5ICYmICF1cmxMb2JieUNvZGUpKSB7XG4gICAgICB0b2FzdCh7XG4gICAgICAgIHRpdGxlOiBcIlNlc3Npb24gZXhwaXJlZFwiLFxuICAgICAgICBkZXNjcmlwdGlvbjogXCJQbGVhc2Ugam9pbiBhIGxvYmJ5IGFnYWluXCIsXG4gICAgICAgIHZhcmlhbnQ6IFwiZGVzdHJ1Y3RpdmVcIixcbiAgICAgIH0pXG4gICAgICByb3V0ZXIucHVzaChcIi9cIilcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIHNldFVzZXJuYW1lKHN0b3JlZFVzZXJuYW1lKVxuICAgIHNldExvYmJ5Q29kZShzdG9yZWRMb2JieSB8fCB1cmxMb2JieUNvZGUpXG5cbiAgICBjb25zdCB3ZWJzb2NrZXRSb2xlID0gc3RvcmVkUm9sZSA9PT0gXCJhZG1pblwiID8gXCJsb2JieS1hZG1pblwiIDogc3RvcmVkUm9sZSB8fCBcInBsYXllclwiXG4gICAgc2V0Um9sZSh3ZWJzb2NrZXRSb2xlKVxuXG4gICAgaWYgKHN0b3JlZFJvbGUgPT09IFwiYWRtaW5cIikge1xuICAgICAgc2V0VXNlclRva2VuKHN0b3JlZEFkbWluVG9rZW4pXG4gICAgfSBlbHNlIGlmIChzdG9yZWRSb2xlID09PSBcInBsYXllclwiKSB7XG4gICAgICBzZXRVc2VyVG9rZW4oc3RvcmVkVG9rZW4pXG4gICAgfSBlbHNlIHtcbiAgICAgIHRvYXN0KHtcbiAgICAgICAgdGl0bGU6IFwiSW52YWxpZCBzZXNzaW9uXCIsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBcIk1pc3NpbmcgYXV0aGVudGljYXRpb24gdG9rZW5cIixcbiAgICAgICAgdmFyaWFudDogXCJkZXN0cnVjdGl2ZVwiLFxuICAgICAgfSlcbiAgICAgIHJvdXRlci5wdXNoKFwiL1wiKVxuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgaWYgKHN0b3JlZFJvbGUgPT09IFwiYWRtaW5cIikge1xuICAgICAgcmVxdWVzdE5ld1ZpZGVvKClcbiAgICB9XG5cbiAgICBpZiAoIWZhY2VBcGlMb2FkZWQgfHwgbW9kZWxzTG9hZGVkKSByZXR1cm47XG5cbiAgICBjb25zdCBsb2FkTW9kZWxzID0gYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgTU9ERUxfVVJMID0gJy9tb2RlbHMnO1xuICAgICAgaWYgKCF3aW5kb3cuZmFjZWFwaSkge1xuICAgICAgICB0b2FzdCh7IHRpdGxlOiBcIkZhY2VBUEkgTm90IFJlYWR5XCIsIGRlc2NyaXB0aW9uOiBcIkNhbm5vdCBsb2FkIG1vZGVscyB5ZXQuXCIsIHZhcmlhbnQ6IFwid2FybmluZ1wiIH0pO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0cnkge1xuICAgICAgICB0b2FzdCh7IHRpdGxlOiBcIkxvYWRpbmcgRmFjZSBNb2RlbHNcIiwgZGVzY3JpcHRpb246IFwiUGxlYXNlIHdhaXQuLi5cIiB9KTtcbiAgICAgICAgYXdhaXQgd2luZG93LmZhY2VhcGkubmV0cy50aW55RmFjZURldGVjdG9yLmxvYWRGcm9tVXJpKE1PREVMX1VSTCk7XG4gICAgICAgIHNldE1vZGVsc0xvYWRlZCh0cnVlKTtcbiAgICAgICAgc2V0RmFjZUFwaUxvYWRlZCh0cnVlKTtcbiAgICAgICAgdG9hc3QoeyB0aXRsZTogXCJGYWNlIE1vZGVscyBMb2FkZWRcIiwgZGVzY3JpcHRpb246IFwiUmVhZHkgZm9yIGZhY2UgZGV0ZWN0aW9uLlwiIH0pO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGxvYWRpbmcgZmFjZSBkZXRlY3Rpb24gbW9kZWxzOlwiLCBlcnJvcik7XG4gICAgICAgIHRvYXN0KHtcbiAgICAgICAgICB0aXRsZTogXCJNb2RlbCBMb2FkIEVycm9yXCIsXG4gICAgICAgICAgZGVzY3JpcHRpb246IFwiQ291bGQgbm90IGxvYWQgZmFjZSBkZXRlY3Rpb24gbW9kZWxzLlwiLFxuICAgICAgICAgIHZhcmlhbnQ6IFwiZGVzdHJ1Y3RpdmVcIixcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfTtcbiAgICBsb2FkTW9kZWxzKCk7XG4gIH0sIFtyb3V0ZXIsIHNlYXJjaFBhcmFtcywgdG9hc3QsIGZhY2VBcGlMb2FkZWQsIG1vZGVsc0xvYWRlZF0pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgaW5pdFdlYmNhbSA9IGFzeW5jICgpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHN0cmVhbSA9IGF3YWl0IG5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKHsgdmlkZW86IHRydWUgfSk7XG4gICAgICAgIGlmICh2aWRlb0VsZW1lbnRSZWYuY3VycmVudCkge1xuICAgICAgICAgIHZpZGVvRWxlbWVudFJlZi5jdXJyZW50LnNyY09iamVjdCA9IHN0cmVhbTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBhY2Nlc3Npbmcgd2ViY2FtOlwiLCBlcnIpO1xuICAgICAgICB0b2FzdCh7XG4gICAgICAgICAgdGl0bGU6IFwiV2ViY2FtIEVycm9yXCIsXG4gICAgICAgICAgZGVzY3JpcHRpb246IFwiQ291bGQgbm90IGFjY2VzcyB3ZWJjYW0uIFBsZWFzZSBjaGVjayBwZXJtaXNzaW9ucy5cIixcbiAgICAgICAgICB2YXJpYW50OiBcImRlc3RydWN0aXZlXCIsXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH07XG4gICAgaW5pdFdlYmNhbSgpO1xuICAgIC8vIENsZWFudXAgZnVuY3Rpb24gdG8gc3RvcCB3ZWJjYW0gdHJhY2tzIHdoZW4gY29tcG9uZW50IHVubW91bnRzXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGlmICh2aWRlb0VsZW1lbnRSZWYuY3VycmVudCAmJiB2aWRlb0VsZW1lbnRSZWYuY3VycmVudC5zcmNPYmplY3QpIHtcbiAgICAgICAgY29uc3Qgc3RyZWFtID0gdmlkZW9FbGVtZW50UmVmLmN1cnJlbnQuc3JjT2JqZWN0O1xuICAgICAgICBjb25zdCB0cmFja3MgPSBzdHJlYW0uZ2V0VHJhY2tzKCk7XG4gICAgICAgIHRyYWNrcy5mb3JFYWNoKHRyYWNrID0+IHRyYWNrLnN0b3AoKSk7XG4gICAgICAgIHZpZGVvRWxlbWVudFJlZi5jdXJyZW50LnNyY09iamVjdCA9IG51bGw7XG4gICAgICB9XG4gICAgfTtcbiAgfSwgW3RvYXN0XSk7XG5cbiAgY29uc3QgcmVxdWVzdE5ld1ZpZGVvID0gYXN5bmMgKCkgPT4ge1xuICAgIHNldElzTG9hZGluZ1ZpZGVvKHRydWUpXG4gICAgdHJ5IHtcbiAgICAgIGlmIChpc0Nvbm5lY3RlZCAmJiBzZW5kTWVzc2FnZSkge1xuICAgICAgICBzZW5kTWVzc2FnZShKU09OLnN0cmluZ2lmeSh7IHR5cGU6IFwibmV3X2dhbWVfdmlkZW9cIiB9KSlcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRvYXN0KHtcbiAgICAgICAgICB0aXRsZTogXCJDb25uZWN0aW9uIGVycm9yXCIsXG4gICAgICAgICAgZGVzY3JpcHRpb246IFwiTm90IGNvbm5lY3RlZCB0byBzZXJ2ZXIgdG8gcmVxdWVzdCB2aWRlby5cIixcbiAgICAgICAgICB2YXJpYW50OiBcImRlc3RydWN0aXZlXCIsXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHRvYXN0KHtcbiAgICAgICAgdGl0bGU6IFwiQ29ubmVjdGlvbiBlcnJvclwiLFxuICAgICAgICBkZXNjcmlwdGlvbjogXCJDb3VsZCBub3QgY29ubmVjdCB0byB0aGUgZ2FtZSBzZXJ2ZXIuXCIsXG4gICAgICAgIHZhcmlhbnQ6IFwiZGVzdHJ1Y3RpdmVcIixcbiAgICAgIH0pXG4gICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgZmV0Y2hpbmcgdmlkZW86XCIsIGVycm9yKVxuICAgIH0gZmluYWxseSB7XG4gICAgICBzZXRJc0xvYWRpbmdWaWRlbyhmYWxzZSlcbiAgICB9XG4gIH1cblxuICBjb25zdCBnZXRZb3VUdWJlVmlkZW9JZCA9ICh1cmwpID0+IHtcbiAgICBpZiAoIXVybCkgcmV0dXJuIG51bGxcbiAgICBjb25zdCByZWdFeHAgPSAvXi4qKHlvdXR1LmJlXFwvfHZcXC98dVxcL1xcd1xcL3xlbWJlZFxcL3xzaG9ydHNcXC98d2F0Y2hcXD92PXwmdj0pKFteIyY/XSopLiovXG4gICAgY29uc3QgbWF0Y2ggPSB1cmwubWF0Y2gocmVnRXhwKVxuICAgIHJldHVybiBtYXRjaCAmJiBtYXRjaFsyXS5sZW5ndGggPT09IDExID8gbWF0Y2hbMl0gOiBudWxsXG4gIH1cblxuICBjb25zdCBsb2FkX3ZpZGVvX2Zyb21fdXJsID0gKHZpZGVvX3VybF9mcm9tX3dzKSA9PiB7XG4gICAgaWYgKCF2aWRlb191cmxfZnJvbV93cyB8fCAhdmlkZW9Db250YWluZXJSZWYuY3VycmVudCkge1xuICAgICAgY29uc29sZS53YXJuKFwiTm8gdmlkZW8gVVJMIHByb3ZpZGVkIG9yIGNvbnRhaW5lciBub3QgZm91bmRcIilcbiAgICAgIHJldHVyblxuICAgIH1cbiAgICBzZXRWaWRlb1VybCh2aWRlb191cmxfZnJvbV93cyk7IC8vIFVwZGF0ZSB0aGUgdmlkZW9Vcmwgc3RhdGVcblxuICAgIGNvbnN0IGNvbnRhaW5lciA9IHZpZGVvQ29udGFpbmVyUmVmLmN1cnJlbnRcbiAgICBjb250YWluZXIuaW5uZXJIVE1MID0gXCJcIlxuXG4gICAgY29uc3QgbG9hZGluZ092ZXJsYXkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpXG4gICAgbG9hZGluZ092ZXJsYXkuY2xhc3NOYW1lID1cbiAgICAgIFwiYWJzb2x1dGUgaW5zZXQtMCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBiZy1ncmFkaWVudC10by1iciBmcm9tLXB1cnBsZS05MDAvNTAgdG8tcGluay05MDAvNTAgYmFja2Ryb3AtYmx1ci1zbSB6LTEwIHRyYW5zaXRpb24tb3BhY2l0eSBkdXJhdGlvbi01MDBcIlxuICAgIGxvYWRpbmdPdmVybGF5LmlubmVySFRNTCA9IGBcbiAgICAgIDxkaXYgY2xhc3M9XCJ0ZXh0LWNlbnRlclwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwidy0xNiBoLTE2IGJvcmRlci00IGJvcmRlci13aGl0ZS8yMCBib3JkZXItdC13aGl0ZSByb3VuZGVkLWZ1bGwgYW5pbWF0ZS1zcGluIG14LWF1dG8gbWItNFwiPjwvZGl2PlxuICAgICAgICA8cCBjbGFzcz1cInRleHQtd2hpdGUgdGV4dC1sZyBmb250LW1lZGl1bVwiPkxvYWRpbmcgdmlkZW8uLi48L3A+XG4gICAgICA8L2Rpdj5cbiAgICBgXG4gICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGxvYWRpbmdPdmVybGF5KVxuXG4gICAgY29uc3QgdmlkZW9JZCA9IGdldFlvdVR1YmVWaWRlb0lkKHZpZGVvX3VybF9mcm9tX3dzKVxuXG4gICAgaWYgKHZpZGVvSWQpIHtcbiAgICAgIGNvbnN0IGlmcmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpZnJhbWVcIilcbiAgICAgIGlmcmFtZS5jbGFzc05hbWUgPSBcImFic29sdXRlIGluc2V0LTAgdy1mdWxsIGgtZnVsbFwiXG4gICAgICBpZnJhbWUuc3JjID0gYGh0dHBzOi8vd3d3LnlvdXR1YmUuY29tL2VtYmVkLyR7dmlkZW9JZH0/YXV0b3BsYXk9MSZjb250cm9scz0wJmRpc2FibGVrYj0xJmZzPTAmbW9kZXN0YnJhbmRpbmc9MSZyZWw9MCZzaG93aW5mbz0wJml2X2xvYWRfcG9saWN5PTMmZW5hYmxlanNhcGk9MSZwbGF5c2lubGluZT0xJm11dGU9MGBcbiAgICAgIGlmcmFtZS50aXRsZSA9IFwiR2FtZSBWaWRlbyBQbGF5ZXJcIlxuICAgICAgaWZyYW1lLmZyYW1lQm9yZGVyID0gXCIwXCJcbiAgICAgIGlmcmFtZS5hbGxvdyA9IFwiYWNjZWxlcm9tZXRlcjsgYXV0b3BsYXk7IGNsaXBib2FyZC13cml0ZTsgZW5jcnlwdGVkLW1lZGlhOyBneXJvc2NvcGU7IHBpY3R1cmUtaW4tcGljdHVyZVwiXG4gICAgICBpZnJhbWUuYWxsb3dGdWxsc2NyZWVuID0gZmFsc2VcbiAgICAgIGlmcmFtZS5zdHlsZS5wb2ludGVyRXZlbnRzID0gXCJub25lXCJcblxuICAgICAgaWZyYW1lLm9ubG9hZCA9ICgpID0+IHtcbiAgICAgICAgbG9hZGluZ092ZXJsYXkuc3R5bGUub3BhY2l0eSA9IFwiMFwiXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIGlmIChsb2FkaW5nT3ZlcmxheS5wYXJlbnROb2RlKSB7XG4gICAgICAgICAgICBsb2FkaW5nT3ZlcmxheS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGxvYWRpbmdPdmVybGF5KVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgNTAwKVxuICAgICAgICB0b2FzdCh7IHRpdGxlOiBcIllvdVR1YmUgVmlkZW8gTG9hZGVkXCIsIGRlc2NyaXB0aW9uOiBcIlBsYXliYWNrIHN0YXJ0ZWQuXCIgfSk7XG4gICAgICB9XG4gICAgICBpZnJhbWUub25lcnJvciA9ICgpID0+IHtcbiAgICAgICAgaGFuZGxlVmlkZW9FcnJvcihcIkZhaWxlZCB0byBsb2FkIFlvdVR1YmUgdmlkZW9cIilcbiAgICAgIH1cbiAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChpZnJhbWUpXG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHZpZGVvID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInZpZGVvXCIpXG4gICAgICB2aWRlby5jbGFzc05hbWUgPSBcInctZnVsbCBoLWZ1bGwgb2JqZWN0LWNvdmVyIHJvdW5kZWQteGxcIlxuICAgICAgdmlkZW8uc3JjID0gdmlkZW9fdXJsX2Zyb21fd3NcbiAgICAgIHZpZGVvLmF1dG9wbGF5ID0gdHJ1ZVxuICAgICAgdmlkZW8ubXV0ZWQgPSB0cnVlIFxuICAgICAgdmlkZW8ucGxheXNJbmxpbmUgPSB0cnVlXG4gICAgICB2aWRlby5sb29wID0gZmFsc2VcbiAgICAgIHZpZGVvLnByZWxvYWQgPSBcImF1dG9cIlxuICAgICAgdmlkZW8uY29udHJvbHMgPSBmYWxzZVxuICAgICAgdmlkZW8uc3R5bGUucG9pbnRlckV2ZW50cyA9IFwibm9uZVwiXG5cbiAgICAgIHZpZGVvLm9ubG9hZGVkZGF0YSA9ICgpID0+IHtcbiAgICAgICAgbG9hZGluZ092ZXJsYXkuc3R5bGUub3BhY2l0eSA9IFwiMFwiXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIGlmIChsb2FkaW5nT3ZlcmxheS5wYXJlbnROb2RlKSB7XG4gICAgICAgICAgICBsb2FkaW5nT3ZlcmxheS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGxvYWRpbmdPdmVybGF5KVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgNTAwKVxuICAgICAgICB0b2FzdCh7IHRpdGxlOiBcIlZpZGVvIEZpbGUgTG9hZGVkXCIsIGRlc2NyaXB0aW9uOiBcIlBsYXliYWNrIHN0YXJ0ZWQuXCIgfSk7XG4gICAgICB9XG4gICAgICB2aWRlby5vbmVycm9yID0gKCkgPT4ge1xuICAgICAgICBoYW5kbGVWaWRlb0Vycm9yKFwiRmFpbGVkIHRvIGxvYWQgdmlkZW8gZmlsZVwiKVxuICAgICAgfVxuICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHZpZGVvKVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGhhbmRsZVZpZGVvRXJyb3IoZXJyb3JNZXNzYWdlKSB7XG4gICAgICBpZiAobG9hZGluZ092ZXJsYXkucGFyZW50Tm9kZSkge1xuICAgICAgICAgbG9hZGluZ092ZXJsYXkuaW5uZXJIVE1MID0gYFxuICAgICAgICA8ZGl2IGNsYXNzPVwidGV4dC1jZW50ZXJcIj5cbiAgICAgICAgICA8cCBjbGFzcz1cInRleHQtcmVkLTQwMCB0ZXh0LWxnIGZvbnQtbWVkaXVtIG1iLTJcIj5WaWRlbyBMb2FkIEVycm9yPC9wPlxuICAgICAgICAgIDxwIGNsYXNzPVwidGV4dC13aGl0ZS83MCB0ZXh0LXNtXCI+JHtlcnJvck1lc3NhZ2V9PC9wPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIGBcbiAgICAgIH1cbiAgICAgIHRvYXN0KHsgdGl0bGU6IFwiVmlkZW8gRXJyb3JcIiwgZGVzY3JpcHRpb246IGVycm9yTWVzc2FnZSwgdmFyaWFudDogXCJkZXN0cnVjdGl2ZVwiIH0pXG4gICAgfVxuICB9XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAodmlkZW9fdXJsKSB7XG4gICAgICBsb2FkX3ZpZGVvX2Zyb21fdXJsKHZpZGVvX3VybCk7XG4gICAgfVxuICB9LCBbdmlkZW9fdXJsXSk7XG5cbiAgYXN5bmMgZnVuY3Rpb24gZGV0ZWN0QW5kU2VuZEZhY2UoKSB7XG4gICAgY29uc3QgY3VycmVudFZpZGVvRWxlbWVudCA9IHZpZGVvRWxlbWVudFJlZi5jdXJyZW50O1xuICAgIGlmICghY3VycmVudFZpZGVvRWxlbWVudCB8fCBjdXJyZW50VmlkZW9FbGVtZW50LnBhdXNlZCB8fCBjdXJyZW50VmlkZW9FbGVtZW50LnJlYWR5U3RhdGUgPCAzKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKCF3aW5kb3cuZmFjZWFwaSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICBjb25zdCBvcHRpb25zID0gbmV3IHdpbmRvdy5mYWNlYXBpLlRpbnlGYWNlRGV0ZWN0b3JPcHRpb25zKHtcbiAgICAgICAgaW5wdXRTaXplOiAyMjQsXG4gICAgICAgIHNjb3JlVGhyZXNob2xkOiAwLjUsXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgZGV0ZWN0aW9ucyA9IGF3YWl0IHdpbmRvdy5mYWNlYXBpLmRldGVjdEFsbEZhY2VzKGN1cnJlbnRWaWRlb0VsZW1lbnQsIG9wdGlvbnMpO1xuXG4gICAgICBpZiAoZGV0ZWN0aW9ucy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoZGV0ZWN0aW9ucy5sZW5ndGggPiAxKSB7XG4gICAgICAgIC8vIHRvYXN0KHsgdGl0bGU6IFwiTXVsdGlwbGUgZmFjZXMgZGV0ZWN0ZWRcIiwgZGVzY3JpcHRpb246IFwiUGxlYXNlIGVuc3VyZSBvbmx5IG9uZSBwZXJzb24gaXMgdmlzaWJsZS5cIiwgdmFyaWFudDogXCJ3YXJuaW5nXCIgfSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgY29uc3QgZGV0ZWN0aW9uID0gZGV0ZWN0aW9uc1swXTtcbiAgICAgIGNvbnN0IGJveCA9IGRldGVjdGlvbi5kZXRlY3Rpb24gPyBkZXRlY3Rpb24uZGV0ZWN0aW9uLmJveCA6IGRldGVjdGlvbi5ib3g7XG5cbiAgICAgIGlmICghYm94KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgY29uc3QgdGVtcENhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7XG4gICAgICBjb25zdCB0ZW1wQ29udGV4dCA9IHRlbXBDYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xuXG4gICAgICBjb25zdCBwYWRkaW5nID0gMC4xO1xuICAgICAgY29uc3QgcGFkZGVkV2lkdGggPSBib3gud2lkdGggKiAoMSArIHBhZGRpbmcgKiAyKTtcbiAgICAgIGNvbnN0IHBhZGRlZEhlaWdodCA9IGJveC5oZWlnaHQgKiAoMSArIHBhZGRpbmcgKiAyKTtcbiAgICAgIGNvbnN0IHBhZGRlZFggPSBib3gueCAtIGJveC53aWR0aCAqIHBhZGRpbmc7XG4gICAgICBjb25zdCBwYWRkZWRZID0gYm94LnkgLSBib3guaGVpZ2h0ICogcGFkZGluZztcblxuICAgICAgY29uc3QgY3JvcFggPSBNYXRoLm1heCgwLCBwYWRkZWRYKTtcbiAgICAgIGNvbnN0IGNyb3BZID0gTWF0aC5tYXgoMCwgcGFkZGVkWSk7XG4gICAgICBjb25zdCBjcm9wV2lkdGggPSBNYXRoLm1pbihwYWRkZWRXaWR0aCwgY3VycmVudFZpZGVvRWxlbWVudC52aWRlb1dpZHRoIC0gY3JvcFgpO1xuICAgICAgY29uc3QgY3JvcEhlaWdodCA9IE1hdGgubWluKHBhZGRlZEhlaWdodCwgY3VycmVudFZpZGVvRWxlbWVudC52aWRlb0hlaWdodCAtIGNyb3BZKTtcbiAgICAgIFxuICAgICAgaWYgKGNyb3BXaWR0aCA8PSAwIHx8IGNyb3BIZWlnaHQgPD0gMCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHRlbXBDYW52YXMud2lkdGggPSBjcm9wV2lkdGg7XG4gICAgICB0ZW1wQ2FudmFzLmhlaWdodCA9IGNyb3BIZWlnaHQ7XG5cbiAgICAgIHRlbXBDb250ZXh0LmRyYXdJbWFnZShcbiAgICAgICAgY3VycmVudFZpZGVvRWxlbWVudCxcbiAgICAgICAgY3JvcFgsXG4gICAgICAgIGNyb3BZLFxuICAgICAgICBjcm9wV2lkdGgsXG4gICAgICAgIGNyb3BIZWlnaHQsXG4gICAgICAgIDAsXG4gICAgICAgIDAsXG4gICAgICAgIGNyb3BXaWR0aCxcbiAgICAgICAgY3JvcEhlaWdodFxuICAgICAgKTtcblxuICAgICAgY29uc3QgaW1hZ2VEYXRhVXJsID0gdGVtcENhbnZhcy50b0RhdGFVUkwoXCJpbWFnZS9qcGVnXCIsIDAuNyk7XG4gICAgICBjb25zdCBiYXNlNjREYXRhID0gaW1hZ2VEYXRhVXJsLnNwbGl0KFwiLFwiKVsxXTtcblxuICAgICAgXG4gICAgICBpZiAoc2VuZE1lc3NhZ2UpIHtcbiAgICAgICAgc2VuZE1lc3NhZ2UoXCJ1cGxvYWRfaW1hZ2VcIiwgYmFzZTY0RGF0YSk7XG4gICAgICB9XG5cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihcIkZhY2UgY3JvcCBhbmQgc2VuZCBlcnJvcjpcIiwgZXJyb3IpO1xuICAgICAgLy8gdG9hc3Qoe1xuICAgICAgLy8gICB0aXRsZTogXCJGYWNlIERldGVjdGlvbiBFcnJvclwiLFxuICAgICAgLy8gICBkZXNjcmlwdGlvbjogYEZhaWxlZCB0byBjcm9wIGFuZCBzZW5kIGZhY2U6ICR7ZXJyb3IubWVzc2FnZX1gLFxuICAgICAgLy8gICB2YXJpYW50OiBcImRlc3RydWN0aXZlXCIsXG4gICAgICAvLyB9KTtcbiAgICB9XG4gIH1cblxuICAvLyBSZW5hbWVkIHRvIGF2b2lkIGNvbmZsaWN0IHdpdGggZGV0ZWN0QW5kU2VuZEZhY2Ugd2hpY2ggaXMgYXN5bmNcbiAgZnVuY3Rpb24gdHJpZ2dlckZhY2VJbWFnZVNlbmQoKSB7IFxuICAgIGlmICghaXNDb25uZWN0ZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgY3VycmVudFZpZGVvRWxlbWVudCA9IHZpZGVvRWxlbWVudFJlZi5jdXJyZW50O1xuICAgIGlmICghY3VycmVudFZpZGVvRWxlbWVudCB8fCBjdXJyZW50VmlkZW9FbGVtZW50LnBhdXNlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoIW1vZGVsc0xvYWRlZCB8fCAhZmFjZUFwaUxvYWRlZCkgeyAvLyBDaGVjayBib3RoIGZsYWdzXG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGRldGVjdEFuZFNlbmRGYWNlKCk7IC8vIENhbGwgdGhlIGFzeW5jIGZ1bmN0aW9uXG4gIH1cblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGxldCBpbnRlcnZhbElkO1xuICAgIGlmIChpc0Nvbm5lY3RlZCAmJiBtb2RlbHNMb2FkZWQgJiYgZmFjZUFwaUxvYWRlZCkge1xuICAgICAgaW50ZXJ2YWxJZCA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgICAgdHJpZ2dlckZhY2VJbWFnZVNlbmQoKTsgLy8gVXNlIHRoZSByZW5hbWVkIHdyYXBwZXIgZnVuY3Rpb25cbiAgICAgIH0sIDUwMCk7XG4gICAgfVxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBpZiAoaW50ZXJ2YWxJZCkge1xuICAgICAgICBjbGVhckludGVydmFsKGludGVydmFsSWQpO1xuICAgICAgfVxuICAgIH07XG4gIH0sIFtpc0Nvbm5lY3RlZCwgbW9kZWxzTG9hZGVkLCBmYWNlQXBpTG9hZGVkLCBsb2JieUNvZGUsIHVzZXJuYW1lLCBzZW5kTWVzc2FnZV0pOyAvLyBBZGRlZCByZWxldmFudCBkZXBlbmRlbmNpZXNcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBpZiAodmlkZW9Db250YWluZXJSZWYuY3VycmVudD8uX2NsZWFudXApIHtcbiAgICAgICAgdmlkZW9Db250YWluZXJSZWYuY3VycmVudC5fY2xlYW51cCgpXG4gICAgICB9XG4gICAgfVxuICB9LCBbXSlcblxuICBjb25zdCBoYW5kbGVMZWF2ZUdhbWUgPSAoKSA9PiB7XG4gICAgZGlzY29ubmVjdCgpXG4gICAgcm91dGVyLnB1c2goXCIvbG9iYnlcIilcbiAgfVxuXG4gIGlmIChjb25uZWN0aW9uRXJyb3IpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtaW4taC1zY3JlZW4gZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgYmctZ3JhZGllbnQtdG8tYnIgZnJvbS1wdXJwbGUtNjAwIHZpYS1waW5rLTYwMCB0by1ibHVlLTYwMCBwLTRcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy13aGl0ZS85NSBiYWNrZHJvcC1ibHVyLXhsIHJvdW5kZWQtM3hsIHAtOCB0ZXh0LWNlbnRlclwiPlxuICAgICAgICAgIDxoMiBjbGFzc05hbWU9XCJ0ZXh0LTJ4bCBmb250LWJvbGQgdGV4dC1yZWQtNjAwIG1iLTRcIj5Db25uZWN0aW9uIEVycm9yPC9oMj5cbiAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNzAwIG1iLTRcIj57Y29ubmVjdGlvbkVycm9yfTwvcD5cbiAgICAgICAgICA8QnV0dG9uIG9uQ2xpY2s9eygpID0+IHJvdXRlci5wdXNoKFwiL2xvYmJ5XCIpfSBjbGFzc05hbWU9XCJiZy1wdXJwbGUtNjAwIGhvdmVyOmJnLXB1cnBsZS03MDBcIj5cbiAgICAgICAgICAgIFJldHVybiB0byBMb2JieVxuICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJtaW4taC1zY3JlZW4gZmxleCBmbGV4LWNvbCBiZy1ncmFkaWVudC10by1iciBmcm9tLXB1cnBsZS02MDAgdmlhLXBpbmstNjAwIHRvLWJsdWUtNjAwXCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtY2VudGVyIHB5LTRcIj5cbiAgICAgICAgPGgxIGNsYXNzTmFtZT1cInRleHQtd2hpdGUgdGV4dC00eGwgZm9udC1ib2xkIHRyYWNraW5nLXdpZGVcIj5cbiAgICAgICAgICBLUkFDS0xFPHNwYW4gY2xhc3NOYW1lPVwidGV4dC15ZWxsb3ctMzAwXCI+LkNPPC9zcGFuPlxuICAgICAgICA8L2gxPlxuICAgICAgICA8aDIgY2xhc3NOYW1lPVwidGV4dC13aGl0ZSB0ZXh0LXhsIG10LTFcIj5HYW1lOiB7bG9iYnlDb2RlfTwvaDI+XG4gICAgICA8L2Rpdj5cblxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIG1kOmZsZXgtcm93IGZsZXgtMSBwLTQgZ2FwLTRcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LWZ1bGwgbWQ6dy02NCBiZy13aGl0ZS8xMCBiYWNrZHJvcC1ibHVyLW1kIHJvdW5kZWQteGwgcC00XCI+XG4gICAgICAgICAgPGgzIGNsYXNzTmFtZT1cInRleHQtd2hpdGUgdGV4dC14bCBmb250LWJvbGQgbWItNCBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxuICAgICAgICAgICAgPFVzZXJzIGNsYXNzTmFtZT1cInctNSBoLTVcIiAvPiBQbGF5ZXJzXG4gICAgICAgICAgPC9oMz5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktMiBtYXgtaC1bNjB2aF0gb3ZlcmZsb3cteS1hdXRvXCI+XG4gICAgICAgICAgICB7cGxheWVycy5sZW5ndGggPiAwID8gKFxuICAgICAgICAgICAgICBwbGF5ZXJzLm1hcCgocGxheWVyLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGlzVmVyaWZpZWQgPSB2ZXJpZmllZFBsYXllcnMuaW5jbHVkZXMocGxheWVyKSAvLyBSRVZFUlRFRDogQ2hlY2sgZGlyZWN0bHkgYWdhaW5zdCBwbGF5ZXIgc3RyaW5nXG5cbiAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICBrZXk9e2luZGV4fSBcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgcC0zIHJvdW5kZWQtbGcgJHtcbiAgICAgICAgICAgICAgICAgICAgICBpc1ZlcmlmaWVkXG4gICAgICAgICAgICAgICAgICAgICAgICA/IFwiYmctZ3JhZGllbnQtdG8tciBmcm9tLWdyZWVuLTIwMC84MCB0by1ncmVlbi0xMDAvODAgYmFja2Ryb3AtYmx1ci1tZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICA6IFwiYmctZ3JheS0yMDAvODAgYmFja2Ryb3AtYmx1ci1tZFwiXG4gICAgICAgICAgICAgICAgICAgIH0gZmxleCBpdGVtcy1jZW50ZXJgfVxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgaC04IHctOCByb3VuZGVkLWZ1bGwgJHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzVmVyaWZpZWQgPyBcImJnLWdyYWRpZW50LXRvLXIgZnJvbS1ncmVlbi01MDAgdG8tZW1lcmFsZC01MDBcIiA6IFwiYmctZ3JheS01MDBcIlxuICAgICAgICAgICAgICAgICAgICAgIH0gdGV4dC13aGl0ZSBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBtci0zYH1cbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgIHtwbGF5ZXIuY2hhckF0KDApLnRvVXBwZXJDYXNlKCl9IFxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZm9udC1tZWRpdW1cIj5cbiAgICAgICAgICAgICAgICAgICAgICB7cGxheWVyfSB7cGxheWVyID09PSB1c2VybmFtZSAmJiBcIihZb3UpXCJ9IFxuICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgIHsvKiBSRVZFUlRFRDogT3JpZ2luYWwgYWRtaW4gY2hlY2sgKGZpcnN0IHBsYXllcikgKi99XG4gICAgICAgICAgICAgICAgICAgIHtpbmRleCA9PT0gMCAmJiA8Q3Jvd24gY2xhc3NOYW1lPVwidy00IGgtNCB0ZXh0LXllbGxvdy01MDAgbWwtMlwiIC8+fVxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlciBweS00IHRleHQtd2hpdGVcIj5cbiAgICAgICAgICAgICAgICA8TG9hZGVyMiBjbGFzc05hbWU9XCJ3LTYgaC02IGFuaW1hdGUtc3BpbiBteC1hdXRvIG1iLTJcIiAvPlxuICAgICAgICAgICAgICAgIDxwPkxvYWRpbmcgcGxheWVycy4uLjwvcD5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgtMSBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy1bNDAwcHhdIGJnLXdoaXRlIHJvdW5kZWQteGwgcC00IGgtWzYwMHB4XSBmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgganVzdGlmeS1iZXR3ZWVuIGl0ZW1zLWNlbnRlciBtYi00XCI+XG4gICAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJ0ZXh0LTJ4bCBmb250LWJvbGRcIj5HYW1lIFZpZGVvPC9oMz5cbiAgICAgICAgICAgICAge3JvbGUgPT09IFwibG9iYnktYWRtaW5cIiAmJiAoXG4gICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgb25DbGljaz17cmVxdWVzdE5ld1ZpZGVvfVxuICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2lzTG9hZGluZ1ZpZGVvfVxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYmctcHVycGxlLTYwMCBob3ZlcjpiZy1wdXJwbGUtNzAwIHRleHQtd2hpdGVcIlxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIHtpc0xvYWRpbmdWaWRlbyA/IChcbiAgICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgICA8TG9hZGVyMiBjbGFzc05hbWU9XCJ3LTQgaC00IG1yLTIgYW5pbWF0ZS1zcGluXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICBMb2FkaW5nLi4uXG4gICAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgICA8UmVmcmVzaEN3IGNsYXNzTmFtZT1cInctNCBoLTQgbXItMlwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgTmV3IFZpZGVvXG4gICAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgtMSByZWxhdGl2ZSB3LWZ1bGwgcm91bmRlZC1sZyBvdmVyZmxvdy1oaWRkZW4gYmctYmxhY2tcIiByZWY9e3ZpZGVvQ29udGFpbmVyUmVmfT5cbiAgICAgICAgICAgICAgeyF2aWRlb191cmwgJiYgIXZpZGVvVXJsICYmIChcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIGluc2V0LTAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgPFBsYXkgY2xhc3NOYW1lPVwidy0xMiBoLTEyIG14LWF1dG8gbWItNCB0ZXh0LWdyYXktNTAwXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1ncmF5LTUwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgIHtyb2xlID09PSBcImxvYmJ5LWFkbWluXCJcbiAgICAgICAgICAgICAgICAgICAgICAgID8gXCJDbGljayAnTmV3IFZpZGVvJyB0byBzdGFydCB0aGUgZ2FtZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICA6IFwiV2FpdGluZyBmb3IgdGhlIGhvc3QgdG8gc3RhcnQgYSB2aWRlby4uLlwifVxuICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTQgZmxleCBqdXN0aWZ5LWNlbnRlclwiPlxuICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYmctcmVkLTQwMCBob3ZlcjpiZy1yZWQtNTAwIHRleHQtd2hpdGUgcm91bmRlZC1mdWxsIHB4LTYgcHktMiB0ZXh0LWxnIGZvbnQtYm9sZFwiXG4gICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlTGVhdmVHYW1lfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPExvZ091dCBjbGFzc05hbWU9XCJ3LTUgaC01IG1yLTJcIiAvPlxuICAgICAgICAgICAgICAgIExFQVZFIEdBTUVcbiAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cblxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJmaXhlZCBib3R0b20tNiByaWdodC02IHotMjBcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyZWxhdGl2ZSBmbGV4IGZsZXgtY29sIGl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmVsYXRpdmUgdy04IGgtNDAgbWItMFwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSBpbnNldC0wIGJnLXdoaXRlLzIwIGJhY2tkcm9wLWJsdXItc20gcm91bmRlZC1mdWxsIGJvcmRlciBib3JkZXItd2hpdGUvMzBcIj48L2Rpdj5cbiAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYWJzb2x1dGUgYm90dG9tLTAgbGVmdC0wIHJpZ2h0LTAgcm91bmRlZC1mdWxsIHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTMwMCBlYXNlLW91dFwiXG4gICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgaGVpZ2h0OiBgJHtnYW1lUHJvZ3Jlc3N9JWAsXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZDogYGxpbmVhci1ncmFkaWVudCh0byB0b3AsICMyMmM1NWUsICNlYWIzMDgsICNlZjQ0NDQpYCxcbiAgICAgICAgICAgICAgICBtYXJnaW46IFwiMnB4XCIsXG4gICAgICAgICAgICAgICAgd2lkdGg6IFwiY2FsYygxMDAlIC0gNHB4KVwiLFxuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgPjwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSAtcmlnaHQtMTAgdG9wLTEvMiAtdHJhbnNsYXRlLXktMS8yXCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctYmxhY2svNTAgYmFja2Ryb3AtYmx1ci1zbSByb3VuZGVkLWxnIHB4LTIgcHktMVwiPlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtd2hpdGUgZm9udC1ib2xkIHRleHQteHNcIj57TWF0aC5yb3VuZChnYW1lUHJvZ3Jlc3MpfSU8L3NwYW4+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJlbGF0aXZlXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJlbGF0aXZlIHctMzIgaC0zMiByb3VuZGVkLWZ1bGwgb3ZlcmZsb3ctaGlkZGVuIGJvcmRlci00IGJvcmRlci13aGl0ZS8zMCBzaGFkb3cteGxcIj5cbiAgICAgICAgICAgICAgey8qIE1PRElGSUVEOiBVc2UgdmlkZW9FbGVtZW50UmVmIGZvciB0aGUgd2ViY2FtIHZpZGVvIGVsZW1lbnQgKi99XG4gICAgICAgICAgICAgIDx2aWRlbyByZWY9e3ZpZGVvRWxlbWVudFJlZn0gaWQ9XCJ3ZWJjYW1cIiBjbGFzc05hbWU9XCJhYnNvbHV0ZSB3LWZ1bGwgaC1mdWxsIG9iamVjdC1jb3ZlclwiIGF1dG9QbGF5IHBsYXlzSW5saW5lIG11dGVkPjwvdmlkZW8+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWJzb2x1dGUgdG9wLTEgcmlnaHQtMSB6LTEwXCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTEgYmctYmxhY2svNTAgYmFja2Ryb3AtYmx1ci1zbSByb3VuZGVkLWZ1bGwgcHgtMS41IHB5LTAuNVwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0xLjUgaC0xLjUgYmctcmVkLTUwMCByb3VuZGVkLWZ1bGwgYW5pbWF0ZS1wdWxzZVwiPjwvZGl2PlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtd2hpdGUgdGV4dC14cyBmb250LW1lZGl1bVwiPkxJVkU8L3NwYW4+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicHktNCB0ZXh0LWNlbnRlciB0ZXh0LXdoaXRlIHRleHQteHNcIj5cbiAgICAgICAgTUFERSBXSVRIIExPVkUgQlkgSEFZU09OLCBORUxTT04sIEFORCBCT1lBIDxzcGFuIGNsYXNzTmFtZT1cIm1sLTFcIj7inaTvuI88L3NwYW4+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKVxufVxuIl0sIm5hbWVzIjpbInVzZUVmZmVjdCIsInVzZVN0YXRlIiwidXNlUmVmIiwidXNlUm91dGVyIiwidXNlU2VhcmNoUGFyYW1zIiwidXNlVG9hc3QiLCJCdXR0b24iLCJVc2VycyIsIkNyb3duIiwiTG9hZGVyMiIsIlJlZnJlc2hDdyIsIlBsYXkiLCJMb2dPdXQiLCJ1c2VXZWJTb2NrZXQiLCJzZXQiLCJBUElfQkFTRV9VUkwiLCJHYW1lUGFnZSIsInVzZXJuYW1lIiwic2V0VXNlcm5hbWUiLCJsb2JieUNvZGUiLCJzZXRMb2JieUNvZGUiLCJ1c2VyVG9rZW4iLCJzZXRVc2VyVG9rZW4iLCJyb2xlIiwic2V0Um9sZSIsImlzTG9hZGluZ1ZpZGVvIiwic2V0SXNMb2FkaW5nVmlkZW8iLCJ2ZXJpZmllZFBsYXllcnMiLCJzZXRWZXJpZmllZFBsYXllcnMiLCJ2aWRlb1VybCIsInNldFZpZGVvVXJsIiwiZ2FtZVByb2dyZXNzIiwic2V0R2FtZVByb2dyZXNzIiwibW9kZWxzTG9hZGVkIiwic2V0TW9kZWxzTG9hZGVkIiwiZmFjZUFwaUxvYWRlZCIsInNldEZhY2VBcGlMb2FkZWQiLCJ2aWRlb0NvbnRhaW5lclJlZiIsInZpZGVvRWxlbWVudFJlZiIsInJvdXRlciIsInNlYXJjaFBhcmFtcyIsInRvYXN0IiwiaXNDb25uZWN0ZWQiLCJtZXNzYWdlcyIsInBsYXllcnMiLCJsb2JieUluZm8iLCJjb25uZWN0aW9uRXJyb3IiLCJ2ZXJpZmllZF91c2VybmFtZXMiLCJnYW1lX3N0YXJ0ZWQiLCJ2aWRlb191cmwiLCJsYXVnaE1ldGVycyIsImRhdGEiLCJzZW5kQ2hhdE1lc3NhZ2UiLCJsZWF2ZUxvYmJ5Iiwia2lja1BsYXllciIsInN0YXJ0R2FtZSIsImNsb3NlTG9iYnkiLCJkaXNiYW5kTG9iYnkiLCJtdXRlUGxheWVyIiwidW5tdXRlUGxheWVyIiwiY2hhbmdlU2V0dGluZ3MiLCJzZW5kTWVzc2FnZSIsImRpc2Nvbm5lY3QiLCJ3aW5kb3ciLCJmYWNlYXBpIiwic2NyaXB0IiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50Iiwic3JjIiwiYXN5bmMiLCJvbmxvYWQiLCJ0aXRsZSIsImRlc2NyaXB0aW9uIiwib25lcnJvciIsInZhcmlhbnQiLCJib2R5IiwiYXBwZW5kQ2hpbGQiLCJzdG9yZWRVc2VybmFtZSIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJzdG9yZWRMb2JieSIsInN0b3JlZFRva2VuIiwic3RvcmVkUm9sZSIsInVybExvYmJ5Q29kZSIsInB1c2giLCJ3ZWJzb2NrZXRSb2xlIiwic3RvcmVkQWRtaW5Ub2tlbiIsInJlcXVlc3ROZXdWaWRlbyIsImxvYWRNb2RlbHMiLCJNT0RFTF9VUkwiLCJuZXRzIiwidGlueUZhY2VEZXRlY3RvciIsImxvYWRGcm9tVXJpIiwiZXJyb3IiLCJjb25zb2xlIiwiaW5pdFdlYmNhbSIsInN0cmVhbSIsIm5hdmlnYXRvciIsIm1lZGlhRGV2aWNlcyIsImdldFVzZXJNZWRpYSIsInZpZGVvIiwiY3VycmVudCIsInNyY09iamVjdCIsImVyciIsInRyYWNrcyIsImdldFRyYWNrcyIsImZvckVhY2giLCJ0cmFjayIsInN0b3AiLCJKU09OIiwic3RyaW5naWZ5IiwidHlwZSIsImdldFlvdVR1YmVWaWRlb0lkIiwidXJsIiwicmVnRXhwIiwibWF0Y2giLCJsZW5ndGgiLCJsb2FkX3ZpZGVvX2Zyb21fdXJsIiwidmlkZW9fdXJsX2Zyb21fd3MiLCJ3YXJuIiwiY29udGFpbmVyIiwiaW5uZXJIVE1MIiwibG9hZGluZ092ZXJsYXkiLCJjbGFzc05hbWUiLCJ2aWRlb0lkIiwiaWZyYW1lIiwiZnJhbWVCb3JkZXIiLCJhbGxvdyIsImFsbG93RnVsbHNjcmVlbiIsInN0eWxlIiwicG9pbnRlckV2ZW50cyIsIm9wYWNpdHkiLCJzZXRUaW1lb3V0IiwicGFyZW50Tm9kZSIsInJlbW92ZUNoaWxkIiwiaGFuZGxlVmlkZW9FcnJvciIsImF1dG9wbGF5IiwibXV0ZWQiLCJwbGF5c0lubGluZSIsImxvb3AiLCJwcmVsb2FkIiwiY29udHJvbHMiLCJvbmxvYWRlZGRhdGEiLCJlcnJvck1lc3NhZ2UiLCJkZXRlY3RBbmRTZW5kRmFjZSIsImN1cnJlbnRWaWRlb0VsZW1lbnQiLCJwYXVzZWQiLCJyZWFkeVN0YXRlIiwib3B0aW9ucyIsIlRpbnlGYWNlRGV0ZWN0b3JPcHRpb25zIiwiaW5wdXRTaXplIiwic2NvcmVUaHJlc2hvbGQiLCJkZXRlY3Rpb25zIiwiZGV0ZWN0QWxsRmFjZXMiLCJkZXRlY3Rpb24iLCJib3giLCJ0ZW1wQ2FudmFzIiwidGVtcENvbnRleHQiLCJnZXRDb250ZXh0IiwicGFkZGluZyIsInBhZGRlZFdpZHRoIiwid2lkdGgiLCJwYWRkZWRIZWlnaHQiLCJoZWlnaHQiLCJwYWRkZWRYIiwieCIsInBhZGRlZFkiLCJ5IiwiY3JvcFgiLCJNYXRoIiwibWF4IiwiY3JvcFkiLCJjcm9wV2lkdGgiLCJtaW4iLCJ2aWRlb1dpZHRoIiwiY3JvcEhlaWdodCIsInZpZGVvSGVpZ2h0IiwiZHJhd0ltYWdlIiwiaW1hZ2VEYXRhVXJsIiwidG9EYXRhVVJMIiwiYmFzZTY0RGF0YSIsInNwbGl0IiwidHJpZ2dlckZhY2VJbWFnZVNlbmQiLCJpbnRlcnZhbElkIiwic2V0SW50ZXJ2YWwiLCJjbGVhckludGVydmFsIiwiX2NsZWFudXAiLCJoYW5kbGVMZWF2ZUdhbWUiLCJkaXYiLCJoMiIsInAiLCJvbkNsaWNrIiwiaDEiLCJzcGFuIiwiaDMiLCJtYXAiLCJwbGF5ZXIiLCJpbmRleCIsImlzVmVyaWZpZWQiLCJpbmNsdWRlcyIsImNoYXJBdCIsInRvVXBwZXJDYXNlIiwiZGlzYWJsZWQiLCJyZWYiLCJiYWNrZ3JvdW5kIiwibWFyZ2luIiwicm91bmQiLCJpZCIsImF1dG9QbGF5Il0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./app/game/page.jsx\n"));

/***/ })

});