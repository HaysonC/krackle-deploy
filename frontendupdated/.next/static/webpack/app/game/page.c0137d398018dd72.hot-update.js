"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/game/page",{

/***/ "(app-pages-browser)/./app/game/page.jsx":
/*!***************************!*\
  !*** ./app/game/page.jsx ***!
  \***************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ GamePage)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_navigation__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/navigation */ \"(app-pages-browser)/./node_modules/next/dist/api/navigation.js\");\n/* harmony import */ var _components_ui_use_toast__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/components/ui/use-toast */ \"(app-pages-browser)/./components/ui/use-toast.ts\");\n/* harmony import */ var _components_ui_button__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/components/ui/button */ \"(app-pages-browser)/./components/ui/button.tsx\");\n/* harmony import */ var _barrel_optimize_names_Crown_Loader2_LogOut_Play_RefreshCw_Users_lucide_react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! __barrel_optimize__?names=Crown,Loader2,LogOut,Play,RefreshCw,Users!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/users.js\");\n/* harmony import */ var _barrel_optimize_names_Crown_Loader2_LogOut_Play_RefreshCw_Users_lucide_react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! __barrel_optimize__?names=Crown,Loader2,LogOut,Play,RefreshCw,Users!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/crown.js\");\n/* harmony import */ var _barrel_optimize_names_Crown_Loader2_LogOut_Play_RefreshCw_Users_lucide_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! __barrel_optimize__?names=Crown,Loader2,LogOut,Play,RefreshCw,Users!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/loader-circle.js\");\n/* harmony import */ var _barrel_optimize_names_Crown_Loader2_LogOut_Play_RefreshCw_Users_lucide_react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! __barrel_optimize__?names=Crown,Loader2,LogOut,Play,RefreshCw,Users!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/refresh-cw.js\");\n/* harmony import */ var _barrel_optimize_names_Crown_Loader2_LogOut_Play_RefreshCw_Users_lucide_react__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! __barrel_optimize__?names=Crown,Loader2,LogOut,Play,RefreshCw,Users!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/play.js\");\n/* harmony import */ var _barrel_optimize_names_Crown_Loader2_LogOut_Play_RefreshCw_Users_lucide_react__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! __barrel_optimize__?names=Crown,Loader2,LogOut,Play,RefreshCw,Users!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/log-out.js\");\n/* harmony import */ var _hooks_use_websocket__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/hooks/use-websocket */ \"(app-pages-browser)/./hooks/use-websocket.js\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\n\n\n\n\n\nconst API_BASE_URL = \"https://cd6f-202-28-7-4.ngrok-free.app\";\nfunction GamePage() {\n    _s();\n    const [username, setUsername] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [lobbyCode, setLobbyCode] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [userToken, setUserToken] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [role, setRole] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"player\");\n    const [isLoadingVideo, setIsLoadingVideo] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [verifiedPlayers, setVerifiedPlayers] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [videoUrl, setVideoUrl] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [gameProgress, setGameProgress] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const [modelsLoaded, setModelsLoaded] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [faceApiLoaded, setFaceApiLoaded] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const videoContainerRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const videoElementRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null); // Added ref for video element\n    const router = (0,next_navigation__WEBPACK_IMPORTED_MODULE_2__.useRouter)();\n    const searchParams = (0,next_navigation__WEBPACK_IMPORTED_MODULE_2__.useSearchParams)();\n    const { toast } = (0,_components_ui_use_toast__WEBPACK_IMPORTED_MODULE_3__.useToast)();\n    const { isConnected, messages, players, lobbyInfo, connectionError, verified_usernames, game_started, video_url, laughMeters, data, sendChatMessage, leaveLobby, kickPlayer, startGame, closeLobby, disbandLobby, mutePlayer, unmutePlayer, changeSettings, sendMessage, disconnect } = (0,_hooks_use_websocket__WEBPACK_IMPORTED_MODULE_5__.useWebSocket)(lobbyCode, username, userToken, role);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"GamePage.useEffect\": ()=>{\n            if (window.faceapi) {\n                setFaceApiLoaded(true);\n                return;\n            }\n            const script = document.createElement('script');\n            script.src = 'https://cdn.jsdelivr.net/npm/face-api.js@0.22.2/dist/face-api.min.js';\n            script.async = true;\n            script.onload = ({\n                \"GamePage.useEffect\": ()=>{\n                    setFaceApiLoaded(true);\n                    toast({\n                        title: \"FaceAPI Script Loaded\",\n                        description: \"Face detection capabilities are now active.\"\n                    });\n                }\n            })[\"GamePage.useEffect\"];\n            script.onerror = ({\n                \"GamePage.useEffect\": ()=>{\n                    toast({\n                        title: \"FaceAPI Load Error\",\n                        description: \"Failed to load face detection script.\",\n                        variant: \"destructive\"\n                    });\n                }\n            })[\"GamePage.useEffect\"];\n            document.body.appendChild(script);\n        // No cleanup needed for CDN script that might be used by other pages\n        }\n    }[\"GamePage.useEffect\"], [\n        toast\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"GamePage.useEffect\": ()=>{\n            const storedUsername = localStorage.getItem(\"krackle_username\");\n            const storedLobby = localStorage.getItem(\"krackle_lobby\");\n            const storedToken = localStorage.getItem(\"krackle_user_token\");\n            const storedRole = localStorage.getItem(\"krackle_role\");\n            if (!storedUsername || !storedLobby) {\n                toast({\n                    title: \"Session expired\",\n                    description: \"Please join a lobby again\",\n                    variant: \"destructive\"\n                });\n                router.push(\"/\");\n                return;\n            }\n            setUsername(storedUsername);\n            setLobbyCode(storedLobby);\n            const websocketRole = storedRole === \"admin\" ? \"lobby-admin\" : storedRole || \"player\";\n            setRole(websocketRole);\n            if (storedRole === \"admin\") {\n                setUserToken(storedToken);\n            } else if (storedRole === \"player\") {\n                setUserToken(storedToken);\n            } else {\n                toast({\n                    title: \"Invalid session\",\n                    description: \"Missing authentication token\",\n                    variant: \"destructive\"\n                });\n                router.push(\"/\");\n                return;\n            }\n            if (storedRole === \"admin\") {\n                requestNewVideo();\n            }\n            if (!faceApiLoaded || modelsLoaded) return;\n            const loadModels = {\n                \"GamePage.useEffect.loadModels\": async ()=>{\n                    const MODEL_URL = '/models';\n                    if (!window.faceapi) {\n                        toast({\n                            title: \"FaceAPI Not Ready\",\n                            description: \"Cannot load models yet.\",\n                            variant: \"warning\"\n                        });\n                        return;\n                    }\n                    try {\n                        toast({\n                            title: \"Loading Face Models\",\n                            description: \"Please wait...\"\n                        });\n                        await window.faceapi.nets.tinyFaceDetector.loadFromUri(MODEL_URL);\n                        setModelsLoaded(true);\n                        setFaceApiLoaded(true);\n                        toast({\n                            title: \"Face Models Loaded\",\n                            description: \"Ready for face detection.\"\n                        });\n                    } catch (error) {\n                        console.error(\"Error loading face detection models:\", error);\n                        toast({\n                            title: \"Model Load Error\",\n                            description: \"Could not load face detection models.\",\n                            variant: \"destructive\"\n                        });\n                    }\n                }\n            }[\"GamePage.useEffect.loadModels\"];\n            loadModels();\n        }\n    }[\"GamePage.useEffect\"], [\n        router,\n        searchParams,\n        toast,\n        faceApiLoaded,\n        modelsLoaded\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"GamePage.useEffect\": ()=>{\n            const initWebcam = {\n                \"GamePage.useEffect.initWebcam\": async ()=>{\n                    try {\n                        const stream = await navigator.mediaDevices.getUserMedia({\n                            video: true\n                        });\n                        if (videoElementRef.current) {\n                            videoElementRef.current.srcObject = stream;\n                        }\n                    } catch (err) {\n                        console.error(\"Error accessing webcam:\", err);\n                        toast({\n                            title: \"Webcam Error\",\n                            description: \"Could not access webcam. Please check permissions.\",\n                            variant: \"destructive\"\n                        });\n                    }\n                }\n            }[\"GamePage.useEffect.initWebcam\"];\n            initWebcam();\n            // Cleanup function to stop webcam tracks when component unmounts\n            return ({\n                \"GamePage.useEffect\": ()=>{\n                    if (videoElementRef.current && videoElementRef.current.srcObject) {\n                        const stream = videoElementRef.current.srcObject;\n                        const tracks = stream.getTracks();\n                        tracks.forEach({\n                            \"GamePage.useEffect\": (track)=>track.stop()\n                        }[\"GamePage.useEffect\"]);\n                        videoElementRef.current.srcObject = null;\n                    }\n                }\n            })[\"GamePage.useEffect\"];\n        }\n    }[\"GamePage.useEffect\"], [\n        toast\n    ]);\n    const requestNewVideo = async ()=>{\n        setIsLoadingVideo(true);\n        try {\n            if (isConnected && sendMessage) {\n                sendMessage(JSON.stringify({\n                    type: \"new_game_video\"\n                }));\n            } else {\n                toast({\n                    title: \"Connection error\",\n                    description: \"Not connected to server to request video.\",\n                    variant: \"destructive\"\n                });\n            }\n        } catch (error) {\n            toast({\n                title: \"Connection error\",\n                description: \"Could not connect to the game server.\",\n                variant: \"destructive\"\n            });\n            console.error(\"Error fetching video:\", error);\n        } finally{\n            setIsLoadingVideo(false);\n        }\n    };\n    const getYouTubeVideoId = (url)=>{\n        if (!url) return null;\n        const regExp = /^.*(youtu.be\\/|v\\/|u\\/\\w\\/|embed\\/|shorts\\/|watch\\?v=|&v=)([^#&?]*).*/;\n        const match = url.match(regExp);\n        return match && match[2].length === 11 ? match[2] : null;\n    };\n    const load_video_from_url = (video_url_from_ws)=>{\n        if (!video_url_from_ws || !videoContainerRef.current) {\n            console.warn(\"No video URL provided or container not found\");\n            return;\n        }\n        setVideoUrl(video_url_from_ws); // Update the videoUrl state\n        const container = videoContainerRef.current;\n        container.innerHTML = \"\";\n        const loadingOverlay = document.createElement(\"div\");\n        loadingOverlay.className = \"absolute inset-0 flex items-center justify-center bg-gradient-to-br from-purple-900/50 to-pink-900/50 backdrop-blur-sm z-10 transition-opacity duration-500\";\n        loadingOverlay.innerHTML = '\\n      <div class=\"text-center\">\\n        <div class=\"w-16 h-16 border-4 border-white/20 border-t-white rounded-full animate-spin mx-auto mb-4\"></div>\\n        <p class=\"text-white text-lg font-medium\">Loading video...</p>\\n      </div>\\n    ';\n        container.appendChild(loadingOverlay);\n        const videoId = getYouTubeVideoId(video_url_from_ws);\n        if (videoId) {\n            const iframe = document.createElement(\"iframe\");\n            iframe.className = \"absolute inset-0 w-full h-full\";\n            iframe.src = \"https://www.youtube.com/embed/\".concat(videoId, \"?autoplay=1&controls=0&disablekb=1&fs=0&modestbranding=1&rel=0&showinfo=0&iv_load_policy=3&enablejsapi=1&playsinline=1&mute=0\");\n            iframe.title = \"Game Video Player\";\n            iframe.frameBorder = \"0\";\n            iframe.allow = \"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\";\n            iframe.allowFullscreen = false;\n            iframe.style.pointerEvents = \"none\";\n            iframe.onload = ()=>{\n                loadingOverlay.style.opacity = \"0\";\n                setTimeout(()=>{\n                    if (loadingOverlay.parentNode) {\n                        loadingOverlay.parentNode.removeChild(loadingOverlay);\n                    }\n                }, 500);\n                toast({\n                    title: \"YouTube Video Loaded\",\n                    description: \"Playback started.\"\n                });\n            };\n            iframe.onerror = ()=>{\n                handleVideoError(\"Failed to load YouTube video\");\n            };\n            container.appendChild(iframe);\n        } else {\n            const video = document.createElement(\"video\");\n            video.className = \"w-full h-full object-cover rounded-xl\";\n            video.src = video_url_from_ws;\n            video.autoplay = true;\n            video.muted = true;\n            video.playsInline = true;\n            video.loop = false;\n            video.preload = \"auto\";\n            video.controls = false;\n            video.style.pointerEvents = \"none\";\n            video.onloadeddata = ()=>{\n                loadingOverlay.style.opacity = \"0\";\n                setTimeout(()=>{\n                    if (loadingOverlay.parentNode) {\n                        loadingOverlay.parentNode.removeChild(loadingOverlay);\n                    }\n                }, 500);\n                toast({\n                    title: \"Video File Loaded\",\n                    description: \"Playback started.\"\n                });\n            };\n            video.onerror = ()=>{\n                handleVideoError(\"Failed to load video file\");\n            };\n            container.appendChild(video);\n        }\n        function handleVideoError(errorMessage) {\n            if (loadingOverlay.parentNode) {\n                loadingOverlay.innerHTML = '\\n        <div class=\"text-center\">\\n          <p class=\"text-red-400 text-lg font-medium mb-2\">Video Load Error</p>\\n          <p class=\"text-white/70 text-sm\">'.concat(errorMessage, \"</p>\\n        </div>\\n      \");\n            }\n            toast({\n                title: \"Video Error\",\n                description: errorMessage,\n                variant: \"destructive\"\n            });\n        }\n    };\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"GamePage.useEffect\": ()=>{\n            if (video_url) {\n                load_video_from_url(video_url);\n            }\n        }\n    }[\"GamePage.useEffect\"], [\n        video_url\n    ]);\n    async function detectAndSendFace() {\n        const currentVideoElement = videoElementRef.current;\n        if (!currentVideoElement || currentVideoElement.paused || currentVideoElement.readyState < 3) {\n            return;\n        }\n        if (!window.faceapi) {\n            return;\n        }\n        try {\n            const options = new window.faceapi.TinyFaceDetectorOptions({\n                inputSize: 224,\n                scoreThreshold: 0.5\n            });\n            const detections = await window.faceapi.detectAllFaces(currentVideoElement, options);\n            if (detections.length === 0) {\n                return;\n            }\n            if (detections.length > 1) {\n                // toast({ title: \"Multiple faces detected\", description: \"Please ensure only one person is visible.\", variant: \"warning\" });\n                return;\n            }\n            const detection = detections[0];\n            const box = detection.detection ? detection.detection.box : detection.box;\n            if (!box) {\n                return;\n            }\n            const tempCanvas = document.createElement(\"canvas\");\n            const tempContext = tempCanvas.getContext(\"2d\");\n            const padding = 0.1;\n            const paddedWidth = box.width * (1 + padding * 2);\n            const paddedHeight = box.height * (1 + padding * 2);\n            const paddedX = box.x - box.width * padding;\n            const paddedY = box.y - box.height * padding;\n            const cropX = Math.max(0, paddedX);\n            const cropY = Math.max(0, paddedY);\n            const cropWidth = Math.min(paddedWidth, currentVideoElement.videoWidth - cropX);\n            const cropHeight = Math.min(paddedHeight, currentVideoElement.videoHeight - cropY);\n            if (cropWidth <= 0 || cropHeight <= 0) {\n                return;\n            }\n            tempCanvas.width = cropWidth;\n            tempCanvas.height = cropHeight;\n            tempContext.drawImage(currentVideoElement, cropX, cropY, cropWidth, cropHeight, 0, 0, cropWidth, cropHeight);\n            const imageDataUrl = tempCanvas.toDataURL(\"image/jpeg\", 0.7);\n            const base64Data = imageDataUrl.split(\",\")[1];\n            if (sendMessage) {\n                sendMessage(\"upload_image\", {\n                    image_data: base64Data\n                });\n            }\n        } catch (error) {\n            console.error(\"Face crop and send error:\", error);\n        // toast({\n        //   title: \"Face Detection Error\",\n        //   description: `Failed to crop and send face: ${error.message}`,\n        //   variant: \"destructive\",\n        // });\n        }\n    }\n    // Renamed to avoid conflict with detectAndSendFace which is async\n    function triggerFaceImageSend() {\n        if (!isConnected) {\n            return;\n        }\n        const currentVideoElement = videoElementRef.current;\n        if (!currentVideoElement || currentVideoElement.paused) {\n            return;\n        }\n        if (!modelsLoaded || !faceApiLoaded) {\n            return;\n        }\n        detectAndSendFace(); // Call the async function\n    }\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"GamePage.useEffect\": ()=>{\n            let intervalId;\n            console.log(\"Setting up interval for face detection and sending image: VARABLES\", {\n                isConnected,\n                modelsLoaded,\n                faceApiLoaded\n            });\n            if (isConnected && modelsLoaded && faceApiLoaded) {\n                intervalId = setInterval({\n                    \"GamePage.useEffect\": ()=>{\n                        triggerFaceImageSend(); // Use the renamed wrapper function\n                    }\n                }[\"GamePage.useEffect\"], 500);\n            }\n            return ({\n                \"GamePage.useEffect\": ()=>{\n                    if (intervalId) {\n                        clearInterval(intervalId);\n                    }\n                }\n            })[\"GamePage.useEffect\"];\n        }\n    }[\"GamePage.useEffect\"], [\n        isConnected,\n        modelsLoaded,\n        faceApiLoaded,\n        lobbyCode,\n        username,\n        sendMessage\n    ]); // Added relevant dependencies\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"GamePage.useEffect\": ()=>{\n            return ({\n                \"GamePage.useEffect\": ()=>{\n                    var _videoContainerRef_current;\n                    if ((_videoContainerRef_current = videoContainerRef.current) === null || _videoContainerRef_current === void 0 ? void 0 : _videoContainerRef_current._cleanup) {\n                        videoContainerRef.current._cleanup();\n                    }\n                }\n            })[\"GamePage.useEffect\"];\n        }\n    }[\"GamePage.useEffect\"], []);\n    const handleLeaveGame = ()=>{\n        disconnect();\n        router.push(\"/lobby\");\n    };\n    if (connectionError) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"min-h-screen flex items-center justify-center bg-gradient-to-br from-purple-600 via-pink-600 to-blue-600 p-4\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"bg-white/95 backdrop-blur-xl rounded-3xl p-8 text-center\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                        className: \"text-2xl font-bold text-red-600 mb-4\",\n                        children: \"Connection Error\"\n                    }, void 0, false, {\n                        fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                        lineNumber: 433,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"text-gray-700 mb-4\",\n                        children: connectionError\n                    }, void 0, false, {\n                        fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                        lineNumber: 434,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_4__.Button, {\n                        onClick: ()=>router.push(\"/lobby\"),\n                        className: \"bg-purple-600 hover:bg-purple-700\",\n                        children: \"Return to Lobby\"\n                    }, void 0, false, {\n                        fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                        lineNumber: 435,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                lineNumber: 432,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n            lineNumber: 431,\n            columnNumber: 7\n        }, this);\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"min-h-screen flex flex-col bg-gradient-to-br from-purple-600 via-pink-600 to-blue-600\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"text-center py-4\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                        className: \"text-white text-4xl font-bold tracking-wide\",\n                        children: [\n                            \"KRACKLE\",\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: \"text-yellow-300\",\n                                children: \".CO\"\n                            }, void 0, false, {\n                                fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                lineNumber: 447,\n                                columnNumber: 18\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                        lineNumber: 446,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                        className: \"text-white text-xl mt-1\",\n                        children: [\n                            \"Game: \",\n                            lobbyCode\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                        lineNumber: 449,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                lineNumber: 445,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex flex-col md:flex-row flex-1 p-4 gap-4\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"w-full md:w-64 bg-white/10 backdrop-blur-md rounded-xl p-4\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                className: \"text-white text-xl font-bold mb-4 flex items-center gap-2\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Crown_Loader2_LogOut_Play_RefreshCw_Users_lucide_react__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n                                        className: \"w-5 h-5\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                        lineNumber: 455,\n                                        columnNumber: 13\n                                    }, this),\n                                    \" Players\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                lineNumber: 454,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"space-y-2 max-h-[60vh] overflow-y-auto\",\n                                children: players.length > 0 ? players.map((player, index)=>{\n                                    const isVerified = verifiedPlayers.includes(player) // REVERTED: Check directly against player string\n                                    ;\n                                    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"p-3 rounded-lg \".concat(isVerified ? \"bg-gradient-to-r from-green-200/80 to-green-100/80 backdrop-blur-md\" : \"bg-gray-200/80 backdrop-blur-md\", \" flex items-center\"),\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"h-8 w-8 rounded-full \".concat(isVerified ? \"bg-gradient-to-r from-green-500 to-emerald-500\" : \"bg-gray-500\", \" text-white flex items-center justify-center mr-3\"),\n                                                children: player.charAt(0).toUpperCase()\n                                            }, void 0, false, {\n                                                fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                                lineNumber: 471,\n                                                columnNumber: 21\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"font-medium\",\n                                                children: [\n                                                    player,\n                                                    \" \",\n                                                    player === username && \"(You)\"\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                                lineNumber: 478,\n                                                columnNumber: 21\n                                            }, this),\n                                            index === 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Crown_Loader2_LogOut_Play_RefreshCw_Users_lucide_react__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n                                                className: \"w-4 h-4 text-yellow-500 ml-2\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                                lineNumber: 482,\n                                                columnNumber: 37\n                                            }, this)\n                                        ]\n                                    }, index, true, {\n                                        fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                        lineNumber: 463,\n                                        columnNumber: 19\n                                    }, this);\n                                }) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"text-center py-4 text-white\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Crown_Loader2_LogOut_Play_RefreshCw_Users_lucide_react__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n                                            className: \"w-6 h-6 animate-spin mx-auto mb-2\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                            lineNumber: 488,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                            children: \"Loading players...\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                            lineNumber: 489,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                    lineNumber: 487,\n                                    columnNumber: 15\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                lineNumber: 457,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                        lineNumber: 453,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex-1 flex items-center justify-center\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"w-[400px] bg-white rounded-xl p-4 h-[600px] flex flex-col\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex justify-between items-center mb-4\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                            className: \"text-2xl font-bold\",\n                                            children: \"Game Video\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                            lineNumber: 498,\n                                            columnNumber: 15\n                                        }, this),\n                                        role === \"lobby-admin\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_4__.Button, {\n                                            onClick: requestNewVideo,\n                                            disabled: isLoadingVideo,\n                                            className: \"bg-purple-600 hover:bg-purple-700 text-white\",\n                                            children: isLoadingVideo ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Crown_Loader2_LogOut_Play_RefreshCw_Users_lucide_react__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n                                                        className: \"w-4 h-4 mr-2 animate-spin\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                                        lineNumber: 507,\n                                                        columnNumber: 23\n                                                    }, this),\n                                                    \"Loading...\"\n                                                ]\n                                            }, void 0, true) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Crown_Loader2_LogOut_Play_RefreshCw_Users_lucide_react__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n                                                        className: \"w-4 h-4 mr-2\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                                        lineNumber: 512,\n                                                        columnNumber: 23\n                                                    }, this),\n                                                    \"New Video\"\n                                                ]\n                                            }, void 0, true)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                            lineNumber: 500,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                    lineNumber: 497,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex-1 relative w-full rounded-lg overflow-hidden bg-black\",\n                                    ref: videoContainerRef,\n                                    children: !video_url && !videoUrl && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"absolute inset-0 flex items-center justify-center\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"text-center\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Crown_Loader2_LogOut_Play_RefreshCw_Users_lucide_react__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\n                                                    className: \"w-12 h-12 mx-auto mb-4 text-gray-500\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                                    lineNumber: 524,\n                                                    columnNumber: 21\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                    className: \"text-gray-500\",\n                                                    children: role === \"lobby-admin\" ? \"Click 'New Video' to start the game\" : \"Waiting for the host to start a video...\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                                    lineNumber: 525,\n                                                    columnNumber: 21\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                            lineNumber: 523,\n                                            columnNumber: 19\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                        lineNumber: 522,\n                                        columnNumber: 17\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                    lineNumber: 520,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"mt-4 flex justify-center\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_4__.Button, {\n                                        className: \"bg-red-400 hover:bg-red-500 text-white rounded-full px-6 py-2 text-lg font-bold\",\n                                        onClick: handleLeaveGame,\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Crown_Loader2_LogOut_Play_RefreshCw_Users_lucide_react__WEBPACK_IMPORTED_MODULE_11__[\"default\"], {\n                                                className: \"w-5 h-5 mr-2\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                                lineNumber: 540,\n                                                columnNumber: 17\n                                            }, this),\n                                            \"LEAVE GAME\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                        lineNumber: 536,\n                                        columnNumber: 15\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                    lineNumber: 535,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                            lineNumber: 496,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                        lineNumber: 495,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                lineNumber: 452,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"fixed bottom-6 right-6 z-20\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"relative flex flex-col items-center\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"relative w-8 h-40 mb-0\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"absolute inset-0 bg-white/20 backdrop-blur-sm rounded-full border border-white/30\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                    lineNumber: 551,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"absolute bottom-0 left-0 right-0 rounded-full transition-all duration-300 ease-out\",\n                                    style: {\n                                        height: \"\".concat(gameProgress, \"%\"),\n                                        background: \"linear-gradient(to top, #22c55e, #eab308, #ef4444)\",\n                                        margin: \"2px\",\n                                        width: \"calc(100% - 4px)\"\n                                    }\n                                }, void 0, false, {\n                                    fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                    lineNumber: 552,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"absolute -right-10 top-1/2 -translate-y-1/2\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"bg-black/50 backdrop-blur-sm rounded-lg px-2 py-1\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"text-white font-bold text-xs\",\n                                            children: [\n                                                Math.round(gameProgress),\n                                                \"%\"\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                            lineNumber: 563,\n                                            columnNumber: 17\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                        lineNumber: 562,\n                                        columnNumber: 15\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                    lineNumber: 561,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                            lineNumber: 550,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"relative\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"relative w-32 h-32 rounded-full overflow-hidden border-4 border-white/30 shadow-xl\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"video\", {\n                                        ref: videoElementRef,\n                                        id: \"webcam\",\n                                        className: \"absolute w-full h-full object-cover\",\n                                        autoPlay: true,\n                                        playsInline: true,\n                                        muted: true\n                                    }, void 0, false, {\n                                        fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                        lineNumber: 571,\n                                        columnNumber: 15\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                    lineNumber: 569,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"absolute top-1 right-1 z-10\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex items-center gap-1 bg-black/50 backdrop-blur-sm rounded-full px-1.5 py-0.5\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"w-1.5 h-1.5 bg-red-500 rounded-full animate-pulse\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                                lineNumber: 575,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"text-white text-xs font-medium\",\n                                                children: \"LIVE\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                                lineNumber: 576,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                        lineNumber: 574,\n                                        columnNumber: 15\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                    lineNumber: 573,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                            lineNumber: 568,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                    lineNumber: 549,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                lineNumber: 548,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"py-4 text-center text-white text-xs\",\n                children: [\n                    \"MADE WITH LOVE BY HAYSON, NELSON, AND BOYA \",\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                        className: \"ml-1\",\n                        children: \"❤️\"\n                    }, void 0, false, {\n                        fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                        lineNumber: 584,\n                        columnNumber: 52\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                lineNumber: 583,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n        lineNumber: 444,\n        columnNumber: 5\n    }, this);\n}\n_s(GamePage, \"WQGQ6rAgYWIsL3APvVBSS31fNhQ=\", false, function() {\n    return [\n        next_navigation__WEBPACK_IMPORTED_MODULE_2__.useRouter,\n        next_navigation__WEBPACK_IMPORTED_MODULE_2__.useSearchParams,\n        _components_ui_use_toast__WEBPACK_IMPORTED_MODULE_3__.useToast,\n        _hooks_use_websocket__WEBPACK_IMPORTED_MODULE_5__.useWebSocket\n    ];\n});\n_c = GamePage;\nvar _c;\n$RefreshReg$(_c, \"GamePage\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2FwcC9nYW1lL3BhZ2UuanN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFbUQ7QUFDUztBQUNSO0FBQ0w7QUFDOEI7QUFDekI7QUFDdEI7QUFFOUIsTUFBTWUsZUFBZTtBQUVOLFNBQVNDOztJQUN0QixNQUFNLENBQUNDLFVBQVVDLFlBQVksR0FBR2pCLCtDQUFRQSxDQUFDO0lBQ3pDLE1BQU0sQ0FBQ2tCLFdBQVdDLGFBQWEsR0FBR25CLCtDQUFRQSxDQUFDO0lBQzNDLE1BQU0sQ0FBQ29CLFdBQVdDLGFBQWEsR0FBR3JCLCtDQUFRQSxDQUFDO0lBQzNDLE1BQU0sQ0FBQ3NCLE1BQU1DLFFBQVEsR0FBR3ZCLCtDQUFRQSxDQUFDO0lBQ2pDLE1BQU0sQ0FBQ3dCLGdCQUFnQkMsa0JBQWtCLEdBQUd6QiwrQ0FBUUEsQ0FBQztJQUNyRCxNQUFNLENBQUMwQixpQkFBaUJDLG1CQUFtQixHQUFHM0IsK0NBQVFBLENBQUMsRUFBRTtJQUN6RCxNQUFNLENBQUM0QixVQUFVQyxZQUFZLEdBQUc3QiwrQ0FBUUEsQ0FBQztJQUN6QyxNQUFNLENBQUM4QixjQUFjQyxnQkFBZ0IsR0FBRy9CLCtDQUFRQSxDQUFDO0lBQ2pELE1BQU0sQ0FBQ2dDLGNBQWNDLGdCQUFnQixHQUFHakMsK0NBQVFBLENBQUM7SUFDakQsTUFBTSxDQUFDa0MsZUFBZUMsaUJBQWlCLEdBQUduQywrQ0FBUUEsQ0FBQztJQUNuRCxNQUFNb0Msb0JBQW9CbkMsNkNBQU1BLENBQUM7SUFDakMsTUFBTW9DLGtCQUFrQnBDLDZDQUFNQSxDQUFDLE9BQU8sOEJBQThCO0lBRXBFLE1BQU1xQyxTQUFTcEMsMERBQVNBO0lBQ3hCLE1BQU1xQyxlQUFlcEMsZ0VBQWVBO0lBQ3BDLE1BQU0sRUFBRXFDLEtBQUssRUFBRSxHQUFHcEMsa0VBQVFBO0lBRTFCLE1BQU0sRUFDSnFDLFdBQVcsRUFDWEMsUUFBUSxFQUNSQyxPQUFPLEVBQ1BDLFNBQVMsRUFDVEMsZUFB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QVU7O2dEQUFnQzhDLEtBQUt1QyxLQUFLLENBQUMvSztnREFBYzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7c0NBSy9FLDhEQUFDNko7NEJBQUluRSxXQUFVOzs4Q0FDYiw4REFBQ21FO29DQUFJbkUsV0FBVTs4Q0FFYiw0RUFBQ3ZCO3dDQUFNeUcsS0FBS3JLO3dDQUFpQnlLLElBQUc7d0NBQVN0RixXQUFVO3dDQUFzQ3VGLFFBQVE7d0NBQUN4RSxXQUFXO3dDQUFDRCxLQUFLOzs7Ozs7Ozs7Ozs4Q0FFckgsOERBQUNxRDtvQ0FBSW5FLFdBQVU7OENBQ2IsNEVBQUNtRTt3Q0FBSW5FLFdBQVU7OzBEQUNiLDhEQUFDbUU7Z0RBQUluRSxXQUFVOzs7Ozs7MERBQ2YsOERBQUN3RTtnREFBS3hFLFdBQVU7MERBQWlDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OzBCQU8zRCw4REFBQ21FO2dCQUFJbkUsV0FBVTs7b0JBQXNDO2tDQUNSLDhEQUFDd0U7d0JBQUt4RSxXQUFVO2tDQUFPOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFJMUU7R0EvakJ3QnpHOztRQWNQYixzREFBU0E7UUFDSEMsNERBQWVBO1FBQ2xCQyw4REFBUUE7UUF3QnRCUSw4REFBWUE7OztLQXhDTUciLCJzb3VyY2VzIjpbIi9Vc2Vycy9oYXlzb25jaGV1bmcvcHJvZ3JhbXMvcHl0aG9uUHJvamVjdC9rcmFja2xlMi9mcm9udGVuZHVwZGF0ZWQvYXBwL2dhbWUvcGFnZS5qc3giXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgY2xpZW50XCJcblxuaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VTdGF0ZSwgdXNlUmVmIH0gZnJvbSBcInJlYWN0XCJcbmltcG9ydCB7IHVzZVJvdXRlciwgdXNlU2VhcmNoUGFyYW1zIH0gZnJvbSBcIm5leHQvbmF2aWdhdGlvblwiXG5pbXBvcnQgeyB1c2VUb2FzdCB9IGZyb20gXCJAL2NvbXBvbmVudHMvdWkvdXNlLXRvYXN0XCJcbmltcG9ydCB7IEJ1dHRvbiB9IGZyb20gXCJAL2NvbXBvbmVudHMvdWkvYnV0dG9uXCJcbmltcG9ydCB7IFVzZXJzLCBDcm93biwgTG9hZGVyMiwgUmVmcmVzaEN3LCBQbGF5LCBMb2dPdXQgfSBmcm9tIFwibHVjaWRlLXJlYWN0XCJcbmltcG9ydCB7IHVzZVdlYlNvY2tldCB9IGZyb20gXCJAL2hvb2tzL3VzZS13ZWJzb2NrZXRcIiBcbmltcG9ydCB7IHNldCB9IGZyb20gXCJkYXRlLWZuc1wiXG5cbmNvbnN0IEFQSV9CQVNFX1VSTCA9IFwiaHR0cHM6Ly9jZDZmLTIwMi0yOC03LTQubmdyb2stZnJlZS5hcHBcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBHYW1lUGFnZSgpIHtcbiAgY29uc3QgW3VzZXJuYW1lLCBzZXRVc2VybmFtZV0gPSB1c2VTdGF0ZShcIlwiKVxuICBjb25zdCBbbG9iYnlDb2RlLCBzZXRMb2JieUNvZGVdID0gdXNlU3RhdGUoXCJcIilcbiAgY29uc3QgW3VzZXJUb2tlbiwgc2V0VXNlclRva2VuXSA9IHVzZVN0YXRlKFwiXCIpXG4gIGNvbnN0IFtyb2xlLCBzZXRSb2xlXSA9IHVzZVN0YXRlKFwicGxheWVyXCIpXG4gIGNvbnN0IFtpc0xvYWRpbmdWaWRlbywgc2V0SXNMb2FkaW5nVmlkZW9dID0gdXNlU3RhdGUoZmFsc2UpXG4gIGNvbnN0IFt2ZXJpZmllZFBsYXllcnMsIHNldFZlcmlmaWVkUGxheWVyc10gPSB1c2VTdGF0ZShbXSlcbiAgY29uc3QgW3ZpZGVvVXJsLCBzZXRWaWRlb1VybF0gPSB1c2VTdGF0ZShcIlwiKVxuICBjb25zdCBbZ2FtZVByb2dyZXNzLCBzZXRHYW1lUHJvZ3Jlc3NdID0gdXNlU3RhdGUoMClcbiAgY29uc3QgW21vZGVsc0xvYWRlZCwgc2V0TW9kZWxzTG9hZGVkXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2ZhY2VBcGlMb2FkZWQsIHNldEZhY2VBcGlMb2FkZWRdID0gdXNlU3RhdGUoZmFsc2UpOyBcbiAgY29uc3QgdmlkZW9Db250YWluZXJSZWYgPSB1c2VSZWYobnVsbClcbiAgY29uc3QgdmlkZW9FbGVtZW50UmVmID0gdXNlUmVmKG51bGwpOyAvLyBBZGRlZCByZWYgZm9yIHZpZGVvIGVsZW1lbnRcblxuICBjb25zdCByb3V0ZXIgPSB1c2VSb3V0ZXIoKVxuICBjb25zdCBzZWFyY2hQYXJhbXMgPSB1c2VTZWFyY2hQYXJhbXMoKVxuICBjb25zdCB7IHRvYXN0IH0gPSB1c2VUb2FzdCgpXG5cbiAgY29uc3Qge1xuICAgIGlzQ29ubmVjdGVkLFxuICAgIG1lc3NhZ2VzLFxuICAgIHBsYXllcnMsXG4gICAgbG9iYnlJbmZvLFxuICAgIGNvbm5lY3Rpb25FcnJvcixcbiAgICB2ZXJpZmllZF91c2VybmFtZXMsXG4gICAgZ2FtZV9zdGFydGVkLFxuICAgIHZpZGVvX3VybCxcbiAgICBsYXVnaE1ldGVycyxcbiAgICBkYXRhLFxuICAgIHNlbmRDaGF0TWVzc2FnZSxcbiAgICBsZWF2ZUxvYmJ5LFxuICAgIGtpY2tQbGF5ZXIsXG4gICAgc3RhcnRHYW1lLFxuICAgIGNsb3NlTG9iYnksXG4gICAgZGlzYmFuZExvYmJ5LFxuICAgIG11dGVQbGF5ZXIsXG4gICAgdW5tdXRlUGxheWVyLFxuICAgIGNoYW5nZVNldHRpbmdzLFxuICAgIHNlbmRNZXNzYWdlLFxuICAgIGRpc2Nvbm5lY3QsXG4gIH0gPSB1c2VXZWJTb2NrZXQoXG4gICAgbG9iYnlDb2RlLFxuICAgIHVzZXJuYW1lLFxuICAgIHVzZXJUb2tlbixcbiAgICByb2xlLFxuICApXG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAod2luZG93LmZhY2VhcGkpIHtcbiAgICAgIHNldEZhY2VBcGlMb2FkZWQodHJ1ZSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHNjcmlwdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpO1xuICAgIHNjcmlwdC5zcmMgPSAnaHR0cHM6Ly9jZG4uanNkZWxpdnIubmV0L25wbS9mYWNlLWFwaS5qc0AwLjIyLjIvZGlzdC9mYWNlLWFwaS5taW4uanMnO1xuICAgIHNjcmlwdC5hc3luYyA9IHRydWU7XG4gICAgc2NyaXB0Lm9ubG9hZCA9ICgpID0+IHtcbiAgICAgIHNldEZhY2VBcGlMb2FkZWQodHJ1ZSk7XG4gICAgICB0b2FzdCh7IHRpdGxlOiBcIkZhY2VBUEkgU2NyaXB0IExvYWRlZFwiLCBkZXNjcmlwdGlvbjogXCJGYWNlIGRldGVjdGlvbiBjYXBhYmlsaXRpZXMgYXJlIG5vdyBhY3RpdmUuXCIgfSk7XG4gICAgfTtcbiAgICBzY3JpcHQub25lcnJvciA9ICgpID0+IHtcbiAgICAgIHRvYXN0KHsgdGl0bGU6IFwiRmFjZUFQSSBMb2FkIEVycm9yXCIsIGRlc2NyaXB0aW9uOiBcIkZhaWxlZCB0byBsb2FkIGZhY2UgZGV0ZWN0aW9uIHNjcmlwdC5cIiwgdmFyaWFudDogXCJkZXN0cnVjdGl2ZVwiIH0pO1xuICAgIH07XG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChzY3JpcHQpO1xuXG4gICAgLy8gTm8gY2xlYW51cCBuZWVkZWQgZm9yIENETiBzY3JpcHQgdGhhdCBtaWdodCBiZSB1c2VkIGJ5IG90aGVyIHBhZ2VzXG4gIH0sIFt0b2FzdF0pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3Qgc3RvcmVkVXNlcm5hbWUgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcImtyYWNrbGVfdXNlcm5hbWVcIilcbiAgICBjb25zdCBzdG9yZWRMb2JieSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwia3JhY2tsZV9sb2JieVwiKVxuICAgIGNvbnN0IHN0b3JlZFRva2VuID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJrcmFja2xlX3VzZXJfdG9rZW5cIilcbiAgICBjb25zdCBzdG9yZWRSb2xlID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJrcmFja2xlX3JvbGVcIilcblxuICAgIGlmICghc3RvcmVkVXNlcm5hbWUgfHwhc3RvcmVkTG9iYnkpIHtcbiAgICAgIHRvYXN0KHtcbiAgICAgICAgdGl0bGU6IFwiU2Vzc2lvbiBleHBpcmVkXCIsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBcIlBsZWFzZSBqb2luIGEgbG9iYnkgYWdhaW5cIixcbiAgICAgICAgdmFyaWFudDogXCJkZXN0cnVjdGl2ZVwiLFxuICAgICAgfSlcbiAgICAgIHJvdXRlci5wdXNoKFwiL1wiKVxuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgc2V0VXNlcm5hbWUoc3RvcmVkVXNlcm5hbWUpXG4gICAgc2V0TG9iYnlDb2RlKHN0b3JlZExvYmJ5KVxuXG4gICAgY29uc3Qgd2Vic29ja2V0Um9sZSA9IHN0b3JlZFJvbGUgPT09IFwiYWRtaW5cIiA/IFwibG9iYnktYWRtaW5cIiA6IHN0b3JlZFJvbGUgfHwgXCJwbGF5ZXJcIlxuICAgIHNldFJvbGUod2Vic29ja2V0Um9sZSlcblxuICAgIGlmIChzdG9yZWRSb2xlID09PSBcImFkbWluXCIpIHtcbiAgICAgIHNldFVzZXJUb2tlbihzdG9yZWRUb2tlbilcbiAgICB9IGVsc2UgaWYgKHN0b3JlZFJvbGUgPT09IFwicGxheWVyXCIpIHtcbiAgICAgIHNldFVzZXJUb2tlbihzdG9yZWRUb2tlbilcbiAgICB9IGVsc2Uge1xuICAgICAgdG9hc3Qoe1xuICAgICAgICB0aXRsZTogXCJJbnZhbGlkIHNlc3Npb25cIixcbiAgICAgICAgZGVzY3JpcHRpb246IFwiTWlzc2luZyBhdXRoZW50aWNhdGlvbiB0b2tlblwiLFxuICAgICAgICB2YXJpYW50OiBcImRlc3RydWN0aXZlXCIsXG4gICAgICB9KVxuICAgICAgcm91dGVyLnB1c2goXCIvXCIpXG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBpZiAoc3RvcmVkUm9sZSA9PT0gXCJhZG1pblwiKSB7XG4gICAgICByZXF1ZXN0TmV3VmlkZW8oKVxuICAgIH1cblxuICAgIGlmICghZmFjZUFwaUxvYWRlZCB8fCBtb2RlbHNMb2FkZWQpIHJldHVybjtcblxuICAgIGNvbnN0IGxvYWRNb2RlbHMgPSBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBNT0RFTF9VUkwgPSAnL21vZGVscyc7XG4gICAgICBpZiAoIXdpbmRvdy5mYWNlYXBpKSB7XG4gICAgICAgIHRvYXN0KHsgdGl0bGU6IFwiRmFjZUFQSSBOb3QgUmVhZHlcIiwgZGVzY3JpcHRpb246IFwiQ2Fubm90IGxvYWQgbW9kZWxzIHlldC5cIiwgdmFyaWFudDogXCJ3YXJuaW5nXCIgfSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRyeSB7XG4gICAgICAgIHRvYXN0KHsgdGl0bGU6IFwiTG9hZGluZyBGYWNlIE1vZGVsc1wiLCBkZXNjcmlwdGlvbjogXCJQbGVhc2Ugd2FpdC4uLlwiIH0pO1xuICAgICAgICBhd2FpdCB3aW5kb3cuZmFjZWFwaS5uZXRzLnRpbnlGYWNlRGV0ZWN0b3IubG9hZEZyb21VcmkoTU9ERUxfVVJMKTtcbiAgICAgICAgc2V0TW9kZWxzTG9hZGVkKHRydWUpO1xuICAgICAgICBzZXRGYWNlQXBpTG9hZGVkKHRydWUpO1xuICAgICAgICB0b2FzdCh7IHRpdGxlOiBcIkZhY2UgTW9kZWxzIExvYWRlZFwiLCBkZXNjcmlwdGlvbjogXCJSZWFkeSBmb3IgZmFjZSBkZXRlY3Rpb24uXCIgfSk7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgbG9hZGluZyBmYWNlIGRldGVjdGlvbiBtb2RlbHM6XCIsIGVycm9yKTtcbiAgICAgICAgdG9hc3Qoe1xuICAgICAgICAgIHRpdGxlOiBcIk1vZGVsIExvYWQgRXJyb3JcIixcbiAgICAgICAgICBkZXNjcmlwdGlvbjogXCJDb3VsZCBub3QgbG9hZCBmYWNlIGRldGVjdGlvbiBtb2RlbHMuXCIsXG4gICAgICAgICAgdmFyaWFudDogXCJkZXN0cnVjdGl2ZVwiLFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9O1xuICAgIGxvYWRNb2RlbHMoKTtcbiAgfSwgW3JvdXRlciwgc2VhcmNoUGFyYW1zLCB0b2FzdCwgZmFjZUFwaUxvYWRlZCwgbW9kZWxzTG9hZGVkXSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBpbml0V2ViY2FtID0gYXN5bmMgKCkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3Qgc3RyZWFtID0gYXdhaXQgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEoeyB2aWRlbzogdHJ1ZSB9KTtcbiAgICAgICAgaWYgKHZpZGVvRWxlbWVudFJlZi5jdXJyZW50KSB7XG4gICAgICAgICAgdmlkZW9FbGVtZW50UmVmLmN1cnJlbnQuc3JjT2JqZWN0ID0gc3RyZWFtO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGFjY2Vzc2luZyB3ZWJjYW06XCIsIGVycik7XG4gICAgICAgIHRvYXN0KHtcbiAgICAgICAgICB0aXRsZTogXCJXZWJjYW0gRXJyb3JcIixcbiAgICAgICAgICBkZXNjcmlwdGlvbjogXCJDb3VsZCBub3QgYWNjZXNzIHdlYmNhbS4gUGxlYXNlIGNoZWNrIHBlcm1pc3Npb25zLlwiLFxuICAgICAgICAgIHZhcmlhbnQ6IFwiZGVzdHJ1Y3RpdmVcIixcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfTtcbiAgICBpbml0V2ViY2FtKCk7XG4gICAgLy8gQ2xlYW51cCBmdW5jdGlvbiB0byBzdG9wIHdlYmNhbSB0cmFja3Mgd2hlbiBjb21wb25lbnQgdW5tb3VudHNcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgaWYgKHZpZGVvRWxlbWVudFJlZi5jdXJyZW50ICYmIHZpZGVvRWxlbWVudFJlZi5jdXJyZW50LnNyY09iamVjdCkge1xuICAgICAgICBjb25zdCBzdHJlYW0gPSB2aWRlb0VsZW1lbnRSZWYuY3VycmVudC5zcmNPYmplY3Q7XG4gICAgICAgIGNvbnN0IHRyYWNrcyA9IHN0cmVhbS5nZXRUcmFja3MoKTtcbiAgICAgICAgdHJhY2tzLmZvckVhY2godHJhY2sgPT4gdHJhY2suc3RvcCgpKTtcbiAgICAgICAgdmlkZW9FbGVtZW50UmVmLmN1cnJlbnQuc3JjT2JqZWN0ID0gbnVsbDtcbiAgICAgIH1cbiAgICB9O1xuICB9LCBbdG9hc3RdKTtcblxuICBjb25zdCByZXF1ZXN0TmV3VmlkZW8gPSBhc3luYyAoKSA9PiB7XG4gICAgc2V0SXNMb2FkaW5nVmlkZW8odHJ1ZSlcbiAgICB0cnkge1xuICAgICAgaWYgKGlzQ29ubmVjdGVkICYmIHNlbmRNZXNzYWdlKSB7XG4gICAgICAgIHNlbmRNZXNzYWdlKEpTT04uc3RyaW5naWZ5KHsgdHlwZTogXCJuZXdfZ2FtZV92aWRlb1wiIH0pKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdG9hc3Qoe1xuICAgICAgICAgIHRpdGxlOiBcIkNvbm5lY3Rpb24gZXJyb3JcIixcbiAgICAgICAgICBkZXNjcmlwdGlvbjogXCJOb3QgY29ubmVjdGVkIHRvIHNlcnZlciB0byByZXF1ZXN0IHZpZGVvLlwiLFxuICAgICAgICAgIHZhcmlhbnQ6IFwiZGVzdHJ1Y3RpdmVcIixcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgdG9hc3Qoe1xuICAgICAgICB0aXRsZTogXCJDb25uZWN0aW9uIGVycm9yXCIsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBcIkNvdWxkIG5vdCBjb25uZWN0IHRvIHRoZSBnYW1lIHNlcnZlci5cIixcbiAgICAgICAgdmFyaWFudDogXCJkZXN0cnVjdGl2ZVwiLFxuICAgICAgfSlcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBmZXRjaGluZyB2aWRlbzpcIiwgZXJyb3IpXG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldElzTG9hZGluZ1ZpZGVvKGZhbHNlKVxuICAgIH1cbiAgfVxuXG4gIGNvbnN0IGdldFlvdVR1YmVWaWRlb0lkID0gKHVybCkgPT4ge1xuICAgIGlmICghdXJsKSByZXR1cm4gbnVsbFxuICAgIGNvbnN0IHJlZ0V4cCA9IC9eLiooeW91dHUuYmVcXC98dlxcL3x1XFwvXFx3XFwvfGVtYmVkXFwvfHNob3J0c1xcL3x3YXRjaFxcP3Y9fCZ2PSkoW14jJj9dKikuKi9cbiAgICBjb25zdCBtYXRjaCA9IHVybC5tYXRjaChyZWdFeHApXG4gICAgcmV0dXJuIG1hdGNoICYmIG1hdGNoWzJdLmxlbmd0aCA9PT0gMTEgPyBtYXRjaFsyXSA6IG51bGxcbiAgfVxuXG4gIGNvbnN0IGxvYWRfdmlkZW9fZnJvbV91cmwgPSAodmlkZW9fdXJsX2Zyb21fd3MpID0+IHtcbiAgICBpZiAoIXZpZGVvX3VybF9mcm9tX3dzIHx8ICF2aWRlb0NvbnRhaW5lclJlZi5jdXJyZW50KSB7XG4gICAgICBjb25zb2xlLndhcm4oXCJObyB2aWRlbyBVUkwgcHJvdmlkZWQgb3IgY29udGFpbmVyIG5vdCBmb3VuZFwiKVxuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIHNldFZpZGVvVXJsKHZpZGVvX3VybF9mcm9tX3dzKTsgLy8gVXBkYXRlIHRoZSB2aWRlb1VybCBzdGF0ZVxuXG4gICAgY29uc3QgY29udGFpbmVyID0gdmlkZW9Db250YWluZXJSZWYuY3VycmVudFxuICAgIGNvbnRhaW5lci5pbm5lckhUTUwgPSBcIlwiXG5cbiAgICBjb25zdCBsb2FkaW5nT3ZlcmxheSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIilcbiAgICBsb2FkaW5nT3ZlcmxheS5jbGFzc05hbWUgPVxuICAgICAgXCJhYnNvbHV0ZSBpbnNldC0wIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIGJnLWdyYWRpZW50LXRvLWJyIGZyb20tcHVycGxlLTkwMC81MCB0by1waW5rLTkwMC81MCBiYWNrZHJvcC1ibHVyLXNtIHotMTAgdHJhbnNpdGlvbi1vcGFjaXR5IGR1cmF0aW9uLTUwMFwiXG4gICAgbG9hZGluZ092ZXJsYXkuaW5uZXJIVE1MID0gYFxuICAgICAgPGRpdiBjbGFzcz1cInRleHQtY2VudGVyXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJ3LTE2IGgtMTYgYm9yZGVyLTQgYm9yZGVyLXdoaXRlLzIwIGJvcmRlci10LXdoaXRlIHJvdW5kZWQtZnVsbCBhbmltYXRlLXNwaW4gbXgtYXV0byBtYi00XCI+PC9kaXY+XG4gICAgICAgIDxwIGNsYXNzPVwidGV4dC13aGl0ZSB0ZXh0LWxnIGZvbnQtbWVkaXVtXCI+TG9hZGluZyB2aWRlby4uLjwvcD5cbiAgICAgIDwvZGl2PlxuICAgIGBcbiAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQobG9hZGluZ092ZXJsYXkpXG5cbiAgICBjb25zdCB2aWRlb0lkID0gZ2V0WW91VHViZVZpZGVvSWQodmlkZW9fdXJsX2Zyb21fd3MpXG5cbiAgICBpZiAodmlkZW9JZCkge1xuICAgICAgY29uc3QgaWZyYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlmcmFtZVwiKVxuICAgICAgaWZyYW1lLmNsYXNzTmFtZSA9IFwiYWJzb2x1dGUgaW5zZXQtMCB3LWZ1bGwgaC1mdWxsXCJcbiAgICAgIGlmcmFtZS5zcmMgPSBgaHR0cHM6Ly93d3cueW91dHViZS5jb20vZW1iZWQvJHt2aWRlb0lkfT9hdXRvcGxheT0xJmNvbnRyb2xzPTAmZGlzYWJsZWtiPTEmZnM9MCZtb2Rlc3RicmFuZGluZz0xJnJlbD0wJnNob3dpbmZvPTAmaXZfbG9hZF9wb2xpY3k9MyZlbmFibGVqc2FwaT0xJnBsYXlzaW5saW5lPTEmbXV0ZT0wYFxuICAgICAgaWZyYW1lLnRpdGxlID0gXCJHYW1lIFZpZGVvIFBsYXllclwiXG4gICAgICBpZnJhbWUuZnJhbWVCb3JkZXIgPSBcIjBcIlxuICAgICAgaWZyYW1lLmFsbG93ID0gXCJhY2NlbGVyb21ldGVyOyBhdXRvcGxheTsgY2xpcGJvYXJkLXdyaXRlOyBlbmNyeXB0ZWQtbWVkaWE7IGd5cm9zY29wZTsgcGljdHVyZS1pbi1waWN0dXJlXCJcbiAgICAgIGlmcmFtZS5hbGxvd0Z1bGxzY3JlZW4gPSBmYWxzZVxuICAgICAgaWZyYW1lLnN0eWxlLnBvaW50ZXJFdmVudHMgPSBcIm5vbmVcIlxuXG4gICAgICBpZnJhbWUub25sb2FkID0gKCkgPT4ge1xuICAgICAgICBsb2FkaW5nT3ZlcmxheS5zdHlsZS5vcGFjaXR5ID0gXCIwXCJcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgaWYgKGxvYWRpbmdPdmVybGF5LnBhcmVudE5vZGUpIHtcbiAgICAgICAgICAgIGxvYWRpbmdPdmVybGF5LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobG9hZGluZ092ZXJsYXkpXG4gICAgICAgICAgfVxuICAgICAgICB9LCA1MDApXG4gICAgICAgIHRvYXN0KHsgdGl0bGU6IFwiWW91VHViZSBWaWRlbyBMb2FkZWRcIiwgZGVzY3JpcHRpb246IFwiUGxheWJhY2sgc3RhcnRlZC5cIiB9KTtcbiAgICAgIH1cbiAgICAgIGlmcmFtZS5vbmVycm9yID0gKCkgPT4ge1xuICAgICAgICBoYW5kbGVWaWRlb0Vycm9yKFwiRmFpbGVkIHRvIGxvYWQgWW91VHViZSB2aWRlb1wiKVxuICAgICAgfVxuICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGlmcmFtZSlcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgdmlkZW8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidmlkZW9cIilcbiAgICAgIHZpZGVvLmNsYXNzTmFtZSA9IFwidy1mdWxsIGgtZnVsbCBvYmplY3QtY292ZXIgcm91bmRlZC14bFwiXG4gICAgICB2aWRlby5zcmMgPSB2aWRlb191cmxfZnJvbV93c1xuICAgICAgdmlkZW8uYXV0b3BsYXkgPSB0cnVlXG4gICAgICB2aWRlby5tdXRlZCA9IHRydWUgXG4gICAgICB2aWRlby5wbGF5c0lubGluZSA9IHRydWVcbiAgICAgIHZpZGVvLmxvb3AgPSBmYWxzZVxuICAgICAgdmlkZW8ucHJlbG9hZCA9IFwiYXV0b1wiXG4gICAgICB2aWRlby5jb250cm9scyA9IGZhbHNlXG4gICAgICB2aWRlby5zdHlsZS5wb2ludGVyRXZlbnRzID0gXCJub25lXCJcblxuICAgICAgdmlkZW8ub25sb2FkZWRkYXRhID0gKCkgPT4ge1xuICAgICAgICBsb2FkaW5nT3ZlcmxheS5zdHlsZS5vcGFjaXR5ID0gXCIwXCJcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgaWYgKGxvYWRpbmdPdmVybGF5LnBhcmVudE5vZGUpIHtcbiAgICAgICAgICAgIGxvYWRpbmdPdmVybGF5LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobG9hZGluZ092ZXJsYXkpXG4gICAgICAgICAgfVxuICAgICAgICB9LCA1MDApXG4gICAgICAgIHRvYXN0KHsgdGl0bGU6IFwiVmlkZW8gRmlsZSBMb2FkZWRcIiwgZGVzY3JpcHRpb246IFwiUGxheWJhY2sgc3RhcnRlZC5cIiB9KTtcbiAgICAgIH1cbiAgICAgIHZpZGVvLm9uZXJyb3IgPSAoKSA9PiB7XG4gICAgICAgIGhhbmRsZVZpZGVvRXJyb3IoXCJGYWlsZWQgdG8gbG9hZCB2aWRlbyBmaWxlXCIpXG4gICAgICB9XG4gICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQodmlkZW8pXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaGFuZGxlVmlkZW9FcnJvcihlcnJvck1lc3NhZ2UpIHtcbiAgICAgIGlmIChsb2FkaW5nT3ZlcmxheS5wYXJlbnROb2RlKSB7XG4gICAgICAgICBsb2FkaW5nT3ZlcmxheS5pbm5lckhUTUwgPSBgXG4gICAgICAgIDxkaXYgY2xhc3M9XCJ0ZXh0LWNlbnRlclwiPlxuICAgICAgICAgIDxwIGNsYXNzPVwidGV4dC1yZWQtNDAwIHRleHQtbGcgZm9udC1tZWRpdW0gbWItMlwiPlZpZGVvIExvYWQgRXJyb3I8L3A+XG4gICAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LXdoaXRlLzcwIHRleHQtc21cIj4ke2Vycm9yTWVzc2FnZX08L3A+XG4gICAgICAgIDwvZGl2PlxuICAgICAgYFxuICAgICAgfVxuICAgICAgdG9hc3QoeyB0aXRsZTogXCJWaWRlbyBFcnJvclwiLCBkZXNjcmlwdGlvbjogZXJyb3JNZXNzYWdlLCB2YXJpYW50OiBcImRlc3RydWN0aXZlXCIgfSlcbiAgICB9XG4gIH1cblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICh2aWRlb191cmwpIHtcbiAgICAgIGxvYWRfdmlkZW9fZnJvbV91cmwodmlkZW9fdXJsKTtcbiAgICB9XG4gIH0sIFt2aWRlb191cmxdKTtcblxuICBhc3luYyBmdW5jdGlvbiBkZXRlY3RBbmRTZW5kRmFjZSgpIHtcbiAgICBjb25zdCBjdXJyZW50VmlkZW9FbGVtZW50ID0gdmlkZW9FbGVtZW50UmVmLmN1cnJlbnQ7XG4gICAgaWYgKCFjdXJyZW50VmlkZW9FbGVtZW50IHx8IGN1cnJlbnRWaWRlb0VsZW1lbnQucGF1c2VkIHx8IGN1cnJlbnRWaWRlb0VsZW1lbnQucmVhZHlTdGF0ZSA8IDMpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoIXdpbmRvdy5mYWNlYXBpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IG9wdGlvbnMgPSBuZXcgd2luZG93LmZhY2VhcGkuVGlueUZhY2VEZXRlY3Rvck9wdGlvbnMoe1xuICAgICAgICBpbnB1dFNpemU6IDIyNCxcbiAgICAgICAgc2NvcmVUaHJlc2hvbGQ6IDAuNSxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCBkZXRlY3Rpb25zID0gYXdhaXQgd2luZG93LmZhY2VhcGkuZGV0ZWN0QWxsRmFjZXMoY3VycmVudFZpZGVvRWxlbWVudCwgb3B0aW9ucyk7XG5cbiAgICAgIGlmIChkZXRlY3Rpb25zLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmIChkZXRlY3Rpb25zLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgLy8gdG9hc3QoeyB0aXRsZTogXCJNdWx0aXBsZSBmYWNlcyBkZXRlY3RlZFwiLCBkZXNjcmlwdGlvbjogXCJQbGVhc2UgZW5zdXJlIG9ubHkgb25lIHBlcnNvbiBpcyB2aXNpYmxlLlwiLCB2YXJpYW50OiBcIndhcm5pbmdcIiB9KTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBkZXRlY3Rpb24gPSBkZXRlY3Rpb25zWzBdO1xuICAgICAgY29uc3QgYm94ID0gZGV0ZWN0aW9uLmRldGVjdGlvbiA/IGRldGVjdGlvbi5kZXRlY3Rpb24uYm94IDogZGV0ZWN0aW9uLmJveDtcblxuICAgICAgaWYgKCFib3gpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBjb25zdCB0ZW1wQ2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKTtcbiAgICAgIGNvbnN0IHRlbXBDb250ZXh0ID0gdGVtcENhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7XG5cbiAgICAgIGNvbnN0IHBhZGRpbmcgPSAwLjE7XG4gICAgICBjb25zdCBwYWRkZWRXaWR0aCA9IGJveC53aWR0aCAqICgxICsgcGFkZGluZyAqIDIpO1xuICAgICAgY29uc3QgcGFkZGVkSGVpZ2h0ID0gYm94LmhlaWdodCAqICgxICsgcGFkZGluZyAqIDIpO1xuICAgICAgY29uc3QgcGFkZGVkWCA9IGJveC54IC0gYm94LndpZHRoICogcGFkZGluZztcbiAgICAgIGNvbnN0IHBhZGRlZFkgPSBib3gueSAtIGJveC5oZWlnaHQgKiBwYWRkaW5nO1xuXG4gICAgICBjb25zdCBjcm9wWCA9IE1hdGgubWF4KDAsIHBhZGRlZFgpO1xuICAgICAgY29uc3QgY3JvcFkgPSBNYXRoLm1heCgwLCBwYWRkZWRZKTtcbiAgICAgIGNvbnN0IGNyb3BXaWR0aCA9IE1hdGgubWluKHBhZGRlZFdpZHRoLCBjdXJyZW50VmlkZW9FbGVtZW50LnZpZGVvV2lkdGggLSBjcm9wWCk7XG4gICAgICBjb25zdCBjcm9wSGVpZ2h0ID0gTWF0aC5taW4ocGFkZGVkSGVpZ2h0LCBjdXJyZW50VmlkZW9FbGVtZW50LnZpZGVvSGVpZ2h0IC0gY3JvcFkpO1xuICAgICAgXG4gICAgICBpZiAoY3JvcFdpZHRoIDw9IDAgfHwgY3JvcEhlaWdodCA8PSAwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdGVtcENhbnZhcy53aWR0aCA9IGNyb3BXaWR0aDtcbiAgICAgIHRlbXBDYW52YXMuaGVpZ2h0ID0gY3JvcEhlaWdodDtcblxuICAgICAgdGVtcENvbnRleHQuZHJhd0ltYWdlKFxuICAgICAgICBjdXJyZW50VmlkZW9FbGVtZW50LFxuICAgICAgICBjcm9wWCxcbiAgICAgICAgY3JvcFksXG4gICAgICAgIGNyb3BXaWR0aCxcbiAgICAgICAgY3JvcEhlaWdodCxcbiAgICAgICAgMCxcbiAgICAgICAgMCxcbiAgICAgICAgY3JvcFdpZHRoLFxuICAgICAgICBjcm9wSGVpZ2h0XG4gICAgICApO1xuXG4gICAgICBjb25zdCBpbWFnZURhdGFVcmwgPSB0ZW1wQ2FudmFzLnRvRGF0YVVSTChcImltYWdlL2pwZWdcIiwgMC43KTtcbiAgICAgIGNvbnN0IGJhc2U2NERhdGEgPSBpbWFnZURhdGFVcmwuc3BsaXQoXCIsXCIpWzFdO1xuXG4gICAgICBcbiAgICAgIGlmIChzZW5kTWVzc2FnZSkge1xuICAgICAgICBzZW5kTWVzc2FnZShcInVwbG9hZF9pbWFnZVwiLCB7IGltYWdlX2RhdGE6IGJhc2U2NERhdGEgfSlcbiAgICAgIH1cblxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiRmFjZSBjcm9wIGFuZCBzZW5kIGVycm9yOlwiLCBlcnJvcik7XG4gICAgICAvLyB0b2FzdCh7XG4gICAgICAvLyAgIHRpdGxlOiBcIkZhY2UgRGV0ZWN0aW9uIEVycm9yXCIsXG4gICAgICAvLyAgIGRlc2NyaXB0aW9uOiBgRmFpbGVkIHRvIGNyb3AgYW5kIHNlbmQgZmFjZTogJHtlcnJvci5tZXNzYWdlfWAsXG4gICAgICAvLyAgIHZhcmlhbnQ6IFwiZGVzdHJ1Y3RpdmVcIixcbiAgICAgIC8vIH0pO1xuICAgIH1cbiAgfVxuXG4gIC8vIFJlbmFtZWQgdG8gYXZvaWQgY29uZmxpY3Qgd2l0aCBkZXRlY3RBbmRTZW5kRmFjZSB3aGljaCBpcyBhc3luY1xuICBmdW5jdGlvbiB0cmlnZ2VyRmFjZUltYWdlU2VuZCgpIHsgXG4gICAgaWYgKCFpc0Nvbm5lY3RlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBjdXJyZW50VmlkZW9FbGVtZW50ID0gdmlkZW9FbGVtZW50UmVmLmN1cnJlbnQ7XG4gICAgaWYgKCFjdXJyZW50VmlkZW9FbGVtZW50IHx8IGN1cnJlbnRWaWRlb0VsZW1lbnQucGF1c2VkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICghbW9kZWxzTG9hZGVkIHx8ICFmYWNlQXBpTG9hZGVkKSB7IC8vIENoZWNrIGJvdGggZmxhZ3NcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZGV0ZWN0QW5kU2VuZEZhY2UoKTsgLy8gQ2FsbCB0aGUgYXN5bmMgZnVuY3Rpb25cbiAgfVxuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgbGV0IGludGVydmFsSWQ7XG4gICAgY29uc29sZS5sb2coXCJTZXR0aW5nIHVwIGludGVydmFsIGZvciBmYWNlIGRldGVjdGlvbiBhbmQgc2VuZGluZyBpbWFnZTogVkFSQUJMRVNcIiwge1xuICAgICAgaXNDb25uZWN0ZWQsXG4gICAgICBtb2RlbHNMb2FkZWQsXG4gICAgICBmYWNlQXBpTG9hZGVkXG4gICAgfSk7XG4gICAgaWYgKGlzQ29ubmVjdGVkICYmIG1vZGVsc0xvYWRlZCAmJiBmYWNlQXBpTG9hZGVkKSB7XG4gICAgICBpbnRlcnZhbElkID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgICB0cmlnZ2VyRmFjZUltYWdlU2VuZCgpOyAvLyBVc2UgdGhlIHJlbmFtZWQgd3JhcHBlciBmdW5jdGlvblxuICAgICAgfSwgNTAwKTtcbiAgICB9XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGlmIChpbnRlcnZhbElkKSB7XG4gICAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWxJZCk7XG4gICAgICB9XG4gICAgfTtcbiAgfSwgW2lzQ29ubmVjdGVkLCBtb2RlbHNMb2FkZWQsIGZhY2VBcGlMb2FkZWQsIGxvYmJ5Q29kZSwgdXNlcm5hbWUsIHNlbmRNZXNzYWdlXSk7IC8vIEFkZGVkIHJlbGV2YW50IGRlcGVuZGVuY2llc1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGlmICh2aWRlb0NvbnRhaW5lclJlZi5jdXJyZW50Py5fY2xlYW51cCkge1xuICAgICAgICB2aWRlb0NvbnRhaW5lclJlZi5jdXJyZW50Ll9jbGVhbnVwKClcbiAgICAgIH1cbiAgICB9XG4gIH0sIFtdKVxuXG4gIGNvbnN0IGhhbmRsZUxlYXZlR2FtZSA9ICgpID0+IHtcbiAgICBkaXNjb25uZWN0KClcbiAgICByb3V0ZXIucHVzaChcIi9sb2JieVwiKVxuICB9XG5cbiAgaWYgKGNvbm5lY3Rpb25FcnJvcikge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1pbi1oLXNjcmVlbiBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBiZy1ncmFkaWVudC10by1iciBmcm9tLXB1cnBsZS02MDAgdmlhLXBpbmstNjAwIHRvLWJsdWUtNjAwIHAtNFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLXdoaXRlLzk1IGJhY2tkcm9wLWJsdXIteGwgcm91bmRlZC0zeGwgcC04IHRleHQtY2VudGVyXCI+XG4gICAgICAgICAgPGgyIGNsYXNzTmFtZT1cInRleHQtMnhsIGZvbnQtYm9sZCB0ZXh0LXJlZC02MDAgbWItNFwiPkNvbm5lY3Rpb24gRXJyb3I8L2gyPlxuICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtZ3JheS03MDAgbWItNFwiPntjb25uZWN0aW9uRXJyb3J9PC9wPlxuICAgICAgICAgIDxCdXR0b24gb25DbGljaz17KCkgPT4gcm91dGVyLnB1c2goXCIvbG9iYnlcIil9IGNsYXNzTmFtZT1cImJnLXB1cnBsZS02MDAgaG92ZXI6YmctcHVycGxlLTcwMFwiPlxuICAgICAgICAgICAgUmV0dXJuIHRvIExvYmJ5XG4gICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cIm1pbi1oLXNjcmVlbiBmbGV4IGZsZXgtY29sIGJnLWdyYWRpZW50LXRvLWJyIGZyb20tcHVycGxlLTYwMCB2aWEtcGluay02MDAgdG8tYmx1ZS02MDBcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXIgcHktNFwiPlxuICAgICAgICA8aDEgY2xhc3NOYW1lPVwidGV4dC13aGl0ZSB0ZXh0LTR4bCBmb250LWJvbGQgdHJhY2tpbmctd2lkZVwiPlxuICAgICAgICAgIEtSQUNLTEU8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXllbGxvdy0zMDBcIj4uQ088L3NwYW4+XG4gICAgICAgIDwvaDE+XG4gICAgICAgIDxoMiBjbGFzc05hbWU9XCJ0ZXh0LXdoaXRlIHRleHQteGwgbXQtMVwiPkdhbWU6IHtsb2JieUNvZGV9PC9oMj5cbiAgICAgIDwvZGl2PlxuXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgbWQ6ZmxleC1yb3cgZmxleC0xIHAtNCBnYXAtNFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctZnVsbCBtZDp3LTY0IGJnLXdoaXRlLzEwIGJhY2tkcm9wLWJsdXItbWQgcm91bmRlZC14bCBwLTRcIj5cbiAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwidGV4dC13aGl0ZSB0ZXh0LXhsIGZvbnQtYm9sZCBtYi00IGZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XG4gICAgICAgICAgICA8VXNlcnMgY2xhc3NOYW1lPVwidy01IGgtNVwiIC8+IFBsYXllcnNcbiAgICAgICAgICA8L2gzPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0yIG1heC1oLVs2MHZoXSBvdmVyZmxvdy15LWF1dG9cIj5cbiAgICAgICAgICAgIHtwbGF5ZXJzLmxlbmd0aCA+IDAgPyAoXG4gICAgICAgICAgICAgIHBsYXllcnMubWFwKChwbGF5ZXIsIGluZGV4KSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgaXNWZXJpZmllZCA9IHZlcmlmaWVkUGxheWVycy5pbmNsdWRlcyhwbGF5ZXIpIC8vIFJFVkVSVEVEOiBDaGVjayBkaXJlY3RseSBhZ2FpbnN0IHBsYXllciBzdHJpbmdcblxuICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgIGtleT17aW5kZXh9IFxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2BwLTMgcm91bmRlZC1sZyAke1xuICAgICAgICAgICAgICAgICAgICAgIGlzVmVyaWZpZWRcbiAgICAgICAgICAgICAgICAgICAgICAgID8gXCJiZy1ncmFkaWVudC10by1yIGZyb20tZ3JlZW4tMjAwLzgwIHRvLWdyZWVuLTEwMC84MCBiYWNrZHJvcC1ibHVyLW1kXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIDogXCJiZy1ncmF5LTIwMC84MCBiYWNrZHJvcC1ibHVyLW1kXCJcbiAgICAgICAgICAgICAgICAgICAgfSBmbGV4IGl0ZW1zLWNlbnRlcmB9XG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2BoLTggdy04IHJvdW5kZWQtZnVsbCAke1xuICAgICAgICAgICAgICAgICAgICAgICAgaXNWZXJpZmllZCA/IFwiYmctZ3JhZGllbnQtdG8tciBmcm9tLWdyZWVuLTUwMCB0by1lbWVyYWxkLTUwMFwiIDogXCJiZy1ncmF5LTUwMFwiXG4gICAgICAgICAgICAgICAgICAgICAgfSB0ZXh0LXdoaXRlIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIG1yLTNgfVxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAge3BsYXllci5jaGFyQXQoMCkudG9VcHBlckNhc2UoKX0gXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJmb250LW1lZGl1bVwiPlxuICAgICAgICAgICAgICAgICAgICAgIHtwbGF5ZXJ9IHtwbGF5ZXIgPT09IHVzZXJuYW1lICYmIFwiKFlvdSlcIn0gXG4gICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgey8qIFJFVkVSVEVEOiBPcmlnaW5hbCBhZG1pbiBjaGVjayAoZmlyc3QgcGxheWVyKSAqL31cbiAgICAgICAgICAgICAgICAgICAge2luZGV4ID09PSAwICYmIDxDcm93biBjbGFzc05hbWU9XCJ3LTQgaC00IHRleHQteWVsbG93LTUwMCBtbC0yXCIgLz59XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtY2VudGVyIHB5LTQgdGV4dC13aGl0ZVwiPlxuICAgICAgICAgICAgICAgIDxMb2FkZXIyIGNsYXNzTmFtZT1cInctNiBoLTYgYW5pbWF0ZS1zcGluIG14LWF1dG8gbWItMlwiIC8+XG4gICAgICAgICAgICAgICAgPHA+TG9hZGluZyBwbGF5ZXJzLi4uPC9wPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC0xIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LVs0MDBweF0gYmctd2hpdGUgcm91bmRlZC14bCBwLTQgaC1bNjAwcHhdIGZsZXggZmxleC1jb2xcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWJldHdlZW4gaXRlbXMtY2VudGVyIG1iLTRcIj5cbiAgICAgICAgICAgICAgPGgzIGNsYXNzTmFtZT1cInRleHQtMnhsIGZvbnQtYm9sZFwiPkdhbWUgVmlkZW88L2gzPlxuICAgICAgICAgICAgICB7cm9sZSA9PT0gXCJsb2JieS1hZG1pblwiICYmIChcbiAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICBvbkNsaWNrPXtyZXF1ZXN0TmV3VmlkZW99XG4gICAgICAgICAgICAgICAgICBkaXNhYmxlZD17aXNMb2FkaW5nVmlkZW99XG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJiZy1wdXJwbGUtNjAwIGhvdmVyOmJnLXB1cnBsZS03MDAgdGV4dC13aGl0ZVwiXG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAge2lzTG9hZGluZ1ZpZGVvID8gKFxuICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgIDxMb2FkZXIyIGNsYXNzTmFtZT1cInctNCBoLTQgbXItMiBhbmltYXRlLXNwaW5cIiAvPlxuICAgICAgICAgICAgICAgICAgICAgIExvYWRpbmcuLi5cbiAgICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgIDxSZWZyZXNoQ3cgY2xhc3NOYW1lPVwidy00IGgtNCBtci0yXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICBOZXcgVmlkZW9cbiAgICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC0xIHJlbGF0aXZlIHctZnVsbCByb3VuZGVkLWxnIG92ZXJmbG93LWhpZGRlbiBiZy1ibGFja1wiIHJlZj17dmlkZW9Db250YWluZXJSZWZ9PlxuICAgICAgICAgICAgICB7IXZpZGVvX3VybCAmJiAhdmlkZW9VcmwgJiYgKFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWJzb2x1dGUgaW5zZXQtMCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICA8UGxheSBjbGFzc05hbWU9XCJ3LTEyIGgtMTIgbXgtYXV0byBtYi00IHRleHQtZ3JheS01MDBcIiAvPlxuICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNTAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAge3JvbGUgPT09IFwibG9iYnktYWRtaW5cIlxuICAgICAgICAgICAgICAgICAgICAgICAgPyBcIkNsaWNrICdOZXcgVmlkZW8nIHRvIHN0YXJ0IHRoZSBnYW1lXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIDogXCJXYWl0aW5nIGZvciB0aGUgaG9zdCB0byBzdGFydCBhIHZpZGVvLi4uXCJ9XG4gICAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtNCBmbGV4IGp1c3RpZnktY2VudGVyXCI+XG4gICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJiZy1yZWQtNDAwIGhvdmVyOmJnLXJlZC01MDAgdGV4dC13aGl0ZSByb3VuZGVkLWZ1bGwgcHgtNiBweS0yIHRleHQtbGcgZm9udC1ib2xkXCJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVMZWF2ZUdhbWV9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8TG9nT3V0IGNsYXNzTmFtZT1cInctNSBoLTUgbXItMlwiIC8+XG4gICAgICAgICAgICAgICAgTEVBVkUgR0FNRVxuICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImZpeGVkIGJvdHRvbS02IHJpZ2h0LTYgei0yMFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJlbGF0aXZlIGZsZXggZmxleC1jb2wgaXRlbXMtY2VudGVyXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyZWxhdGl2ZSB3LTggaC00MCBtYi0wXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIGluc2V0LTAgYmctd2hpdGUvMjAgYmFja2Ryb3AtYmx1ci1zbSByb3VuZGVkLWZ1bGwgYm9yZGVyIGJvcmRlci13aGl0ZS8zMFwiPjwvZGl2PlxuICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJhYnNvbHV0ZSBib3R0b20tMCBsZWZ0LTAgcmlnaHQtMCByb3VuZGVkLWZ1bGwgdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMzAwIGVhc2Utb3V0XCJcbiAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IGAke2dhbWVQcm9ncmVzc30lYCxcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiBgbGluZWFyLWdyYWRpZW50KHRvIHRvcCwgIzIyYzU1ZSwgI2VhYjMwOCwgI2VmNDQ0NClgLFxuICAgICAgICAgICAgICAgIG1hcmdpbjogXCIycHhcIixcbiAgICAgICAgICAgICAgICB3aWR0aDogXCJjYWxjKDEwMCUgLSA0cHgpXCIsXG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICA+PC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIC1yaWdodC0xMCB0b3AtMS8yIC10cmFuc2xhdGUteS0xLzJcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy1ibGFjay81MCBiYWNrZHJvcC1ibHVyLXNtIHJvdW5kZWQtbGcgcHgtMiBweS0xXCI+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC13aGl0ZSBmb250LWJvbGQgdGV4dC14c1wiPntNYXRoLnJvdW5kKGdhbWVQcm9ncmVzcyl9JTwvc3Bhbj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmVsYXRpdmVcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmVsYXRpdmUgdy0zMiBoLTMyIHJvdW5kZWQtZnVsbCBvdmVyZmxvdy1oaWRkZW4gYm9yZGVyLTQgYm9yZGVyLXdoaXRlLzMwIHNoYWRvdy14bFwiPlxuICAgICAgICAgICAgICB7LyogTU9ESUZJRUQ6IFVzZSB2aWRlb0VsZW1lbnRSZWYgZm9yIHRoZSB3ZWJjYW0gdmlkZW8gZWxlbWVudCAqL31cbiAgICAgICAgICAgICAgPHZpZGVvIHJlZj17dmlkZW9FbGVtZW50UmVmfSBpZD1cIndlYmNhbVwiIGNsYXNzTmFtZT1cImFic29sdXRlIHctZnVsbCBoLWZ1bGwgb2JqZWN0LWNvdmVyXCIgYXV0b1BsYXkgcGxheXNJbmxpbmUgbXV0ZWQ+PC92aWRlbz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSB0b3AtMSByaWdodC0xIHotMTBcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMSBiZy1ibGFjay81MCBiYWNrZHJvcC1ibHVyLXNtIHJvdW5kZWQtZnVsbCBweC0xLjUgcHktMC41XCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTEuNSBoLTEuNSBiZy1yZWQtNTAwIHJvdW5kZWQtZnVsbCBhbmltYXRlLXB1bHNlXCI+PC9kaXY+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC13aGl0ZSB0ZXh0LXhzIGZvbnQtbWVkaXVtXCI+TElWRTwvc3Bhbj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cblxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJweS00IHRleHQtY2VudGVyIHRleHQtd2hpdGUgdGV4dC14c1wiPlxuICAgICAgICBNQURFIFdJVEggTE9WRSBCWSBIQVlTT04sIE5FTFNPTiwgQU5EIEJPWUEgPHNwYW4gY2xhc3NOYW1lPVwibWwtMVwiPuKdpO+4jzwvc3Bhbj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApXG59XG4iXSwibmFtZXMiOlsidXNlRWZmZWN0IiwidXNlU3RhdGUiLCJ1c2VSZWYiLCJ1c2VSb3V0ZXIiLCJ1c2VTZWFyY2hQYXJhbXMiLCJ1c2VUb2FzdCIsIkJ1dHRvbiIsIlVzZXJzIiwiQ3Jvd24iLCJMb2FkZXIyIiwiUmVmcmVzaEN3IiwiUGxheSIsIkxvZ091dCIsInVzZVdlYlNvY2tldCIsInNldCIsIkFQSV9CQVNFX1VSTCIsIkdhbWVQYWdlIiwidXNlcm5hbWUiLCJzZXRVc2VybmFtZSIsImxvYmJ5Q29kZSIsInNldExvYmJ5Q29kZSIsInVzZXJUb2tlbiIsInNldFVzZXJUb2tlbiIsInJvbGUiLCJzZXRSb2xlIiwiaXNMb2FkaW5nVmlkZW8iLCJzZXRJc0xvYWRpbmdWaWRlbyIsInZlcmlmaWVkUGxheWVycyIsInNldFZlcmlmaWVkUGxheWVycyIsInZpZGVvVXJsIiwic2V0VmlkZW9VcmwiLCJnYW1lUHJvZ3Jlc3MiLCJzZXRHYW1lUHJvZ3Jlc3MiLCJtb2RlbHNMb2FkZWQiLCJzZXRNb2RlbHNMb2FkZWQiLCJmYWNlQXBpTG9hZGVkIiwic2V0RmFjZUFwaUxvYWRlZCIsInZpZGVvQ29udGFpbmVyUmVmIiwidmlkZW9FbGVtZW50UmVmIiwicm91dGVyIiwic2VhcmNoUGFyYW1zIiwidG9hc3QiLCJpc0Nvbm5lY3RlZCIsIm1lc3NhZ2VzIiwicGxheWVycyIsImxvYmJ5SW5mbyIsImNvbm5lY3Rpb25FcnJvciIsInZlcmlmaWVkX3VzZXJuYW1lcyIsImdhbWVfc3RhcnRlZCIsInZpZGVvX3VybCIsImxhdWdoTWV0ZXJzIiwiZGF0YSIsInNlbmRDaGF0TWVzc2FnZSIsImxlYXZlTG9iYnkiLCJraWNrUGxheWVyIiwic3RhcnRHYW1lIiwiY2xvc2VMb2JieSIsImRpc2JhbmRMb2JieSIsIm11dGVQbGF5ZXIiLCJ1bm11dGVQbGF5ZXIiLCJjaGFuZ2VTZXR0aW5ncyIsInNlbmRNZXNzYWdlIiwiZGlzY29ubmVjdCIsIndpbmRvdyIsImZhY2VhcGkiLCJzY3JpcHQiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJzcmMiLCJhc3luYyIsIm9ubG9hZCIsInRpdGxlIiwiZGVzY3JpcHRpb24iLCJvbmVycm9yIiwidmFyaWFudCIsImJvZHkiLCJhcHBlbmRDaGlsZCIsInN0b3JlZFVzZXJuYW1lIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsInN0b3JlZExvYmJ5Iiwic3RvcmVkVG9rZW4iLCJzdG9yZWRSb2xlIiwicHVzaCIsIndlYnNvY2tldFJvbGUiLCJyZXF1ZXN0TmV3VmlkZW8iLCJsb2FkTW9kZWxzIiwiTU9ERUxfVVJMIiwibmV0cyIsInRpbnlGYWNlRGV0ZWN0b3IiLCJsb2FkRnJvbVVyaSIsImVycm9yIiwiY29uc29sZSIsImluaXRXZWJjYW0iLCJzdHJlYW0iLCJuYXZpZ2F0b3IiLCJtZWRpYURldmljZXMiLCJnZXRVc2VyTWVkaWEiLCJ2aWRlbyIsImN1cnJlbnQiLCJzcmNPYmplY3QiLCJlcnIiLCJ0cmFja3MiLCJnZXRUcmFja3MiLCJmb3JFYWNoIiwidHJhY2siLCJzdG9wIiwiSlNPTiIsInN0cmluZ2lmeSIsInR5cGUiLCJnZXRZb3VUdWJlVmlkZW9JZCIsInVybCIsInJlZ0V4cCIsIm1hdGNoIiwibGVuZ3RoIiwibG9hZF92aWRlb19mcm9tX3VybCIsInZpZGVvX3VybF9mcm9tX3dzIiwid2FybiIsImNvbnRhaW5lciIsImlubmVySFRNTCIsImxvYWRpbmdPdmVybGF5IiwiY2xhc3NOYW1lIiwidmlkZW9JZCIsImlmcmFtZSIsImZyYW1lQm9yZGVyIiwiYWxsb3ciLCJhbGxvd0Z1bGxzY3JlZW4iLCJzdHlsZSIsInBvaW50ZXJFdmVudHMiLCJvcGFjaXR5Iiwic2V0VGltZW91dCIsInBhcmVudE5vZGUiLCJyZW1vdmVDaGlsZCIsImhhbmRsZVZpZGVvRXJyb3IiLCJhdXRvcGxheSIsIm11dGVkIiwicGxheXNJbmxpbmUiLCJsb29wIiwicHJlbG9hZCIsImNvbnRyb2xzIiwib25sb2FkZWRkYXRhIiwiZXJyb3JNZXNzYWdlIiwiZGV0ZWN0QW5kU2VuZEZhY2UiLCJjdXJyZW50VmlkZW9FbGVtZW50IiwicGF1c2VkIiwicmVhZHlTdGF0ZSIsIm9wdGlvbnMiLCJUaW55RmFjZURldGVjdG9yT3B0aW9ucyIsImlucHV0U2l6ZSIsInNjb3JlVGhyZXNob2xkIiwiZGV0ZWN0aW9ucyIsImRldGVjdEFsbEZhY2VzIiwiZGV0ZWN0aW9uIiwiYm94IiwidGVtcENhbnZhcyIsInRlbXBDb250ZXh0IiwiZ2V0Q29udGV4dCIsInBhZGRpbmciLCJwYWRkZWRXaWR0aCIsIndpZHRoIiwicGFkZGVkSGVpZ2h0IiwiaGVpZ2h0IiwicGFkZGVkWCIsIngiLCJwYWRkZWRZIiwieSIsImNyb3BYIiwiTWF0aCIsIm1heCIsImNyb3BZIiwiY3JvcFdpZHRoIiwibWluIiwidmlkZW9XaWR0aCIsImNyb3BIZWlnaHQiLCJ2aWRlb0hlaWdodCIsImRyYXdJbWFnZSIsImltYWdlRGF0YVVybCIsInRvRGF0YVVSTCIsImJhc2U2NERhdGEiLCJzcGxpdCIsImltYWdlX2RhdGEiLCJ0cmlnZ2VyRmFjZUltYWdlU2VuZCIsImludGVydmFsSWQiLCJsb2ciLCJzZXRJbnRlcnZhbCIsImNsZWFySW50ZXJ2YWwiLCJfY2xlYW51cCIsImhhbmRsZUxlYXZlR2FtZSIsImRpdiIsImgyIiwicCIsIm9uQ2xpY2siLCJoMSIsInNwYW4iLCJoMyIsIm1hcCIsInBsYXllciIsImluZGV4IiwiaXNWZXJpZmllZCIsImluY2x1ZGVzIiwiY2hhckF0IiwidG9VcHBlckNhc2UiLCJkaXNhYmxlZCIsInJlZiIsImJhY2tncm91bmQiLCJtYXJnaW4iLCJyb3VuZCIsImlkIiwiYXV0b1BsYXkiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./app/game/page.jsx\n"));

/***/ })

});