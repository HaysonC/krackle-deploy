"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/game/page",{

/***/ "(app-pages-browser)/./app/game/page.jsx":
/*!***************************!*\
  !*** ./app/game/page.jsx ***!
  \***************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ GamePage)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_navigation__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/navigation */ \"(app-pages-browser)/./node_modules/next/dist/api/navigation.js\");\n/* harmony import */ var _components_ui_button__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/components/ui/button */ \"(app-pages-browser)/./components/ui/button.tsx\");\n/* harmony import */ var _hooks_use_toast__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/hooks/use-toast */ \"(app-pages-browser)/./hooks/use-toast.js\");\n/* harmony import */ var _hooks_use_websocket__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/hooks/use-websocket */ \"(app-pages-browser)/./hooks/use-websocket.js\");\n/* harmony import */ var _barrel_optimize_names_Crown_Loader2_LogOut_Play_RefreshCw_Users_lucide_react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! __barrel_optimize__?names=Crown,Loader2,LogOut,Play,RefreshCw,Users!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/users.js\");\n/* harmony import */ var _barrel_optimize_names_Crown_Loader2_LogOut_Play_RefreshCw_Users_lucide_react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! __barrel_optimize__?names=Crown,Loader2,LogOut,Play,RefreshCw,Users!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/crown.js\");\n/* harmony import */ var _barrel_optimize_names_Crown_Loader2_LogOut_Play_RefreshCw_Users_lucide_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! __barrel_optimize__?names=Crown,Loader2,LogOut,Play,RefreshCw,Users!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/loader-circle.js\");\n/* harmony import */ var _barrel_optimize_names_Crown_Loader2_LogOut_Play_RefreshCw_Users_lucide_react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! __barrel_optimize__?names=Crown,Loader2,LogOut,Play,RefreshCw,Users!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/refresh-cw.js\");\n/* harmony import */ var _barrel_optimize_names_Crown_Loader2_LogOut_Play_RefreshCw_Users_lucide_react__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! __barrel_optimize__?names=Crown,Loader2,LogOut,Play,RefreshCw,Users!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/play.js\");\n/* harmony import */ var _barrel_optimize_names_Crown_Loader2_LogOut_Play_RefreshCw_Users_lucide_react__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! __barrel_optimize__?names=Crown,Loader2,LogOut,Play,RefreshCw,Users!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/log-out.js\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\n\n\n\n\nconst API_BASE_URL = \"https://cd6f-202-28-7-4.ngrok-free.app\";\nfunction GamePage() {\n    _s();\n    const [username, setUsername] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [lobbyCode, setLobbyCode] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [userToken, setUserToken] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [role, setRole] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"player\");\n    const [isLoadingVideo, setIsLoadingVideo] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [verifiedPlayers, setVerifiedPlayers] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [videoUrl, setVideoUrl] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const videoContainerRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const router = (0,next_navigation__WEBPACK_IMPORTED_MODULE_2__.useRouter)();\n    const searchParams = (0,next_navigation__WEBPACK_IMPORTED_MODULE_2__.useSearchParams)();\n    const { toast } = (0,_hooks_use_toast__WEBPACK_IMPORTED_MODULE_4__.useToast)();\n    // Connect to WebSocket\n    const { video_url, isConnected, players, connectionError, sendMessage, disconnect } = (0,_hooks_use_websocket__WEBPACK_IMPORTED_MODULE_5__.useWebSocket)(lobbyCode, username, userToken, role);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"GamePage.useEffect\": ()=>{\n            // Get data from localStorage\n            const storedUsername = localStorage.getItem(\"krackle_username\");\n            const storedLobby = localStorage.getItem(\"krackle_lobby\");\n            const storedToken = localStorage.getItem(\"krackle_user_token\");\n            const storedAdminToken = localStorage.getItem(\"krackle_admin_token\");\n            const storedRole = localStorage.getItem(\"krackle_role\");\n            const urlLobbyCode = searchParams.get(\"lobby_code\");\n            if (!storedUsername || !storedLobby && !urlLobbyCode) {\n                toast({\n                    title: \"Session expired\",\n                    description: \"Please join a lobby again\",\n                    variant: \"destructive\"\n                });\n                router.push(\"/\");\n                return;\n            }\n            setUsername(storedUsername);\n            setLobbyCode(storedLobby || urlLobbyCode);\n            // Map \"admin\" to \"lobby-admin\" for WebSocket connection\n            const websocketRole = storedRole === \"admin\" ? \"lobby-admin\" : storedRole || \"player\";\n            setRole(websocketRole);\n            // Determine token based on role\n            if (storedRole === \"admin\") {\n                setUserToken(storedAdminToken);\n            } else {\n                setUserToken(storedToken);\n            }\n            // Request a video when the component mounts (if admin)\n            if (storedRole === \"admin\") {\n                requestNewVideo();\n            }\n        }\n    }[\"GamePage.useEffect\"], [\n        router,\n        searchParams,\n        toast\n    ]);\n    // Handle WebSocket messages\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"GamePage.useEffect\": ()=>{\n            // Custom message handler for game-specific events\n            const handleGameMessage = {\n                \"GamePage.useEffect.handleGameMessage\": (event)=>{\n                    if (event.data) {\n                        try {\n                            const data = JSON.parse(event.data);\n                            if (data.type === \"lobby.message\" && data.event === \"game_started\") {\n                                // Handle game started event\n                                if (data.verified_players) {\n                                    setVerifiedPlayers(data.verified_players);\n                                }\n                                toast({\n                                    title: \"Game Started!\",\n                                    description: data.message\n                                });\n                                // If admin, request a video\n                                if (role === \"lobby-admin\") {\n                                    requestNewVideo();\n                                }\n                            }\n                        } catch (error) {\n                            console.error(\"Error parsing WebSocket message:\", error);\n                        }\n                    }\n                }\n            }[\"GamePage.useEffect.handleGameMessage\"];\n            // Add event listener for WebSocket messages\n            if (true) {\n                window.addEventListener(\"message\", handleGameMessage);\n            }\n            return ({\n                \"GamePage.useEffect\": ()=>{\n                    if (true) {\n                        window.removeEventListener(\"message\", handleGameMessage);\n                    }\n                }\n            })[\"GamePage.useEffect\"];\n        }\n    }[\"GamePage.useEffect\"], [\n        role,\n        toast\n    ]);\n    //  Handle video URL updates from WebSocket\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"GamePage.useEffect\": ()=>{\n            if (video_url) {\n                load_video_from_url(video_url);\n            }\n        }\n    }[\"GamePage.useEffect\"], [\n        video_url\n    ]);\n    // Request a new video from the server\n    const requestNewVideo = async ()=>{\n        setIsLoadingVideo(true);\n        try {\n            if (isConnected && sendMessage) {\n                sendMessage(\"new_game_video\");\n                toast({\n                    title: \"🎮 Requesting New Video\",\n                    description: \"Fetching an exciting new video for the game...\"\n                });\n            } else {\n                // Fallback to REST API if WebSocket is not connected\n                const response = await fetch(\"\".concat(API_BASE_URL, \"/game/new_video\"), {\n                    method: \"GET\",\n                    headers: {\n                        \"Content-Type\": \"application/json\",\n                        \"X-Lobby-Code\": lobbyCode,\n                        \"X-User-Token\": userToken,\n                        \"ngrok-skip-browser-warning\": \"true\"\n                    }\n                });\n                if (response.ok) {\n                    const data = await response.json();\n                    if (data.url) {\n                        load_video_from_url(data.url);\n                    }\n                }\n            }\n        } catch (error) {\n            toast({\n                title: \"Connection error\",\n                description: \"Could not connect to the game server.\",\n                variant: \"destructive\"\n            });\n            console.error(\"Error fetching video:\", error);\n        } finally{\n            setIsLoadingVideo(false);\n        }\n    };\n    // Extract YouTube video ID from URL\n    const getYouTubeVideoId = (url)=>{\n        if (!url) return null;\n        // Handle different YouTube URL formats\n        const regExp = /^.*(youtu.be\\/|v\\/|u\\/\\w\\/|embed\\/|shorts\\/|watch\\?v=|&v=)([^#&?]*).*/;\n        const match = url.match(regExp);\n        return match && match[2].length === 11 ? match[2] : null;\n    };\n    // Enhanced load video function with strict constraints and interaction control\n    const load_video_from_url = (video_url)=>{\n        if (!video_url || !videoContainerRef.current) {\n            console.warn(\"No video URL provided or container not found\");\n            return;\n        }\n        // Clear any existing content\n        const container = videoContainerRef.current;\n        container.innerHTML = \"\";\n        // Create aesthetic loading overlay\n        const loadingOverlay = document.createElement(\"div\");\n        loadingOverlay.className = \"absolute inset-0 flex items-center justify-center bg-gradient-to-br from-purple-900/50 to-pink-900/50 backdrop-blur-sm z-10 transition-opacity duration-500\";\n        loadingOverlay.innerHTML = '\\n      <div class=\"text-center\">\\n        <div class=\"w-16 h-16 border-4 border-white/20 border-t-white rounded-full animate-spin mx-auto mb-4\"></div>\\n        <p class=\"text-white text-lg font-medium\">Loading video...</p>\\n        <div class=\"mt-2 flex justify-center space-x-1\">\\n          <div class=\"w-2 h-2 bg-white/60 rounded-full animate-pulse\"></div>\\n          <div class=\"w-2 h-2 bg-white/60 rounded-full animate-pulse\" style=\"animation-delay: 0.2s\"></div>\\n          <div class=\"w-2 h-2 bg-white/60 rounded-full animate-pulse\" style=\"animation-delay: 0.4s\"></div>\\n        </div>\\n      </div>\\n    ';\n        container.appendChild(loadingOverlay);\n        // Calculate responsive width constraints\n        const getResponsiveWidth = ()=>{\n            return \"20%\" // Exactly 20% of screen width\n            ;\n        };\n        // Extract video ID and determine video type\n        const videoId = getYouTubeVideoId(video_url);\n        if (videoId) {\n            // Create YouTube iframe with strict constraints\n            const videoWrapper = document.createElement(\"div\");\n            videoWrapper.className = \"relative w-full h-full flex items-center justify-center\";\n            // Create constrained container with fixed 20% width\n            const constrainedContainer = document.createElement(\"div\");\n            constrainedContainer.style.width = \"20%\";\n            constrainedContainer.style.height = \"100%\";\n            constrainedContainer.style.maxHeight = \"calc(100vh - 200px)\";\n            constrainedContainer.className = \"relative mx-auto\" // Center it horizontally\n            ;\n            // Create glassmorphism frame around video\n            const videoFrame = document.createElement(\"div\");\n            videoFrame.className = \"relative w-full h-full bg-white/5 backdrop-blur-xl rounded-2xl border border-white/20 shadow-2xl overflow-hidden\";\n            // Add decorative gradient border\n            const gradientBorder = document.createElement(\"div\");\n            gradientBorder.className = \"absolute inset-0 bg-gradient-to-r from-purple-500/30 via-pink-500/30 to-blue-500/30 rounded-2xl\";\n            // Inner container for video with padding\n            const innerContainer = document.createElement(\"div\");\n            innerContainer.className = \"relative w-full h-full m-1 bg-black rounded-xl overflow-hidden\";\n            // Create iframe with interaction blocking\n            const iframe = document.createElement(\"iframe\");\n            iframe.className = \"absolute inset-0 w-full h-full\";\n            iframe.src = \"https://www.youtube.com/embed/\".concat(videoId, \"?autoplay=1&controls=0&disablekb=1&fs=0&modestbranding=1&rel=0&showinfo=0&iv_load_policy=3&enablejsapi=1&playsinline=1&mute=0\");\n            iframe.title = \"Game Video Player\";\n            iframe.frameBorder = \"0\";\n            iframe.allow = \"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\";\n            iframe.allowFullscreen = false // Disable fullscreen\n            ;\n            iframe.style.pointerEvents = \"none\" // Disable all interactions\n            ;\n            // Create invisible overlay to block all user interactions\n            const interactionBlocker = document.createElement(\"div\");\n            interactionBlocker.className = \"absolute inset-0 z-30 cursor-not-allowed\";\n            interactionBlocker.style.backgroundColor = \"transparent\";\n            interactionBlocker.title = \"Video controls are disabled during gameplay\";\n            // Add floating video info overlay\n            const videoInfo = document.createElement(\"div\");\n            videoInfo.className = \"absolute top-4 left-4 right-4 bg-black/50 backdrop-blur-md rounded-lg p-3 text-white text-sm font-medium opacity-0 hover:opacity-100 transition-opacity duration-300 z-20\";\n            videoInfo.innerHTML = '\\n        <div class=\"flex items-center justify-between\">\\n          <span class=\"flex items-center gap-2\">\\n            <div class=\"w-2 h-2 bg-red-500 rounded-full animate-pulse\"></div>\\n            Now Playing\\n          </span>\\n          <span class=\"text-xs text-white/70\">Lobby: '.concat(lobbyCode, '</span>\\n        </div>\\n        <div class=\"mt-1 text-xs text-white/50\">\\n          \\uD83D\\uDD12 Controls disabled for fair gameplay\\n        </div>\\n      ');\n            // Add aesthetic corner decorations\n            const cornerDecorations = document.createElement(\"div\");\n            cornerDecorations.className = \"absolute inset-0 pointer-events-none z-10\";\n            cornerDecorations.innerHTML = '\\n        <div class=\"absolute top-2 left-2 w-4 h-4 border-l-2 border-t-2 border-white/30 rounded-tl-lg\"></div>\\n        <div class=\"absolute top-2 right-2 w-4 h-4 border-r-2 border-t-2 border-white/30 rounded-tr-lg\"></div>\\n        <div class=\"absolute bottom-2 left-2 w-4 h-4 border-l-2 border-b-2 border-white/30 rounded-bl-lg\"></div>\\n        <div class=\"absolute bottom-2 right-2 w-4 h-4 border-r-2 border-b-2 border-white/30 rounded-br-lg\"></div>\\n      ';\n            // Add responsive resize handler\n            // const handleResize = () => {\n            //   constrainedContainer.style.width = getResponsiveWidth()\n            // }\n            // window.addEventListener(\"resize\", handleResize)\n            // Handle iframe load event\n            iframe.onload = ()=>{\n                // Fade out loading overlay\n                loadingOverlay.style.opacity = \"0\";\n                setTimeout(()=>{\n                    if (loadingOverlay.parentNode) {\n                        loadingOverlay.parentNode.removeChild(loadingOverlay);\n                    }\n                }, 500);\n                // Add entrance animation to video\n                videoFrame.style.transform = \"scale(0.9) translateY(20px)\";\n                videoFrame.style.opacity = \"0\";\n                setTimeout(()=>{\n                    videoFrame.style.transition = \"all 0.6s cubic-bezier(0.4, 0, 0.2, 1)\";\n                    videoFrame.style.transform = \"scale(1) translateY(0)\";\n                    videoFrame.style.opacity = \"1\";\n                }, 100);\n                // Additional interaction blocking via JavaScript\n                setTimeout(()=>{\n                    try {\n                        var // Block keyboard events on the iframe\n                        _iframe_contentWindow_document, _iframe_contentWindow, // Block context menu\n                        _iframe_contentWindow_document1, _iframe_contentWindow1;\n                        (_iframe_contentWindow = iframe.contentWindow) === null || _iframe_contentWindow === void 0 ? void 0 : (_iframe_contentWindow_document = _iframe_contentWindow.document) === null || _iframe_contentWindow_document === void 0 ? void 0 : _iframe_contentWindow_document.addEventListener(\"keydown\", (e)=>{\n                            e.preventDefault();\n                            e.stopPropagation();\n                            return false;\n                        });\n                        (_iframe_contentWindow1 = iframe.contentWindow) === null || _iframe_contentWindow1 === void 0 ? void 0 : (_iframe_contentWindow_document1 = _iframe_contentWindow1.document) === null || _iframe_contentWindow_document1 === void 0 ? void 0 : _iframe_contentWindow_document1.addEventListener(\"contextmenu\", (e)=>{\n                            e.preventDefault();\n                            return false;\n                        });\n                    } catch (error) {\n                        // Cross-origin restrictions prevent direct access, but the overlay will handle interactions\n                        console.log(\"Cross-origin restrictions apply, using overlay for interaction blocking\");\n                    }\n                }, 1000);\n                // Show success toast\n                if (toast) {\n                    toast({\n                        title: \"🎬 Video Loaded Successfully\",\n                        description: \"Video is now playing in controlled mode\"\n                    });\n                }\n            };\n            iframe.onerror = ()=>{\n                handleVideoError(\"Failed to load YouTube video\");\n            };\n            // Assemble the video structure\n            innerContainer.appendChild(iframe);\n            innerContainer.appendChild(interactionBlocker) // Add interaction blocker on top\n            ;\n            videoFrame.appendChild(gradientBorder);\n            videoFrame.appendChild(innerContainer);\n            videoFrame.appendChild(videoInfo);\n            videoFrame.appendChild(cornerDecorations);\n            constrainedContainer.appendChild(videoFrame);\n            videoWrapper.appendChild(constrainedContainer);\n            container.appendChild(videoWrapper);\n            // Cleanup function\n            const cleanup = ()=>{\n            // window.removeEventListener(\"resize\", handleResize)\n            };\n            // Store cleanup function for later use\n            container._cleanup = cleanup;\n        } else {\n            // Handle direct video URLs with strict control\n            const videoWrapper = document.createElement(\"div\");\n            videoWrapper.className = \"relative w-full h-full flex items-center justify-center\";\n            const constrainedContainer = document.createElement(\"div\");\n            constrainedContainer.style.width = \"20%\";\n            constrainedContainer.style.height = \"100%\";\n            constrainedContainer.style.maxHeight = \"calc(100vh - 200px)\";\n            constrainedContainer.className = \"relative mx-auto\" // Center it horizontally\n            ;\n            const videoFrame = document.createElement(\"div\");\n            videoFrame.className = \"relative w-full h-full bg-white/5 backdrop-blur-xl rounded-2xl border border-white/20 shadow-2xl overflow-hidden\";\n            const video = document.createElement(\"video\");\n            video.className = \"w-full h-full object-cover rounded-xl\";\n            video.src = video_url;\n            video.autoplay = true;\n            video.muted = true;\n            video.playsInline = true;\n            video.loop = false;\n            video.preload = \"auto\";\n            // Disable all video controls and interactions\n            video.controls = false;\n            video.disablePictureInPicture = true;\n            video.controlsList = \"nodownload nofullscreen noremoteplayback\";\n            video.style.pointerEvents = \"none\";\n            // Create interaction blocker overlay\n            const interactionBlocker = document.createElement(\"div\");\n            interactionBlocker.className = \"absolute inset-0 z-30 cursor-not-allowed\";\n            interactionBlocker.style.backgroundColor = \"transparent\";\n            interactionBlocker.title = \"Video controls are disabled during gameplay\";\n            // Prevent all video interactions\n            const preventInteraction = (e)=>{\n                e.preventDefault();\n                e.stopPropagation();\n                return false;\n            };\n            video.addEventListener(\"click\", preventInteraction);\n            video.addEventListener(\"dblclick\", preventInteraction);\n            video.addEventListener(\"contextmenu\", preventInteraction);\n            video.addEventListener(\"keydown\", preventInteraction);\n            video.addEventListener(\"keyup\", preventInteraction);\n            video.addEventListener(\"keypress\", preventInteraction);\n            // Prevent seeking and pausing\n            video.addEventListener(\"seeking\", ()=>{\n                video.currentTime = video.currentTime // Reset to current time\n                ;\n            });\n            video.addEventListener(\"pause\", ()=>{\n                video.play() // Force play if paused\n                ;\n            });\n            // const handleResize = () => {\n            //   constrainedContainer.style.width = getResponsiveWidth()\n            // }\n            // window.addEventListener(\"resize\", handleResize)\n            video.onloadeddata = ()=>{\n                loadingOverlay.style.opacity = \"0\";\n                setTimeout(()=>{\n                    if (loadingOverlay.parentNode) {\n                        loadingOverlay.parentNode.removeChild(loadingOverlay);\n                    }\n                }, 500);\n                if (toast) {\n                    toast({\n                        title: \"🎬 Video Loaded Successfully\",\n                        description: \"Video is now playing in controlled mode\"\n                    });\n                }\n            };\n            video.onerror = ()=>{\n                handleVideoError(\"Failed to load video file\");\n            };\n            videoFrame.appendChild(video);\n            videoFrame.appendChild(interactionBlocker);\n            constrainedContainer.appendChild(videoFrame);\n            videoWrapper.appendChild(constrainedContainer);\n            container.appendChild(videoWrapper);\n            // Cleanup function\n            const cleanup = ()=>{\n                // window.removeEventListener(\"resize\", handleResize)\n                video.removeEventListener(\"click\", preventInteraction);\n                video.removeEventListener(\"dblclick\", preventInteraction);\n                video.removeEventListener(\"contextmenu\", preventInteraction);\n                video.removeEventListener(\"keydown\", preventInteraction);\n                video.removeEventListener(\"keyup\", preventInteraction);\n                video.removeEventListener(\"keypress\", preventInteraction);\n            };\n            container._cleanup = cleanup;\n        }\n        // Helper function to handle video errors\n        function handleVideoError(errorMessage) {\n            loadingOverlay.innerHTML = '\\n        <div class=\"text-center\">\\n          <div class=\"w-16 h-16 bg-red-500/20 rounded-full flex items-center justify-center mx-auto mb-4\">\\n            <svg class=\"w-8 h-8 text-red-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"></path>\\n            </svg>\\n          </div>\\n          <p class=\"text-red-400 text-lg font-medium mb-2\">Video Load Error</p>\\n          <p class=\"text-white/70 text-sm\">'.concat(errorMessage, \"</p>\\n          <button onclick=\\\"this.parentElement.parentElement.parentElement.innerHTML='<div class=\\\\'absolute inset-0 flex items-center justify-center\\\\'>\\n            <div class=\\\\'text-center\\\\'>\\n              <svg class=\\\\'w-12 h-12 mx-auto mb-4 text-gray-500\\\\' fill=\\\\'none\\\\' stroke=\\\\'currentColor\\\\' viewBox=\\\\'0 0 24 24\\\\'>\\n                <path strokeLinecap=\\\\'round\\\\' strokeLinejoin=\\\\'round\\\\' strokeWidth=\\\\'2\\\\' d=\\\\'M14.828 14.828a4 4 0 01-5.656 0M9 10h1m4 0h1m-6 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\\\\' />\\n              </svg>\\n              <p class=\\\\'text-gray-500\\\\'>Waiting for video...</p>\\n            </div>\\n          </div>'\\\" class=\\\"mt-4 px-4 py-2 bg-white/10 hover:bg-white/20 rounded-lg text-white text-sm transition-colors duration-200\\\">\\n            Dismiss\\n          </button>\\n        </div>\\n      \");\n            if (toast) {\n                toast({\n                    title: \"Video Error\",\n                    description: errorMessage,\n                    variant: \"destructive\"\n                });\n            }\n        }\n    };\n    // Cleanup function for component unmount\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"GamePage.useEffect\": ()=>{\n            return ({\n                \"GamePage.useEffect\": ()=>{\n                    var _videoContainerRef_current;\n                    if ((_videoContainerRef_current = videoContainerRef.current) === null || _videoContainerRef_current === void 0 ? void 0 : _videoContainerRef_current._cleanup) {\n                        videoContainerRef.current._cleanup();\n                    }\n                }\n            })[\"GamePage.useEffect\"];\n        }\n    }[\"GamePage.useEffect\"], []);\n    const videoId = getYouTubeVideoId(videoUrl);\n    const handleLeaveGame = ()=>{\n        disconnect();\n        router.push(\"/lobby\");\n    };\n    if (connectionError) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"min-h-screen flex items-center justify-center bg-gradient-to-br from-purple-600 via-pink-600 to-blue-600 p-4\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"bg-white/95 backdrop-blur-xl rounded-3xl p-8 text-center\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                        className: \"text-2xl font-bold text-red-600 mb-4\",\n                        children: \"Connection Error\"\n                    }, void 0, false, {\n                        fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                        lineNumber: 517,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"text-gray-700 mb-4\",\n                        children: connectionError\n                    }, void 0, false, {\n                        fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                        lineNumber: 518,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_3__.Button, {\n                        onClick: ()=>router.push(\"/lobby\"),\n                        className: \"bg-purple-600 hover:bg-purple-700\",\n                        children: \"Return to Lobby\"\n                    }, void 0, false, {\n                        fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                        lineNumber: 519,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                lineNumber: 516,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n            lineNumber: 515,\n            columnNumber: 7\n        }, this);\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"min-h-screen flex flex-col bg-gradient-to-br from-purple-600 via-pink-600 to-blue-600\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"text-center py-4\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                        className: \"text-white text-4xl font-bold tracking-wide\",\n                        children: [\n                            \"KRACKLE\",\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: \"text-yellow-300\",\n                                children: \".CO\"\n                            }, void 0, false, {\n                                fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                lineNumber: 532,\n                                columnNumber: 18\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                        lineNumber: 531,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                        className: \"text-white text-xl mt-1\",\n                        children: [\n                            \"Game: \",\n                            lobbyCode\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                        lineNumber: 534,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                lineNumber: 530,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex flex-col md:flex-row flex-1 p-4 gap-4\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"w-full md:w-64 bg-white/10 backdrop-blur-md rounded-xl p-4\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                className: \"text-white text-xl font-bold mb-4 flex items-center gap-2\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Crown_Loader2_LogOut_Play_RefreshCw_Users_lucide_react__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n                                        className: \"w-5 h-5\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                        lineNumber: 541,\n                                        columnNumber: 13\n                                    }, this),\n                                    \" Players\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                lineNumber: 540,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"space-y-2 max-h-[60vh] overflow-y-auto\",\n                                children: players.length > 0 ? players.map((player, index)=>{\n                                    const isVerified = verifiedPlayers.includes(player);\n                                    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"p-3 rounded-lg \".concat(isVerified ? \"bg-gradient-to-r from-green-200/80 to-green-100/80 backdrop-blur-md\" : \"bg-gray-200/80 backdrop-blur-md\", \" flex items-center\"),\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"h-8 w-8 rounded-full \".concat(isVerified ? \"bg-gradient-to-r from-green-500 to-emerald-500\" : \"bg-gray-500\", \" text-white flex items-center justify-center mr-3\"),\n                                                children: player.charAt(0).toUpperCase()\n                                            }, void 0, false, {\n                                                fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                                lineNumber: 557,\n                                                columnNumber: 21\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"font-medium\",\n                                                children: [\n                                                    player,\n                                                    \" \",\n                                                    player === username && \"(You)\"\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                                lineNumber: 564,\n                                                columnNumber: 21\n                                            }, this),\n                                            index === 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Crown_Loader2_LogOut_Play_RefreshCw_Users_lucide_react__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n                                                className: \"w-4 h-4 text-yellow-500 ml-2\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                                lineNumber: 567,\n                                                columnNumber: 37\n                                            }, this)\n                                        ]\n                                    }, index, true, {\n                                        fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                        lineNumber: 549,\n                                        columnNumber: 19\n                                    }, this);\n                                }) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"text-center py-4 text-white\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Crown_Loader2_LogOut_Play_RefreshCw_Users_lucide_react__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n                                            className: \"w-6 h-6 animate-spin mx-auto mb-2\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                            lineNumber: 573,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                            children: \"Loading players...\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                            lineNumber: 574,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                    lineNumber: 572,\n                                    columnNumber: 15\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                lineNumber: 543,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                        lineNumber: 539,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex-1 flex flex-col\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"bg-white rounded-xl p-4 flex-1 flex flex-col\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex justify-between items-center mb-4\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                            className: \"text-2xl font-bold\",\n                                            children: \"Game Video\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                            lineNumber: 584,\n                                            columnNumber: 15\n                                        }, this),\n                                        role === \"lobby-admin\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_3__.Button, {\n                                            onClick: requestNewVideo,\n                                            disabled: isLoadingVideo,\n                                            className: \"bg-purple-600 hover:bg-purple-700 text-white\",\n                                            children: isLoadingVideo ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Crown_Loader2_LogOut_Play_RefreshCw_Users_lucide_react__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n                                                        className: \"w-4 h-4 mr-2 animate-spin\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                                        lineNumber: 595,\n                                                        columnNumber: 23\n                                                    }, this),\n                                                    \"Loading...\"\n                                                ]\n                                            }, void 0, true) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Crown_Loader2_LogOut_Play_RefreshCw_Users_lucide_react__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n                                                        className: \"w-4 h-4 mr-2\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                                        lineNumber: 600,\n                                                        columnNumber: 23\n                                                    }, this),\n                                                    \"New Video\"\n                                                ]\n                                            }, void 0, true)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                            lineNumber: 588,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                    lineNumber: 583,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex-1 relative w-full rounded-lg overflow-hidden bg-black\",\n                                    ref: videoContainerRef,\n                                    children: !video_url && !videoUrl && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"absolute inset-0 flex items-center justify-center\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"text-center\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Crown_Loader2_LogOut_Play_RefreshCw_Users_lucide_react__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\n                                                    className: \"w-12 h-12 mx-auto mb-4 text-gray-500\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                                    lineNumber: 612,\n                                                    columnNumber: 21\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                    className: \"text-gray-500\",\n                                                    children: role === \"lobby-admin\" ? \"Click 'New Video' to start the game\" : \"Waiting for the host to start a video...\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                                    lineNumber: 613,\n                                                    columnNumber: 21\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                            lineNumber: 611,\n                                            columnNumber: 19\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                        lineNumber: 610,\n                                        columnNumber: 17\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                    lineNumber: 608,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"mt-4 flex justify-end\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_3__.Button, {\n                                        className: \"bg-red-400 hover:bg-red-500 text-white rounded-full px-6 py-2 text-lg font-bold\",\n                                        onClick: handleLeaveGame,\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Crown_Loader2_LogOut_Play_RefreshCw_Users_lucide_react__WEBPACK_IMPORTED_MODULE_11__[\"default\"], {\n                                                className: \"w-5 h-5 mr-2\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                                lineNumber: 628,\n                                                columnNumber: 17\n                                            }, this),\n                                            \"LEAVE GAME\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                        lineNumber: 624,\n                                        columnNumber: 15\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                    lineNumber: 623,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                            lineNumber: 582,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                        lineNumber: 581,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                lineNumber: 537,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"py-4 text-center text-white text-xs\",\n                children: [\n                    \"MADE WITH LOVE BY HAYSON, NELSON, AND BOYA \",\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                        className: \"ml-1\",\n                        children: \"❤️\"\n                    }, void 0, false, {\n                        fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                        lineNumber: 637,\n                        columnNumber: 52\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                lineNumber: 636,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n        lineNumber: 528,\n        columnNumber: 5\n    }, this);\n}\n_s(GamePage, \"oxBQN/56YfC5UYpg05sEim9W/CQ=\", false, function() {\n    return [\n        next_navigation__WEBPACK_IMPORTED_MODULE_2__.useRouter,\n        next_navigation__WEBPACK_IMPORTED_MODULE_2__.useSearchParams,\n        _hooks_use_toast__WEBPACK_IMPORTED_MODULE_4__.useToast,\n        _hooks_use_websocket__WEBPACK_IMPORTED_MODULE_5__.useWebSocket\n    ];\n});\n_c = GamePage;\nvar _c;\n$RefreshReg$(_c, \"GamePage\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QVU7a0RBQ2IsNEVBQUNzRDs0Q0FBSXRELFdBQVU7OzhEQUNiLDhEQUFDM0Usc0hBQUlBO29EQUFDMkUsV0FBVTs7Ozs7OzhEQUNoQiw4REFBQ3dEO29EQUFFeEQsV0FBVTs4REFDVmpFLFNBQVMsZ0JBQ04sd0NBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OENBT2QsOERBQUN1SDtvQ0FBSXRELFdBQVU7OENBQ2IsNEVBQUNsRix5REFBTUE7d0NBQ0xrRixXQUFVO3dDQUNWeUQsU0FBU0o7OzBEQUVULDhEQUFDbEksc0hBQU1BO2dEQUFDNkUsV0FBVTs7Ozs7OzRDQUFpQjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7MEJBUTdDLDhEQUFDc0Q7Z0JBQUl0RCxXQUFVOztvQkFBc0M7a0NBQ1IsOERBQUMyRDt3QkFBSzNELFdBQVU7a0NBQU87Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUkxRTtHQXJuQndCeEU7O1FBVVBaLHNEQUFTQTtRQUNIQyw0REFBZUE7UUFDbEJFLHNEQUFRQTtRQUc0REMsOERBQVlBOzs7S0FmNUVRIiwic291cmNlcyI6WyIvVXNlcnMvaGF5c29uY2hldW5nL3Byb2dyYW1zL3B5dGhvblByb2plY3Qva3JhY2tsZTIvZnJvbnRlbmR1cGRhdGVkL2FwcC9nYW1lL3BhZ2UuanN4Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGNsaWVudFwiXG5cbmltcG9ydCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QsIHVzZVJlZiB9IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgeyB1c2VSb3V0ZXIsIHVzZVNlYXJjaFBhcmFtcyB9IGZyb20gXCJuZXh0L25hdmlnYXRpb25cIlxuaW1wb3J0IHsgQnV0dG9uIH0gZnJvbSBcIkAvY29tcG9uZW50cy91aS9idXR0b25cIlxuaW1wb3J0IHsgdXNlVG9hc3QgfSBmcm9tIFwiQC9ob29rcy91c2UtdG9hc3RcIlxuaW1wb3J0IHsgdXNlV2ViU29ja2V0IH0gZnJvbSBcIkAvaG9va3MvdXNlLXdlYnNvY2tldFwiXG5pbXBvcnQgeyBMb2FkZXIyLCBSZWZyZXNoQ3csIExvZ091dCwgVXNlcnMsIFBsYXksIENyb3duIH0gZnJvbSBcImx1Y2lkZS1yZWFjdFwiXG5cbmNvbnN0IEFQSV9CQVNFX1VSTCA9IFwiaHR0cHM6Ly9jZDZmLTIwMi0yOC03LTQubmdyb2stZnJlZS5hcHBcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBHYW1lUGFnZSgpIHtcbiAgY29uc3QgW3VzZXJuYW1lLCBzZXRVc2VybmFtZV0gPSB1c2VTdGF0ZShcIlwiKVxuICBjb25zdCBbbG9iYnlDb2RlLCBzZXRMb2JieUNvZGVdID0gdXNlU3RhdGUoXCJcIilcbiAgY29uc3QgW3VzZXJUb2tlbiwgc2V0VXNlclRva2VuXSA9IHVzZVN0YXRlKFwiXCIpXG4gIGNvbnN0IFtyb2xlLCBzZXRSb2xlXSA9IHVzZVN0YXRlKFwicGxheWVyXCIpXG4gIGNvbnN0IFtpc0xvYWRpbmdWaWRlbywgc2V0SXNMb2FkaW5nVmlkZW9dID0gdXNlU3RhdGUoZmFsc2UpXG4gIGNvbnN0IFt2ZXJpZmllZFBsYXllcnMsIHNldFZlcmlmaWVkUGxheWVyc10gPSB1c2VTdGF0ZShbXSlcbiAgY29uc3QgW3ZpZGVvVXJsLCBzZXRWaWRlb1VybF0gPSB1c2VTdGF0ZShcIlwiKVxuICBjb25zdCB2aWRlb0NvbnRhaW5lclJlZiA9IHVzZVJlZihudWxsKVxuXG4gIGNvbnN0IHJvdXRlciA9IHVzZVJvdXRlcigpXG4gIGNvbnN0IHNlYXJjaFBhcmFtcyA9IHVzZVNlYXJjaFBhcmFtcygpXG4gIGNvbnN0IHsgdG9hc3QgfSA9IHVzZVRvYXN0KClcblxuICAvLyBDb25uZWN0IHRvIFdlYlNvY2tldFxuICBjb25zdCB7IHZpZGVvX3VybCwgaXNDb25uZWN0ZWQsIHBsYXllcnMsIGNvbm5lY3Rpb25FcnJvciwgc2VuZE1lc3NhZ2UsIGRpc2Nvbm5lY3QgfSA9IHVzZVdlYlNvY2tldChcbiAgICBsb2JieUNvZGUsXG4gICAgdXNlcm5hbWUsXG4gICAgdXNlclRva2VuLFxuICAgIHJvbGUsXG4gIClcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIC8vIEdldCBkYXRhIGZyb20gbG9jYWxTdG9yYWdlXG5cbiAgICBjb25zdCBzdG9yZWRVc2VybmFtZSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwia3JhY2tsZV91c2VybmFtZVwiKVxuICAgIGNvbnN0IHN0b3JlZExvYmJ5ID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJrcmFja2xlX2xvYmJ5XCIpXG4gICAgY29uc3Qgc3RvcmVkVG9rZW4gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcImtyYWNrbGVfdXNlcl90b2tlblwiKVxuICAgIGNvbnN0IHN0b3JlZEFkbWluVG9rZW4gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcImtyYWNrbGVfYWRtaW5fdG9rZW5cIilcbiAgICBjb25zdCBzdG9yZWRSb2xlID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJrcmFja2xlX3JvbGVcIilcbiAgICBjb25zdCB1cmxMb2JieUNvZGUgPSBzZWFyY2hQYXJhbXMuZ2V0KFwibG9iYnlfY29kZVwiKVxuXG4gICAgaWYgKCFzdG9yZWRVc2VybmFtZSB8fCAoIXN0b3JlZExvYmJ5ICYmICF1cmxMb2JieUNvZGUpKSB7XG4gICAgICB0b2FzdCh7XG4gICAgICAgIHRpdGxlOiBcIlNlc3Npb24gZXhwaXJlZFwiLFxuICAgICAgICBkZXNjcmlwdGlvbjogXCJQbGVhc2Ugam9pbiBhIGxvYmJ5IGFnYWluXCIsXG4gICAgICAgIHZhcmlhbnQ6IFwiZGVzdHJ1Y3RpdmVcIixcbiAgICAgIH0pXG4gICAgICByb3V0ZXIucHVzaChcIi9cIilcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIHNldFVzZXJuYW1lKHN0b3JlZFVzZXJuYW1lKVxuICAgIHNldExvYmJ5Q29kZShzdG9yZWRMb2JieSB8fCB1cmxMb2JieUNvZGUpXG5cbiAgICAvLyBNYXAgXCJhZG1pblwiIHRvIFwibG9iYnktYWRtaW5cIiBmb3IgV2ViU29ja2V0IGNvbm5lY3Rpb25cbiAgICBjb25zdCB3ZWJzb2NrZXRSb2xlID0gc3RvcmVkUm9sZSA9PT0gXCJhZG1pblwiID8gXCJsb2JieS1hZG1pblwiIDogc3RvcmVkUm9sZSB8fCBcInBsYXllclwiXG4gICAgc2V0Um9sZSh3ZWJzb2NrZXRSb2xlKVxuXG4gICAgLy8gRGV0ZXJtaW5lIHRva2VuIGJhc2VkIG9uIHJvbGVcbiAgICBpZiAoc3RvcmVkUm9sZSA9PT0gXCJhZG1pblwiKSB7XG4gICAgICBzZXRVc2VyVG9rZW4oc3RvcmVkQWRtaW5Ub2tlbilcbiAgICB9IGVsc2Uge1xuICAgICAgc2V0VXNlclRva2VuKHN0b3JlZFRva2VuKVxuICAgIH1cblxuICAgIC8vIFJlcXVlc3QgYSB2aWRlbyB3aGVuIHRoZSBjb21wb25lbnQgbW91bnRzIChpZiBhZG1pbilcbiAgICBpZiAoc3RvcmVkUm9sZSA9PT0gXCJhZG1pblwiKSB7XG4gICAgICByZXF1ZXN0TmV3VmlkZW8oKVxuICAgIH1cbiAgfSwgW3JvdXRlciwgc2VhcmNoUGFyYW1zLCB0b2FzdF0pXG5cbiAgLy8gSGFuZGxlIFdlYlNvY2tldCBtZXNzYWdlc1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIC8vIEN1c3RvbSBtZXNzYWdlIGhhbmRsZXIgZm9yIGdhbWUtc3BlY2lmaWMgZXZlbnRzXG4gICAgY29uc3QgaGFuZGxlR2FtZU1lc3NhZ2UgPSAoZXZlbnQpID0+IHtcbiAgICAgIGlmIChldmVudC5kYXRhKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgZGF0YSA9IEpTT04ucGFyc2UoZXZlbnQuZGF0YSlcblxuICAgICAgICAgIGlmIChkYXRhLnR5cGUgPT09IFwibG9iYnkubWVzc2FnZVwiICYmIGRhdGEuZXZlbnQgPT09IFwiZ2FtZV9zdGFydGVkXCIpIHtcbiAgICAgICAgICAgIC8vIEhhbmRsZSBnYW1lIHN0YXJ0ZWQgZXZlbnRcbiAgICAgICAgICAgIGlmIChkYXRhLnZlcmlmaWVkX3BsYXllcnMpIHtcbiAgICAgICAgICAgICAgc2V0VmVyaWZpZWRQbGF5ZXJzKGRhdGEudmVyaWZpZWRfcGxheWVycylcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdG9hc3Qoe1xuICAgICAgICAgICAgICB0aXRsZTogXCJHYW1lIFN0YXJ0ZWQhXCIsXG4gICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBkYXRhLm1lc3NhZ2UsXG4gICAgICAgICAgICB9KVxuXG4gICAgICAgICAgICAvLyBJZiBhZG1pbiwgcmVxdWVzdCBhIHZpZGVvXG4gICAgICAgICAgICBpZiAocm9sZSA9PT0gXCJsb2JieS1hZG1pblwiKSB7XG4gICAgICAgICAgICAgIHJlcXVlc3ROZXdWaWRlbygpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBwYXJzaW5nIFdlYlNvY2tldCBtZXNzYWdlOlwiLCBlcnJvcilcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIEFkZCBldmVudCBsaXN0ZW5lciBmb3IgV2ViU29ja2V0IG1lc3NhZ2VzXG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLCBoYW5kbGVHYW1lTWVzc2FnZSlcbiAgICB9XG5cbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsIGhhbmRsZUdhbWVNZXNzYWdlKVxuICAgICAgfVxuICAgIH1cbiAgfSwgW3JvbGUsIHRvYXN0XSlcblxuICAvLyAgSGFuZGxlIHZpZGVvIFVSTCB1cGRhdGVzIGZyb20gV2ViU29ja2V0XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKHZpZGVvX3VybCkge1xuICAgICAgbG9hZF92aWRlb19mcm9tX3VybCh2aWRlb191cmwpXG4gICAgfVxuICB9LCBbdmlkZW9fdXJsXSlcblxuICAvLyBSZXF1ZXN0IGEgbmV3IHZpZGVvIGZyb20gdGhlIHNlcnZlclxuICBjb25zdCByZXF1ZXN0TmV3VmlkZW8gPSBhc3luYyAoKSA9PiB7XG4gICAgc2V0SXNMb2FkaW5nVmlkZW8odHJ1ZSlcblxuICAgIHRyeSB7XG4gICAgICBpZiAoaXNDb25uZWN0ZWQgJiYgc2VuZE1lc3NhZ2UpIHtcbiAgICAgICAgc2VuZE1lc3NhZ2UoXCJuZXdfZ2FtZV92aWRlb1wiKVxuICAgICAgICB0b2FzdCh7XG4gICAgICAgICAgdGl0bGU6IFwi8J+OriBSZXF1ZXN0aW5nIE5ldyBWaWRlb1wiLFxuICAgICAgICAgIGRlc2NyaXB0aW9uOiBcIkZldGNoaW5nIGFuIGV4Y2l0aW5nIG5ldyB2aWRlbyBmb3IgdGhlIGdhbWUuLi5cIixcbiAgICAgICAgfSlcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIEZhbGxiYWNrIHRvIFJFU1QgQVBJIGlmIFdlYlNvY2tldCBpcyBub3QgY29ubmVjdGVkXG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7QVBJX0JBU0VfVVJMfS9nYW1lL25ld192aWRlb2AsIHtcbiAgICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXG4gICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgICAgICAgICBcIlgtTG9iYnktQ29kZVwiOiBsb2JieUNvZGUsXG4gICAgICAgICAgICBcIlgtVXNlci1Ub2tlblwiOiB1c2VyVG9rZW4sXG4gICAgICAgICAgICBcIm5ncm9rLXNraXAtYnJvd3Nlci13YXJuaW5nXCI6IFwidHJ1ZVwiLFxuICAgICAgICAgIH0sXG4gICAgICAgIH0pXG5cbiAgICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKVxuICAgICAgICAgIGlmIChkYXRhLnVybCkge1xuICAgICAgICAgICAgbG9hZF92aWRlb19mcm9tX3VybChkYXRhLnVybClcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgdG9hc3Qoe1xuICAgICAgICB0aXRsZTogXCJDb25uZWN0aW9uIGVycm9yXCIsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBcIkNvdWxkIG5vdCBjb25uZWN0IHRvIHRoZSBnYW1lIHNlcnZlci5cIixcbiAgICAgICAgdmFyaWFudDogXCJkZXN0cnVjdGl2ZVwiLFxuICAgICAgfSlcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBmZXRjaGluZyB2aWRlbzpcIiwgZXJyb3IpXG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldElzTG9hZGluZ1ZpZGVvKGZhbHNlKVxuICAgIH1cbiAgfVxuXG4gIC8vIEV4dHJhY3QgWW91VHViZSB2aWRlbyBJRCBmcm9tIFVSTFxuICBjb25zdCBnZXRZb3VUdWJlVmlkZW9JZCA9ICh1cmwpID0+IHtcbiAgICBpZiAoIXVybCkgcmV0dXJuIG51bGxcblxuICAgIC8vIEhhbmRsZSBkaWZmZXJlbnQgWW91VHViZSBVUkwgZm9ybWF0c1xuICAgIGNvbnN0IHJlZ0V4cCA9IC9eLiooeW91dHUuYmVcXC98dlxcL3x1XFwvXFx3XFwvfGVtYmVkXFwvfHNob3J0c1xcL3x3YXRjaFxcP3Y9fCZ2PSkoW14jJj9dKikuKi9cbiAgICBjb25zdCBtYXRjaCA9IHVybC5tYXRjaChyZWdFeHApXG5cbiAgICByZXR1cm4gbWF0Y2ggJiYgbWF0Y2hbMl0ubGVuZ3RoID09PSAxMSA/IG1hdGNoWzJdIDogbnVsbFxuICB9XG5cbiAgLy8gRW5oYW5jZWQgbG9hZCB2aWRlbyBmdW5jdGlvbiB3aXRoIHN0cmljdCBjb25zdHJhaW50cyBhbmQgaW50ZXJhY3Rpb24gY29udHJvbFxuICBjb25zdCBsb2FkX3ZpZGVvX2Zyb21fdXJsID0gKHZpZGVvX3VybCkgPT4ge1xuICAgIGlmICghdmlkZW9fdXJsIHx8ICF2aWRlb0NvbnRhaW5lclJlZi5jdXJyZW50KSB7XG4gICAgICBjb25zb2xlLndhcm4oXCJObyB2aWRlbyBVUkwgcHJvdmlkZWQgb3IgY29udGFpbmVyIG5vdCBmb3VuZFwiKVxuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgLy8gQ2xlYXIgYW55IGV4aXN0aW5nIGNvbnRlbnRcbiAgICBjb25zdCBjb250YWluZXIgPSB2aWRlb0NvbnRhaW5lclJlZi5jdXJyZW50XG4gICAgY29udGFpbmVyLmlubmVySFRNTCA9IFwiXCJcblxuICAgIC8vIENyZWF0ZSBhZXN0aGV0aWMgbG9hZGluZyBvdmVybGF5XG4gICAgY29uc3QgbG9hZGluZ092ZXJsYXkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpXG4gICAgbG9hZGluZ092ZXJsYXkuY2xhc3NOYW1lID1cbiAgICAgIFwiYWJzb2x1dGUgaW5zZXQtMCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBiZy1ncmFkaWVudC10by1iciBmcm9tLXB1cnBsZS05MDAvNTAgdG8tcGluay05MDAvNTAgYmFja2Ryb3AtYmx1ci1zbSB6LTEwIHRyYW5zaXRpb24tb3BhY2l0eSBkdXJhdGlvbi01MDBcIlxuICAgIGxvYWRpbmdPdmVybGF5LmlubmVySFRNTCA9IGBcbiAgICAgIDxkaXYgY2xhc3M9XCJ0ZXh0LWNlbnRlclwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwidy0xNiBoLTE2IGJvcmRlci00IGJvcmRlci13aGl0ZS8yMCBib3JkZXItdC13aGl0ZSByb3VuZGVkLWZ1bGwgYW5pbWF0ZS1zcGluIG14LWF1dG8gbWItNFwiPjwvZGl2PlxuICAgICAgICA8cCBjbGFzcz1cInRleHQtd2hpdGUgdGV4dC1sZyBmb250LW1lZGl1bVwiPkxvYWRpbmcgdmlkZW8uLi48L3A+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJtdC0yIGZsZXgganVzdGlmeS1jZW50ZXIgc3BhY2UteC0xXCI+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cInctMiBoLTIgYmctd2hpdGUvNjAgcm91bmRlZC1mdWxsIGFuaW1hdGUtcHVsc2VcIj48L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwidy0yIGgtMiBiZy13aGl0ZS82MCByb3VuZGVkLWZ1bGwgYW5pbWF0ZS1wdWxzZVwiIHN0eWxlPVwiYW5pbWF0aW9uLWRlbGF5OiAwLjJzXCI+PC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cInctMiBoLTIgYmctd2hpdGUvNjAgcm91bmRlZC1mdWxsIGFuaW1hdGUtcHVsc2VcIiBzdHlsZT1cImFuaW1hdGlvbi1kZWxheTogMC40c1wiPjwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIGBcbiAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQobG9hZGluZ092ZXJsYXkpXG5cbiAgICAvLyBDYWxjdWxhdGUgcmVzcG9uc2l2ZSB3aWR0aCBjb25zdHJhaW50c1xuICAgIGNvbnN0IGdldFJlc3BvbnNpdmVXaWR0aCA9ICgpID0+IHtcbiAgICAgIHJldHVybiBcIjIwJVwiIC8vIEV4YWN0bHkgMjAlIG9mIHNjcmVlbiB3aWR0aFxuICAgIH1cblxuICAgIC8vIEV4dHJhY3QgdmlkZW8gSUQgYW5kIGRldGVybWluZSB2aWRlbyB0eXBlXG4gICAgY29uc3QgdmlkZW9JZCA9IGdldFlvdVR1YmVWaWRlb0lkKHZpZGVvX3VybClcblxuICAgIGlmICh2aWRlb0lkKSB7XG4gICAgICAvLyBDcmVhdGUgWW91VHViZSBpZnJhbWUgd2l0aCBzdHJpY3QgY29uc3RyYWludHNcbiAgICAgIGNvbnN0IHZpZGVvV3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIilcbiAgICAgIHZpZGVvV3JhcHBlci5jbGFzc05hbWUgPSBcInJlbGF0aXZlIHctZnVsbCBoLWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIlxuXG4gICAgICAvLyBDcmVhdGUgY29uc3RyYWluZWQgY29udGFpbmVyIHdpdGggZml4ZWQgMjAlIHdpZHRoXG4gICAgICBjb25zdCBjb25zdHJhaW5lZENvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIilcbiAgICAgIGNvbnN0cmFpbmVkQ29udGFpbmVyLnN0eWxlLndpZHRoID0gXCIyMCVcIlxuICAgICAgY29uc3RyYWluZWRDb250YWluZXIuc3R5bGUuaGVpZ2h0ID0gXCIxMDAlXCJcbiAgICAgIGNvbnN0cmFpbmVkQ29udGFpbmVyLnN0eWxlLm1heEhlaWdodCA9IFwiY2FsYygxMDB2aCAtIDIwMHB4KVwiXG4gICAgICBjb25zdHJhaW5lZENvbnRhaW5lci5jbGFzc05hbWUgPSBcInJlbGF0aXZlIG14LWF1dG9cIiAvLyBDZW50ZXIgaXQgaG9yaXpvbnRhbGx5XG5cbiAgICAgIC8vIENyZWF0ZSBnbGFzc21vcnBoaXNtIGZyYW1lIGFyb3VuZCB2aWRlb1xuICAgICAgY29uc3QgdmlkZW9GcmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIilcbiAgICAgIHZpZGVvRnJhbWUuY2xhc3NOYW1lID1cbiAgICAgICAgXCJyZWxhdGl2ZSB3LWZ1bGwgaC1mdWxsIGJnLXdoaXRlLzUgYmFja2Ryb3AtYmx1ci14bCByb3VuZGVkLTJ4bCBib3JkZXIgYm9yZGVyLXdoaXRlLzIwIHNoYWRvdy0yeGwgb3ZlcmZsb3ctaGlkZGVuXCJcblxuICAgICAgLy8gQWRkIGRlY29yYXRpdmUgZ3JhZGllbnQgYm9yZGVyXG4gICAgICBjb25zdCBncmFkaWVudEJvcmRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIilcbiAgICAgIGdyYWRpZW50Qm9yZGVyLmNsYXNzTmFtZSA9XG4gICAgICAgIFwiYWJzb2x1dGUgaW5zZXQtMCBiZy1ncmFkaWVudC10by1yIGZyb20tcHVycGxlLTUwMC8zMCB2aWEtcGluay01MDAvMzAgdG8tYmx1ZS01MDAvMzAgcm91bmRlZC0yeGxcIlxuXG4gICAgICAvLyBJbm5lciBjb250YWluZXIgZm9yIHZpZGVvIHdpdGggcGFkZGluZ1xuICAgICAgY29uc3QgaW5uZXJDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpXG4gICAgICBpbm5lckNvbnRhaW5lci5jbGFzc05hbWUgPSBcInJlbGF0aXZlIHctZnVsbCBoLWZ1bGwgbS0xIGJnLWJsYWNrIHJvdW5kZWQteGwgb3ZlcmZsb3ctaGlkZGVuXCJcblxuICAgICAgLy8gQ3JlYXRlIGlmcmFtZSB3aXRoIGludGVyYWN0aW9uIGJsb2NraW5nXG4gICAgICBjb25zdCBpZnJhbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaWZyYW1lXCIpXG4gICAgICBpZnJhbWUuY2xhc3NOYW1lID0gXCJhYnNvbHV0ZSBpbnNldC0wIHctZnVsbCBoLWZ1bGxcIlxuICAgICAgaWZyYW1lLnNyYyA9IGBodHRwczovL3d3dy55b3V0dWJlLmNvbS9lbWJlZC8ke3ZpZGVvSWR9P2F1dG9wbGF5PTEmY29udHJvbHM9MCZkaXNhYmxla2I9MSZmcz0wJm1vZGVzdGJyYW5kaW5nPTEmcmVsPTAmc2hvd2luZm89MCZpdl9sb2FkX3BvbGljeT0zJmVuYWJsZWpzYXBpPTEmcGxheXNpbmxpbmU9MSZtdXRlPTBgXG4gICAgICBpZnJhbWUudGl0bGUgPSBcIkdhbWUgVmlkZW8gUGxheWVyXCJcbiAgICAgIGlmcmFtZS5mcmFtZUJvcmRlciA9IFwiMFwiXG4gICAgICBpZnJhbWUuYWxsb3cgPSBcImFjY2VsZXJvbWV0ZXI7IGF1dG9wbGF5OyBjbGlwYm9hcmQtd3JpdGU7IGVuY3J5cHRlZC1tZWRpYTsgZ3lyb3Njb3BlOyBwaWN0dXJlLWluLXBpY3R1cmVcIlxuICAgICAgaWZyYW1lLmFsbG93RnVsbHNjcmVlbiA9IGZhbHNlIC8vIERpc2FibGUgZnVsbHNjcmVlblxuICAgICAgaWZyYW1lLnN0eWxlLnBvaW50ZXJFdmVudHMgPSBcIm5vbmVcIiAvLyBEaXNhYmxlIGFsbCBpbnRlcmFjdGlvbnNcblxuICAgICAgLy8gQ3JlYXRlIGludmlzaWJsZSBvdmVybGF5IHRvIGJsb2NrIGFsbCB1c2VyIGludGVyYWN0aW9uc1xuICAgICAgY29uc3QgaW50ZXJhY3Rpb25CbG9ja2VyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKVxuICAgICAgaW50ZXJhY3Rpb25CbG9ja2VyLmNsYXNzTmFtZSA9IFwiYWJzb2x1dGUgaW5zZXQtMCB6LTMwIGN1cnNvci1ub3QtYWxsb3dlZFwiXG4gICAgICBpbnRlcmFjdGlvbkJsb2NrZXIuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCJ0cmFuc3BhcmVudFwiXG4gICAgICBpbnRlcmFjdGlvbkJsb2NrZXIudGl0bGUgPSBcIlZpZGVvIGNvbnRyb2xzIGFyZSBkaXNhYmxlZCBkdXJpbmcgZ2FtZXBsYXlcIlxuXG4gICAgICAvLyBBZGQgZmxvYXRpbmcgdmlkZW8gaW5mbyBvdmVybGF5XG4gICAgICBjb25zdCB2aWRlb0luZm8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpXG4gICAgICB2aWRlb0luZm8uY2xhc3NOYW1lID1cbiAgICAgICAgXCJhYnNvbHV0ZSB0b3AtNCBsZWZ0LTQgcmlnaHQtNCBiZy1ibGFjay81MCBiYWNrZHJvcC1ibHVyLW1kIHJvdW5kZWQtbGcgcC0zIHRleHQtd2hpdGUgdGV4dC1zbSBmb250LW1lZGl1bSBvcGFjaXR5LTAgaG92ZXI6b3BhY2l0eS0xMDAgdHJhbnNpdGlvbi1vcGFjaXR5IGR1cmF0aW9uLTMwMCB6LTIwXCJcbiAgICAgIHZpZGVvSW5mby5pbm5lckhUTUwgPSBgXG4gICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW5cIj5cbiAgICAgICAgICA8c3BhbiBjbGFzcz1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwidy0yIGgtMiBiZy1yZWQtNTAwIHJvdW5kZWQtZnVsbCBhbmltYXRlLXB1bHNlXCI+PC9kaXY+XG4gICAgICAgICAgICBOb3cgUGxheWluZ1xuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICA8c3BhbiBjbGFzcz1cInRleHQteHMgdGV4dC13aGl0ZS83MFwiPkxvYmJ5OiAke2xvYmJ5Q29kZX08L3NwYW4+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPVwibXQtMSB0ZXh0LXhzIHRleHQtd2hpdGUvNTBcIj5cbiAgICAgICAgICDwn5SSIENvbnRyb2xzIGRpc2FibGVkIGZvciBmYWlyIGdhbWVwbGF5XG4gICAgICAgIDwvZGl2PlxuICAgICAgYFxuXG4gICAgICAvLyBBZGQgYWVzdGhldGljIGNvcm5lciBkZWNvcmF0aW9uc1xuICAgICAgY29uc3QgY29ybmVyRGVjb3JhdGlvbnMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpXG4gICAgICBjb3JuZXJEZWNvcmF0aW9ucy5jbGFzc05hbWUgPSBcImFic29sdXRlIGluc2V0LTAgcG9pbnRlci1ldmVudHMtbm9uZSB6LTEwXCJcbiAgICAgIGNvcm5lckRlY29yYXRpb25zLmlubmVySFRNTCA9IGBcbiAgICAgICAgPGRpdiBjbGFzcz1cImFic29sdXRlIHRvcC0yIGxlZnQtMiB3LTQgaC00IGJvcmRlci1sLTIgYm9yZGVyLXQtMiBib3JkZXItd2hpdGUvMzAgcm91bmRlZC10bC1sZ1wiPjwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPVwiYWJzb2x1dGUgdG9wLTIgcmlnaHQtMiB3LTQgaC00IGJvcmRlci1yLTIgYm9yZGVyLXQtMiBib3JkZXItd2hpdGUvMzAgcm91bmRlZC10ci1sZ1wiPjwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPVwiYWJzb2x1dGUgYm90dG9tLTIgbGVmdC0yIHctNCBoLTQgYm9yZGVyLWwtMiBib3JkZXItYi0yIGJvcmRlci13aGl0ZS8zMCByb3VuZGVkLWJsLWxnXCI+PC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJhYnNvbHV0ZSBib3R0b20tMiByaWdodC0yIHctNCBoLTQgYm9yZGVyLXItMiBib3JkZXItYi0yIGJvcmRlci13aGl0ZS8zMCByb3VuZGVkLWJyLWxnXCI+PC9kaXY+XG4gICAgICBgXG5cbiAgICAgIC8vIEFkZCByZXNwb25zaXZlIHJlc2l6ZSBoYW5kbGVyXG4gICAgICAvLyBjb25zdCBoYW5kbGVSZXNpemUgPSAoKSA9PiB7XG4gICAgICAvLyAgIGNvbnN0cmFpbmVkQ29udGFpbmVyLnN0eWxlLndpZHRoID0gZ2V0UmVzcG9uc2l2ZVdpZHRoKClcbiAgICAgIC8vIH1cbiAgICAgIC8vIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicmVzaXplXCIsIGhhbmRsZVJlc2l6ZSlcblxuICAgICAgLy8gSGFuZGxlIGlmcmFtZSBsb2FkIGV2ZW50XG4gICAgICBpZnJhbWUub25sb2FkID0gKCkgPT4ge1xuICAgICAgICAvLyBGYWRlIG91dCBsb2FkaW5nIG92ZXJsYXlcbiAgICAgICAgbG9hZGluZ092ZXJsYXkuc3R5bGUub3BhY2l0eSA9IFwiMFwiXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIGlmIChsb2FkaW5nT3ZlcmxheS5wYXJlbnROb2RlKSB7XG4gICAgICAgICAgICBsb2FkaW5nT3ZlcmxheS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGxvYWRpbmdPdmVybGF5KVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgNTAwKVxuXG4gICAgICAgIC8vIEFkZCBlbnRyYW5jZSBhbmltYXRpb24gdG8gdmlkZW9cbiAgICAgICAgdmlkZW9GcmFtZS5zdHlsZS50cmFuc2Zvcm0gPSBcInNjYWxlKDAuOSkgdHJhbnNsYXRlWSgyMHB4KVwiXG4gICAgICAgIHZpZGVvRnJhbWUuc3R5bGUub3BhY2l0eSA9IFwiMFwiXG5cbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgdmlkZW9GcmFtZS5zdHlsZS50cmFuc2l0aW9uID0gXCJhbGwgMC42cyBjdWJpYy1iZXppZXIoMC40LCAwLCAwLjIsIDEpXCJcbiAgICAgICAgICB2aWRlb0ZyYW1lLnN0eWxlLnRyYW5zZm9ybSA9IFwic2NhbGUoMSkgdHJhbnNsYXRlWSgwKVwiXG4gICAgICAgICAgdmlkZW9GcmFtZS5zdHlsZS5vcGFjaXR5ID0gXCIxXCJcbiAgICAgICAgfSwgMTAwKVxuXG4gICAgICAgIC8vIEFkZGl0aW9uYWwgaW50ZXJhY3Rpb24gYmxvY2tpbmcgdmlhIEphdmFTY3JpcHRcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIEJsb2NrIGtleWJvYXJkIGV2ZW50cyBvbiB0aGUgaWZyYW1lXG4gICAgICAgICAgICBpZnJhbWUuY29udGVudFdpbmRvdz8uZG9jdW1lbnQ/LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIChlKSA9PiB7XG4gICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKVxuICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpXG4gICAgICAgICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgICAgICAgfSlcblxuICAgICAgICAgICAgLy8gQmxvY2sgY29udGV4dCBtZW51XG4gICAgICAgICAgICBpZnJhbWUuY29udGVudFdpbmRvdz8uZG9jdW1lbnQ/LmFkZEV2ZW50TGlzdGVuZXIoXCJjb250ZXh0bWVudVwiLCAoZSkgPT4ge1xuICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KClcbiAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgICAgICB9KVxuICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAvLyBDcm9zcy1vcmlnaW4gcmVzdHJpY3Rpb25zIHByZXZlbnQgZGlyZWN0IGFjY2VzcywgYnV0IHRoZSBvdmVybGF5IHdpbGwgaGFuZGxlIGludGVyYWN0aW9uc1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJDcm9zcy1vcmlnaW4gcmVzdHJpY3Rpb25zIGFwcGx5LCB1c2luZyBvdmVybGF5IGZvciBpbnRlcmFjdGlvbiBibG9ja2luZ1wiKVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgMTAwMClcblxuICAgICAgICAvLyBTaG93IHN1Y2Nlc3MgdG9hc3RcbiAgICAgICAgaWYgKHRvYXN0KSB7XG4gICAgICAgICAgdG9hc3Qoe1xuICAgICAgICAgICAgdGl0bGU6IFwi8J+OrCBWaWRlbyBMb2FkZWQgU3VjY2Vzc2Z1bGx5XCIsXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogXCJWaWRlbyBpcyBub3cgcGxheWluZyBpbiBjb250cm9sbGVkIG1vZGVcIixcbiAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmcmFtZS5vbmVycm9yID0gKCkgPT4ge1xuICAgICAgICBoYW5kbGVWaWRlb0Vycm9yKFwiRmFpbGVkIHRvIGxvYWQgWW91VHViZSB2aWRlb1wiKVxuICAgICAgfVxuXG4gICAgICAvLyBBc3NlbWJsZSB0aGUgdmlkZW8gc3RydWN0dXJlXG4gICAgICBpbm5lckNvbnRhaW5lci5hcHBlbmRDaGlsZChpZnJhbWUpXG4gICAgICBpbm5lckNvbnRhaW5lci5hcHBlbmRDaGlsZChpbnRlcmFjdGlvbkJsb2NrZXIpIC8vIEFkZCBpbnRlcmFjdGlvbiBibG9ja2VyIG9uIHRvcFxuICAgICAgdmlkZW9GcmFtZS5hcHBlbmRDaGlsZChncmFkaWVudEJvcmRlcilcbiAgICAgIHZpZGVvRnJhbWUuYXBwZW5kQ2hpbGQoaW5uZXJDb250YWluZXIpXG4gICAgICB2aWRlb0ZyYW1lLmFwcGVuZENoaWxkKHZpZGVvSW5mbylcbiAgICAgIHZpZGVvRnJhbWUuYXBwZW5kQ2hpbGQoY29ybmVyRGVjb3JhdGlvbnMpXG4gICAgICBjb25zdHJhaW5lZENvbnRhaW5lci5hcHBlbmRDaGlsZCh2aWRlb0ZyYW1lKVxuICAgICAgdmlkZW9XcmFwcGVyLmFwcGVuZENoaWxkKGNvbnN0cmFpbmVkQ29udGFpbmVyKVxuICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHZpZGVvV3JhcHBlcilcblxuICAgICAgLy8gQ2xlYW51cCBmdW5jdGlvblxuICAgICAgY29uc3QgY2xlYW51cCA9ICgpID0+IHtcbiAgICAgICAgLy8gd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgaGFuZGxlUmVzaXplKVxuICAgICAgfVxuXG4gICAgICAvLyBTdG9yZSBjbGVhbnVwIGZ1bmN0aW9uIGZvciBsYXRlciB1c2VcbiAgICAgIGNvbnRhaW5lci5fY2xlYW51cCA9IGNsZWFudXBcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gSGFuZGxlIGRpcmVjdCB2aWRlbyBVUkxzIHdpdGggc3RyaWN0IGNvbnRyb2xcbiAgICAgIGNvbnN0IHZpZGVvV3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIilcbiAgICAgIHZpZGVvV3JhcHBlci5jbGFzc05hbWUgPSBcInJlbGF0aXZlIHctZnVsbCBoLWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIlxuXG4gICAgICBjb25zdCBjb25zdHJhaW5lZENvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIilcbiAgICAgIGNvbnN0cmFpbmVkQ29udGFpbmVyLnN0eWxlLndpZHRoID0gXCIyMCVcIlxuICAgICAgY29uc3RyYWluZWRDb250YWluZXIuc3R5bGUuaGVpZ2h0ID0gXCIxMDAlXCJcbiAgICAgIGNvbnN0cmFpbmVkQ29udGFpbmVyLnN0eWxlLm1heEhlaWdodCA9IFwiY2FsYygxMDB2aCAtIDIwMHB4KVwiXG4gICAgICBjb25zdHJhaW5lZENvbnRhaW5lci5jbGFzc05hbWUgPSBcInJlbGF0aXZlIG14LWF1dG9cIiAvLyBDZW50ZXIgaXQgaG9yaXpvbnRhbGx5XG5cbiAgICAgIGNvbnN0IHZpZGVvRnJhbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpXG4gICAgICB2aWRlb0ZyYW1lLmNsYXNzTmFtZSA9XG4gICAgICAgIFwicmVsYXRpdmUgdy1mdWxsIGgtZnVsbCBiZy13aGl0ZS81IGJhY2tkcm9wLWJsdXIteGwgcm91bmRlZC0yeGwgYm9yZGVyIGJvcmRlci13aGl0ZS8yMCBzaGFkb3ctMnhsIG92ZXJmbG93LWhpZGRlblwiXG5cbiAgICAgIGNvbnN0IHZpZGVvID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInZpZGVvXCIpXG4gICAgICB2aWRlby5jbGFzc05hbWUgPSBcInctZnVsbCBoLWZ1bGwgb2JqZWN0LWNvdmVyIHJvdW5kZWQteGxcIlxuICAgICAgdmlkZW8uc3JjID0gdmlkZW9fdXJsXG4gICAgICB2aWRlby5hdXRvcGxheSA9IHRydWVcbiAgICAgIHZpZGVvLm11dGVkID0gdHJ1ZVxuICAgICAgdmlkZW8ucGxheXNJbmxpbmUgPSB0cnVlXG4gICAgICB2aWRlby5sb29wID0gZmFsc2VcbiAgICAgIHZpZGVvLnByZWxvYWQgPSBcImF1dG9cIlxuXG4gICAgICAvLyBEaXNhYmxlIGFsbCB2aWRlbyBjb250cm9scyBhbmQgaW50ZXJhY3Rpb25zXG4gICAgICB2aWRlby5jb250cm9scyA9IGZhbHNlXG4gICAgICB2aWRlby5kaXNhYmxlUGljdHVyZUluUGljdHVyZSA9IHRydWVcbiAgICAgIHZpZGVvLmNvbnRyb2xzTGlzdCA9IFwibm9kb3dubG9hZCBub2Z1bGxzY3JlZW4gbm9yZW1vdGVwbGF5YmFja1wiXG4gICAgICB2aWRlby5zdHlsZS5wb2ludGVyRXZlbnRzID0gXCJub25lXCJcblxuICAgICAgLy8gQ3JlYXRlIGludGVyYWN0aW9uIGJsb2NrZXIgb3ZlcmxheVxuICAgICAgY29uc3QgaW50ZXJhY3Rpb25CbG9ja2VyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKVxuICAgICAgaW50ZXJhY3Rpb25CbG9ja2VyLmNsYXNzTmFtZSA9IFwiYWJzb2x1dGUgaW5zZXQtMCB6LTMwIGN1cnNvci1ub3QtYWxsb3dlZFwiXG4gICAgICBpbnRlcmFjdGlvbkJsb2NrZXIuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCJ0cmFuc3BhcmVudFwiXG4gICAgICBpbnRlcmFjdGlvbkJsb2NrZXIudGl0bGUgPSBcIlZpZGVvIGNvbnRyb2xzIGFyZSBkaXNhYmxlZCBkdXJpbmcgZ2FtZXBsYXlcIlxuXG4gICAgICAvLyBQcmV2ZW50IGFsbCB2aWRlbyBpbnRlcmFjdGlvbnNcbiAgICAgIGNvbnN0IHByZXZlbnRJbnRlcmFjdGlvbiA9IChlKSA9PiB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKVxuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpXG4gICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgfVxuXG4gICAgICB2aWRlby5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgcHJldmVudEludGVyYWN0aW9uKVxuICAgICAgdmlkZW8uYWRkRXZlbnRMaXN0ZW5lcihcImRibGNsaWNrXCIsIHByZXZlbnRJbnRlcmFjdGlvbilcbiAgICAgIHZpZGVvLmFkZEV2ZW50TGlzdGVuZXIoXCJjb250ZXh0bWVudVwiLCBwcmV2ZW50SW50ZXJhY3Rpb24pXG4gICAgICB2aWRlby5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCBwcmV2ZW50SW50ZXJhY3Rpb24pXG4gICAgICB2aWRlby5hZGRFdmVudExpc3RlbmVyKFwia2V5dXBcIiwgcHJldmVudEludGVyYWN0aW9uKVxuICAgICAgdmlkZW8uYWRkRXZlbnRMaXN0ZW5lcihcImtleXByZXNzXCIsIHByZXZlbnRJbnRlcmFjdGlvbilcblxuICAgICAgLy8gUHJldmVudCBzZWVraW5nIGFuZCBwYXVzaW5nXG4gICAgICB2aWRlby5hZGRFdmVudExpc3RlbmVyKFwic2Vla2luZ1wiLCAoKSA9PiB7XG4gICAgICAgIHZpZGVvLmN1cnJlbnRUaW1lID0gdmlkZW8uY3VycmVudFRpbWUgLy8gUmVzZXQgdG8gY3VycmVudCB0aW1lXG4gICAgICB9KVxuXG4gICAgICB2aWRlby5hZGRFdmVudExpc3RlbmVyKFwicGF1c2VcIiwgKCkgPT4ge1xuICAgICAgICB2aWRlby5wbGF5KCkgLy8gRm9yY2UgcGxheSBpZiBwYXVzZWRcbiAgICAgIH0pXG5cbiAgICAgIC8vIGNvbnN0IGhhbmRsZVJlc2l6ZSA9ICgpID0+IHtcbiAgICAgIC8vICAgY29uc3RyYWluZWRDb250YWluZXIuc3R5bGUud2lkdGggPSBnZXRSZXNwb25zaXZlV2lkdGgoKVxuICAgICAgLy8gfVxuICAgICAgLy8gd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgaGFuZGxlUmVzaXplKVxuXG4gICAgICB2aWRlby5vbmxvYWRlZGRhdGEgPSAoKSA9PiB7XG4gICAgICAgIGxvYWRpbmdPdmVybGF5LnN0eWxlLm9wYWNpdHkgPSBcIjBcIlxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICBpZiAobG9hZGluZ092ZXJsYXkucGFyZW50Tm9kZSkge1xuICAgICAgICAgICAgbG9hZGluZ092ZXJsYXkucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChsb2FkaW5nT3ZlcmxheSlcbiAgICAgICAgICB9XG4gICAgICAgIH0sIDUwMClcblxuICAgICAgICBpZiAodG9hc3QpIHtcbiAgICAgICAgICB0b2FzdCh7XG4gICAgICAgICAgICB0aXRsZTogXCLwn46sIFZpZGVvIExvYWRlZCBTdWNjZXNzZnVsbHlcIixcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBcIlZpZGVvIGlzIG5vdyBwbGF5aW5nIGluIGNvbnRyb2xsZWQgbW9kZVwiLFxuICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdmlkZW8ub25lcnJvciA9ICgpID0+IHtcbiAgICAgICAgaGFuZGxlVmlkZW9FcnJvcihcIkZhaWxlZCB0byBsb2FkIHZpZGVvIGZpbGVcIilcbiAgICAgIH1cblxuICAgICAgdmlkZW9GcmFtZS5hcHBlbmRDaGlsZCh2aWRlbylcbiAgICAgIHZpZGVvRnJhbWUuYXBwZW5kQ2hpbGQoaW50ZXJhY3Rpb25CbG9ja2VyKVxuICAgICAgY29uc3RyYWluZWRDb250YWluZXIuYXBwZW5kQ2hpbGQodmlkZW9GcmFtZSlcbiAgICAgIHZpZGVvV3JhcHBlci5hcHBlbmRDaGlsZChjb25zdHJhaW5lZENvbnRhaW5lcilcbiAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZCh2aWRlb1dyYXBwZXIpXG5cbiAgICAgIC8vIENsZWFudXAgZnVuY3Rpb25cbiAgICAgIGNvbnN0IGNsZWFudXAgPSAoKSA9PiB7XG4gICAgICAgIC8vIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwicmVzaXplXCIsIGhhbmRsZVJlc2l6ZSlcbiAgICAgICAgdmlkZW8ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHByZXZlbnRJbnRlcmFjdGlvbilcbiAgICAgICAgdmlkZW8ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImRibGNsaWNrXCIsIHByZXZlbnRJbnRlcmFjdGlvbilcbiAgICAgICAgdmlkZW8ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNvbnRleHRtZW51XCIsIHByZXZlbnRJbnRlcmFjdGlvbilcbiAgICAgICAgdmlkZW8ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgcHJldmVudEludGVyYWN0aW9uKVxuICAgICAgICB2aWRlby5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5dXBcIiwgcHJldmVudEludGVyYWN0aW9uKVxuICAgICAgICB2aWRlby5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5cHJlc3NcIiwgcHJldmVudEludGVyYWN0aW9uKVxuICAgICAgfVxuXG4gICAgICBjb250YWluZXIuX2NsZWFudXAgPSBjbGVhbnVwXG4gICAgfVxuXG4gICAgLy8gSGVscGVyIGZ1bmN0aW9uIHRvIGhhbmRsZSB2aWRlbyBlcnJvcnNcbiAgICBmdW5jdGlvbiBoYW5kbGVWaWRlb0Vycm9yKGVycm9yTWVzc2FnZSkge1xuICAgICAgbG9hZGluZ092ZXJsYXkuaW5uZXJIVE1MID0gYFxuICAgICAgICA8ZGl2IGNsYXNzPVwidGV4dC1jZW50ZXJcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwidy0xNiBoLTE2IGJnLXJlZC01MDAvMjAgcm91bmRlZC1mdWxsIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIG14LWF1dG8gbWItNFwiPlxuICAgICAgICAgICAgPHN2ZyBjbGFzcz1cInctOCBoLTggdGV4dC1yZWQtNDAwXCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+XG4gICAgICAgICAgICAgIDxwYXRoIHN0cm9rZUxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZUxpbmVqb2luPVwicm91bmRcIiBzdHJva2VXaWR0aD1cIjJcIiBkPVwiTTEyIDh2NG0wIDRoLjAxTTIxIDEyYTkgOSAwIDExLTE4IDAgOSA5IDAgMDExOCAwelwiPjwvcGF0aD5cbiAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxwIGNsYXNzPVwidGV4dC1yZWQtNDAwIHRleHQtbGcgZm9udC1tZWRpdW0gbWItMlwiPlZpZGVvIExvYWQgRXJyb3I8L3A+XG4gICAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LXdoaXRlLzcwIHRleHQtc21cIj4ke2Vycm9yTWVzc2FnZX08L3A+XG4gICAgICAgICAgPGJ1dHRvbiBvbmNsaWNrPVwidGhpcy5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5pbm5lckhUTUw9JzxkaXYgY2xhc3M9XFxcXCdhYnNvbHV0ZSBpbnNldC0wIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyXFxcXCc+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXFwndGV4dC1jZW50ZXJcXFxcJz5cbiAgICAgICAgICAgICAgPHN2ZyBjbGFzcz1cXFxcJ3ctMTIgaC0xMiBteC1hdXRvIG1iLTQgdGV4dC1ncmF5LTUwMFxcXFwnIGZpbGw9XFxcXCdub25lXFxcXCcgc3Ryb2tlPVxcXFwnY3VycmVudENvbG9yXFxcXCcgdmlld0JveD1cXFxcJzAgMCAyNCAyNFxcXFwnPlxuICAgICAgICAgICAgICAgIDxwYXRoIHN0cm9rZUxpbmVjYXA9XFxcXCdyb3VuZFxcXFwnIHN0cm9rZUxpbmVqb2luPVxcXFwncm91bmRcXFxcJyBzdHJva2VXaWR0aD1cXFxcJzJcXFxcJyBkPVxcXFwnTTE0LjgyOCAxNC44MjhhNCA0IDAgMDEtNS42NTYgME05IDEwaDFtNCAwaDFtLTYgNGguMDFNMjEgMTJhOSA5IDAgMTEtMTggMCA5IDkgMCAwMTE4IDB6XFxcXCcgLz5cbiAgICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgICAgIDxwIGNsYXNzPVxcXFwndGV4dC1ncmF5LTUwMFxcXFwnPldhaXRpbmcgZm9yIHZpZGVvLi4uPC9wPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+J1wiIGNsYXNzPVwibXQtNCBweC00IHB5LTIgYmctd2hpdGUvMTAgaG92ZXI6Ymctd2hpdGUvMjAgcm91bmRlZC1sZyB0ZXh0LXdoaXRlIHRleHQtc20gdHJhbnNpdGlvbi1jb2xvcnMgZHVyYXRpb24tMjAwXCI+XG4gICAgICAgICAgICBEaXNtaXNzXG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgYFxuXG4gICAgICBpZiAodG9hc3QpIHtcbiAgICAgICAgdG9hc3Qoe1xuICAgICAgICAgIHRpdGxlOiBcIlZpZGVvIEVycm9yXCIsXG4gICAgICAgICAgZGVzY3JpcHRpb246IGVycm9yTWVzc2FnZSxcbiAgICAgICAgICB2YXJpYW50OiBcImRlc3RydWN0aXZlXCIsXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8gQ2xlYW51cCBmdW5jdGlvbiBmb3IgY29tcG9uZW50IHVubW91bnRcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgaWYgKHZpZGVvQ29udGFpbmVyUmVmLmN1cnJlbnQ/Ll9jbGVhbnVwKSB7XG4gICAgICAgIHZpZGVvQ29udGFpbmVyUmVmLmN1cnJlbnQuX2NsZWFudXAoKVxuICAgICAgfVxuICAgIH1cbiAgfSwgW10pXG5cbiAgY29uc3QgdmlkZW9JZCA9IGdldFlvdVR1YmVWaWRlb0lkKHZpZGVvVXJsKVxuXG4gIGNvbnN0IGhhbmRsZUxlYXZlR2FtZSA9ICgpID0+IHtcbiAgICBkaXNjb25uZWN0KClcbiAgICByb3V0ZXIucHVzaChcIi9sb2JieVwiKVxuICB9XG5cbiAgaWYgKGNvbm5lY3Rpb25FcnJvcikge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1pbi1oLXNjcmVlbiBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBiZy1ncmFkaWVudC10by1iciBmcm9tLXB1cnBsZS02MDAgdmlhLXBpbmstNjAwIHRvLWJsdWUtNjAwIHAtNFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLXdoaXRlLzk1IGJhY2tkcm9wLWJsdXIteGwgcm91bmRlZC0zeGwgcC04IHRleHQtY2VudGVyXCI+XG4gICAgICAgICAgPGgyIGNsYXNzTmFtZT1cInRleHQtMnhsIGZvbnQtYm9sZCB0ZXh0LXJlZC02MDAgbWItNFwiPkNvbm5lY3Rpb24gRXJyb3I8L2gyPlxuICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtZ3JheS03MDAgbWItNFwiPntjb25uZWN0aW9uRXJyb3J9PC9wPlxuICAgICAgICAgIDxCdXR0b24gb25DbGljaz17KCkgPT4gcm91dGVyLnB1c2goXCIvbG9iYnlcIil9IGNsYXNzTmFtZT1cImJnLXB1cnBsZS02MDAgaG92ZXI6YmctcHVycGxlLTcwMFwiPlxuICAgICAgICAgICAgUmV0dXJuIHRvIExvYmJ5XG4gICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cIm1pbi1oLXNjcmVlbiBmbGV4IGZsZXgtY29sIGJnLWdyYWRpZW50LXRvLWJyIGZyb20tcHVycGxlLTYwMCB2aWEtcGluay02MDAgdG8tYmx1ZS02MDBcIj5cbiAgICAgIHsvKiBIZWFkZXIgKi99XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtY2VudGVyIHB5LTRcIj5cbiAgICAgICAgPGgxIGNsYXNzTmFtZT1cInRleHQtd2hpdGUgdGV4dC00eGwgZm9udC1ib2xkIHRyYWNraW5nLXdpZGVcIj5cbiAgICAgICAgICBLUkFDS0xFPHNwYW4gY2xhc3NOYW1lPVwidGV4dC15ZWxsb3ctMzAwXCI+LkNPPC9zcGFuPlxuICAgICAgICA8L2gxPlxuICAgICAgICA8aDIgY2xhc3NOYW1lPVwidGV4dC13aGl0ZSB0ZXh0LXhsIG10LTFcIj5HYW1lOiB7bG9iYnlDb2RlfTwvaDI+XG4gICAgICA8L2Rpdj5cblxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIG1kOmZsZXgtcm93IGZsZXgtMSBwLTQgZ2FwLTRcIj5cbiAgICAgICAgey8qIFBsYXllcnMgc2lkZWJhciAqL31cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LWZ1bGwgbWQ6dy02NCBiZy13aGl0ZS8xMCBiYWNrZHJvcC1ibHVyLW1kIHJvdW5kZWQteGwgcC00XCI+XG4gICAgICAgICAgPGgzIGNsYXNzTmFtZT1cInRleHQtd2hpdGUgdGV4dC14bCBmb250LWJvbGQgbWItNCBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxuICAgICAgICAgICAgPFVzZXJzIGNsYXNzTmFtZT1cInctNSBoLTVcIiAvPiBQbGF5ZXJzXG4gICAgICAgICAgPC9oMz5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktMiBtYXgtaC1bNjB2aF0gb3ZlcmZsb3cteS1hdXRvXCI+XG4gICAgICAgICAgICB7cGxheWVycy5sZW5ndGggPiAwID8gKFxuICAgICAgICAgICAgICBwbGF5ZXJzLm1hcCgocGxheWVyLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGlzVmVyaWZpZWQgPSB2ZXJpZmllZFBsYXllcnMuaW5jbHVkZXMocGxheWVyKVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAga2V5PXtpbmRleH1cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgcC0zIHJvdW5kZWQtbGcgJHtcbiAgICAgICAgICAgICAgICAgICAgICBpc1ZlcmlmaWVkXG4gICAgICAgICAgICAgICAgICAgICAgICA/IFwiYmctZ3JhZGllbnQtdG8tciBmcm9tLWdyZWVuLTIwMC84MCB0by1ncmVlbi0xMDAvODAgYmFja2Ryb3AtYmx1ci1tZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICA6IFwiYmctZ3JheS0yMDAvODAgYmFja2Ryb3AtYmx1ci1tZFwiXG4gICAgICAgICAgICAgICAgICAgIH0gZmxleCBpdGVtcy1jZW50ZXJgfVxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgaC04IHctOCByb3VuZGVkLWZ1bGwgJHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzVmVyaWZpZWQgPyBcImJnLWdyYWRpZW50LXRvLXIgZnJvbS1ncmVlbi01MDAgdG8tZW1lcmFsZC01MDBcIiA6IFwiYmctZ3JheS01MDBcIlxuICAgICAgICAgICAgICAgICAgICAgIH0gdGV4dC13aGl0ZSBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBtci0zYH1cbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgIHtwbGF5ZXIuY2hhckF0KDApLnRvVXBwZXJDYXNlKCl9XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJmb250LW1lZGl1bVwiPlxuICAgICAgICAgICAgICAgICAgICAgIHtwbGF5ZXJ9IHtwbGF5ZXIgPT09IHVzZXJuYW1lICYmIFwiKFlvdSlcIn1cbiAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICB7aW5kZXggPT09IDAgJiYgPENyb3duIGNsYXNzTmFtZT1cInctNCBoLTQgdGV4dC15ZWxsb3ctNTAwIG1sLTJcIiAvPn1cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXIgcHktNCB0ZXh0LXdoaXRlXCI+XG4gICAgICAgICAgICAgICAgPExvYWRlcjIgY2xhc3NOYW1lPVwidy02IGgtNiBhbmltYXRlLXNwaW4gbXgtYXV0byBtYi0yXCIgLz5cbiAgICAgICAgICAgICAgICA8cD5Mb2FkaW5nIHBsYXllcnMuLi48L3A+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgey8qIE1haW4gY29udGVudCB3aXRoIHZpZGVvICovfVxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgtMSBmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy13aGl0ZSByb3VuZGVkLXhsIHAtNCBmbGV4LTEgZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGp1c3RpZnktYmV0d2VlbiBpdGVtcy1jZW50ZXIgbWItNFwiPlxuICAgICAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwidGV4dC0yeGwgZm9udC1ib2xkXCI+R2FtZSBWaWRlbzwvaDM+XG5cbiAgICAgICAgICAgICAgey8qIEFkbWluIGNvbnRyb2xzICovfVxuICAgICAgICAgICAgICB7cm9sZSA9PT0gXCJsb2JieS1hZG1pblwiICYmIChcbiAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICBvbkNsaWNrPXtyZXF1ZXN0TmV3VmlkZW99XG4gICAgICAgICAgICAgICAgICBkaXNhYmxlZD17aXNMb2FkaW5nVmlkZW99XG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJiZy1wdXJwbGUtNjAwIGhvdmVyOmJnLXB1cnBsZS03MDAgdGV4dC13aGl0ZVwiXG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAge2lzTG9hZGluZ1ZpZGVvID8gKFxuICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgIDxMb2FkZXIyIGNsYXNzTmFtZT1cInctNCBoLTQgbXItMiBhbmltYXRlLXNwaW5cIiAvPlxuICAgICAgICAgICAgICAgICAgICAgIExvYWRpbmcuLi5cbiAgICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgIDxSZWZyZXNoQ3cgY2xhc3NOYW1lPVwidy00IGgtNCBtci0yXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICBOZXcgVmlkZW9cbiAgICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC0xIHJlbGF0aXZlIHctZnVsbCByb3VuZGVkLWxnIG92ZXJmbG93LWhpZGRlbiBiZy1ibGFja1wiIHJlZj17dmlkZW9Db250YWluZXJSZWZ9PlxuICAgICAgICAgICAgICB7IXZpZGVvX3VybCAmJiAhdmlkZW9VcmwgJiYgKFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWJzb2x1dGUgaW5zZXQtMCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICA8UGxheSBjbGFzc05hbWU9XCJ3LTEyIGgtMTIgbXgtYXV0byBtYi00IHRleHQtZ3JheS01MDBcIiAvPlxuICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNTAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAge3JvbGUgPT09IFwibG9iYnktYWRtaW5cIlxuICAgICAgICAgICAgICAgICAgICAgICAgPyBcIkNsaWNrICdOZXcgVmlkZW8nIHRvIHN0YXJ0IHRoZSBnYW1lXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIDogXCJXYWl0aW5nIGZvciB0aGUgaG9zdCB0byBzdGFydCBhIHZpZGVvLi4uXCJ9XG4gICAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtNCBmbGV4IGp1c3RpZnktZW5kXCI+XG4gICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJiZy1yZWQtNDAwIGhvdmVyOmJnLXJlZC01MDAgdGV4dC13aGl0ZSByb3VuZGVkLWZ1bGwgcHgtNiBweS0yIHRleHQtbGcgZm9udC1ib2xkXCJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVMZWF2ZUdhbWV9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8TG9nT3V0IGNsYXNzTmFtZT1cInctNSBoLTUgbXItMlwiIC8+XG4gICAgICAgICAgICAgICAgTEVBVkUgR0FNRVxuICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInB5LTQgdGV4dC1jZW50ZXIgdGV4dC13aGl0ZSB0ZXh0LXhzXCI+XG4gICAgICAgIE1BREUgV0lUSCBMT1ZFIEJZIEhBWVNPTiwgTkVMU09OLCBBTkQgQk9ZQSA8c3BhbiBjbGFzc05hbWU9XCJtbC0xXCI+4p2k77iPPC9zcGFuPlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gIClcbn1cbiJdLCJuYW1lcyI6WyJ1c2VTdGF0ZSIsInVzZUVmZmVjdCIsInVzZVJlZiIsInVzZVJvdXRlciIsInVzZVNlYXJjaFBhcmFtcyIsIkJ1dHRvbiIsInVzZVRvYXN0IiwidXNlV2ViU29ja2V0IiwiTG9hZGVyMiIsIlJlZnJlc2hDdyIsIkxvZ091dCIsIlVzZXJzIiwiUGxheSIsIkNyb3duIiwiQVBJX0JBU0VfVVJMIiwiR2FtZVBhZ2UiLCJ1c2VybmFtZSIsInNldFVzZXJuYW1lIiwibG9iYnlDb2RlIiwic2V0TG9iYnlDb2RlIiwidXNlclRva2VuIiwic2V0VXNlclRva2VuIiwicm9sZSIsInNldFJvbGUiLCJpc0xvYWRpbmdWaWRlbyIsInNldElzTG9hZGluZ1ZpZGVvIiwidmVyaWZpZWRQbGF5ZXJzIiwic2V0VmVyaWZpZWRQbGF5ZXJzIiwidmlkZW9VcmwiLCJzZXRWaWRlb1VybCIsInZpZGVvQ29udGFpbmVyUmVmIiwicm91dGVyIiwic2VhcmNoUGFyYW1zIiwidG9hc3QiLCJ2aWRlb191cmwiLCJpc0Nvbm5lY3RlZCIsInBsYXllcnMiLCJjb25uZWN0aW9uRXJyb3IiLCJzZW5kTWVzc2FnZSIsImRpc2Nvbm5lY3QiLCJzdG9yZWRVc2VybmFtZSIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJzdG9yZWRMb2JieSIsInN0b3JlZFRva2VuIiwic3RvcmVkQWRtaW5Ub2tlbiIsInN0b3JlZFJvbGUiLCJ1cmxMb2JieUNvZGUiLCJnZXQiLCJ0aXRsZSIsImRlc2NyaXB0aW9uIiwidmFyaWFudCIsInB1c2giLCJ3ZWJzb2NrZXRSb2xlIiwicmVxdWVzdE5ld1ZpZGVvIiwiaGFuZGxlR2FtZU1lc3NhZ2UiLCJldmVudCIsImRhdGEiLCJKU09OIiwicGFyc2UiLCJ0eXBlIiwidmVyaWZpZWRfcGxheWVycyIsIm1lc3NhZ2UiLCJlcnJvciIsImNvbnNvbGUiLCJ3aW5kb3ciLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImxvYWRfdmlkZW9fZnJvbV91cmwiLCJyZXNwb25zZSIsImZldGNoIiwibWV0aG9kIiwiaGVhZGVycyIsIm9rIiwianNvbiIsInVybCIsImdldFlvdVR1YmVWaWRlb0lkIiwicmVnRXhwIiwibWF0Y2giLCJsZW5ndGgiLCJjdXJyZW50Iiwid2FybiIsImNvbnRhaW5lciIsImlubmVySFRNTCIsImxvYWRpbmdPdmVybGF5IiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiY2xhc3NOYW1lIiwiYXBwZW5kQ2hpbGQiLCJnZXRSZXNwb25zaXZlV2lkdGgiLCJ2aWRlb0lkIiwidmlkZW9XcmFwcGVyIiwiY29uc3RyYWluZWRDb250YWluZXIiLCJzdHlsZSIsIndpZHRoIiwiaGVpZ2h0IiwibWF4SGVpZ2h0IiwidmlkZW9GcmFtZSIsImdyYWRpZW50Qm9yZGVyIiwiaW5uZXJDb250YWluZXIiLCJpZnJhbWUiLCJzcmMiLCJmcmFtZUJvcmRlciIsImFsbG93IiwiYWxsb3dGdWxsc2NyZWVuIiwicG9pbnRlckV2ZW50cyIsImludGVyYWN0aW9uQmxvY2tlciIsImJhY2tncm91bmRDb2xvciIsInZpZGVvSW5mbyIsImNvcm5lckRlY29yYXRpb25zIiwib25sb2FkIiwib3BhY2l0eSIsInNldFRpbWVvdXQiLCJwYXJlbnROb2RlIiwicmVtb3ZlQ2hpbGQiLCJ0cmFuc2Zvcm0iLCJ0cmFuc2l0aW9uIiwiY29udGVudFdpbmRvdyIsImUiLCJwcmV2ZW50RGVmYXVsdCIsInN0b3BQcm9wYWdhdGlvbiIsImxvZyIsIm9uZXJyb3IiLCJoYW5kbGVWaWRlb0Vycm9yIiwiY2xlYW51cCIsIl9jbGVhbnVwIiwidmlkZW8iLCJhdXRvcGxheSIsIm11dGVkIiwicGxheXNJbmxpbmUiLCJsb29wIiwicHJlbG9hZCIsImNvbnRyb2xzIiwiZGlzYWJsZVBpY3R1cmVJblBpY3R1cmUiLCJjb250cm9sc0xpc3QiLCJwcmV2ZW50SW50ZXJhY3Rpb24iLCJjdXJyZW50VGltZSIsInBsYXkiLCJvbmxvYWRlZGRhdGEiLCJlcnJvck1lc3NhZ2UiLCJoYW5kbGVMZWF2ZUdhbWUiLCJkaXYiLCJoMiIsInAiLCJvbkNsaWNrIiwiaDEiLCJzcGFuIiwiaDMiLCJtYXAiLCJwbGF5ZXIiLCJpbmRleCIsImlzVmVyaWZpZWQiLCJpbmNsdWRlcyIsImNoYXJBdCIsInRvVXBwZXJDYXNlIiwiZGlzYWJsZWQiLCJyZWYiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./app/game/page.jsx\n"));

/***/ })

});