"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/game/page",{

/***/ "(app-pages-browser)/./app/game/page.jsx":
/*!***************************!*\
  !*** ./app/game/page.jsx ***!
  \***************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ GamePage)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_navigation__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/navigation */ \"(app-pages-browser)/./node_modules/next/dist/api/navigation.js\");\n/* harmony import */ var _components_ui_use_toast__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/components/ui/use-toast */ \"(app-pages-browser)/./components/ui/use-toast.ts\");\n/* harmony import */ var _components_ui_button__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/components/ui/button */ \"(app-pages-browser)/./components/ui/button.tsx\");\n/* harmony import */ var _barrel_optimize_names_Crown_Loader2_LogOut_Play_RefreshCw_Users_lucide_react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! __barrel_optimize__?names=Crown,Loader2,LogOut,Play,RefreshCw,Users!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/users.js\");\n/* harmony import */ var _barrel_optimize_names_Crown_Loader2_LogOut_Play_RefreshCw_Users_lucide_react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! __barrel_optimize__?names=Crown,Loader2,LogOut,Play,RefreshCw,Users!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/crown.js\");\n/* harmony import */ var _barrel_optimize_names_Crown_Loader2_LogOut_Play_RefreshCw_Users_lucide_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! __barrel_optimize__?names=Crown,Loader2,LogOut,Play,RefreshCw,Users!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/loader-circle.js\");\n/* harmony import */ var _barrel_optimize_names_Crown_Loader2_LogOut_Play_RefreshCw_Users_lucide_react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! __barrel_optimize__?names=Crown,Loader2,LogOut,Play,RefreshCw,Users!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/refresh-cw.js\");\n/* harmony import */ var _barrel_optimize_names_Crown_Loader2_LogOut_Play_RefreshCw_Users_lucide_react__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! __barrel_optimize__?names=Crown,Loader2,LogOut,Play,RefreshCw,Users!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/play.js\");\n/* harmony import */ var _barrel_optimize_names_Crown_Loader2_LogOut_Play_RefreshCw_Users_lucide_react__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! __barrel_optimize__?names=Crown,Loader2,LogOut,Play,RefreshCw,Users!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/log-out.js\");\n/* harmony import */ var _hooks_use_websocket__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/hooks/use-websocket */ \"(app-pages-browser)/./hooks/use-websocket.js\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\n\n\n\n\n\nconst API_BASE_URL = \"https://cd6f-202-28-7-4.ngrok-free.app\";\nfunction GamePage() {\n    _s();\n    const [username, setUsername] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [lobbyCode, setLobbyCode] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [userToken, setUserToken] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [role, setRole] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"player\");\n    const [isLoadingVideo, setIsLoadingVideo] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [verifiedPlayers, setVerifiedPlayers] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [videoUrl, setVideoUrl] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [gameProgress, setGameProgress] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const [modelsLoaded, setModelsLoaded] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [faceApiLoaded, setFaceApiLoaded] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const videoContainerRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const videoElementRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null); // Added ref for video element\n    const router = (0,next_navigation__WEBPACK_IMPORTED_MODULE_2__.useRouter)();\n    const searchParams = (0,next_navigation__WEBPACK_IMPORTED_MODULE_2__.useSearchParams)();\n    const { toast } = (0,_components_ui_use_toast__WEBPACK_IMPORTED_MODULE_3__.useToast)();\n    const { isConnected, messages, players, lobbyInfo, connectionError, verified_usernames, game_started, video_url, laughMeters, data, sendChatMessage, leaveLobby, kickPlayer, startGame, closeLobby, disbandLobby, mutePlayer, unmutePlayer, changeSettings, sendMessage, disconnect } = (0,_hooks_use_websocket__WEBPACK_IMPORTED_MODULE_5__.useWebSocket)(lobbyCode, username, userToken, role);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"GamePage.useEffect\": ()=>{\n            if (window.faceapi) {\n                setFaceApiLoaded(true);\n                return;\n            }\n            const script = document.createElement('script');\n            script.src = 'https://cdn.jsdelivr.net/npm/face-api.js@0.22.2/dist/face-api.min.js';\n            script.async = true;\n            script.onload = ({\n                \"GamePage.useEffect\": ()=>{\n                    setFaceApiLoaded(true);\n                    toast({\n                        title: \"FaceAPI Script Loaded\",\n                        description: \"Face detection capabilities are now active.\"\n                    });\n                }\n            })[\"GamePage.useEffect\"];\n            script.onerror = ({\n                \"GamePage.useEffect\": ()=>{\n                    toast({\n                        title: \"FaceAPI Load Error\",\n                        description: \"Failed to load face detection script.\",\n                        variant: \"destructive\"\n                    });\n                }\n            })[\"GamePage.useEffect\"];\n            document.body.appendChild(script);\n        // No cleanup needed for CDN script that might be used by other pages\n        }\n    }[\"GamePage.useEffect\"], [\n        toast\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"GamePage.useEffect\": ()=>{\n            const storedUsername = localStorage.getItem(\"krackle_username\");\n            const storedLobby = localStorage.getItem(\"krackle_lobby\");\n            const storedToken = localStorage.getItem(\"krackle_user_token\");\n            const storedAdminToken = localStorage.getItem(\"krackle_admin_token\") // Assuming admin token is stored like this\n            ;\n            const storedRole = localStorage.getItem(\"krackle_role\");\n            const urlLobbyCode = searchParams.get(\"lobbyCode\") // Define urlLobbyCode\n            ;\n            if (!storedUsername || !storedLobby && !urlLobbyCode) {\n                toast({\n                    title: \"Session expired\",\n                    description: \"Please join a lobby again\",\n                    variant: \"destructive\"\n                });\n                router.push(\"/\");\n                return;\n            }\n            setUsername(storedUsername);\n            setLobbyCode(storedLobby || urlLobbyCode);\n            const websocketRole = storedRole === \"admin\" ? \"lobby-admin\" : storedRole || \"player\";\n            setRole(websocketRole);\n            if (storedRole === \"admin\") {\n                setUserToken(storedAdminToken) // Use storedAdminToken\n                ;\n            } else if (storedRole === \"player\") {\n                setUserToken(storedToken);\n            } else {\n                toast({\n                    title: \"Invalid session\",\n                    description: \"Missing authentication token\",\n                    variant: \"destructive\"\n                });\n                router.push(\"/\");\n                return;\n            }\n            if (storedRole === \"admin\") {\n                requestNewVideo();\n            }\n            if (!faceApiLoaded || modelsLoaded) return;\n            const loadModels = {\n                \"GamePage.useEffect.loadModels\": async ()=>{\n                    const MODEL_URL = '/models';\n                    if (!window.faceapi) {\n                        toast({\n                            title: \"FaceAPI Not Ready\",\n                            description: \"Cannot load models yet.\",\n                            variant: \"warning\"\n                        });\n                        return;\n                    }\n                    try {\n                        toast({\n                            title: \"Loading Face Models\",\n                            description: \"Please wait...\"\n                        });\n                        await window.faceapi.nets.tinyFaceDetector.loadFromUri(MODEL_URL);\n                        setModelsLoaded(true);\n                        setFaceApiLoaded(true);\n                        toast({\n                            title: \"Face Models Loaded\",\n                            description: \"Ready for face detection.\"\n                        });\n                    } catch (error) {\n                        console.error(\"Error loading face detection models:\", error);\n                        toast({\n                            title: \"Model Load Error\",\n                            description: \"Could not load face detection models.\",\n                            variant: \"destructive\"\n                        });\n                    }\n                }\n            }[\"GamePage.useEffect.loadModels\"];\n            loadModels();\n        }\n    }[\"GamePage.useEffect\"], [\n        router,\n        searchParams,\n        toast,\n        faceApiLoaded,\n        modelsLoaded\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"GamePage.useEffect\": ()=>{\n            const initWebcam = {\n                \"GamePage.useEffect.initWebcam\": async ()=>{\n                    try {\n                        const stream = await navigator.mediaDevices.getUserMedia({\n                            video: true\n                        });\n                        if (videoElementRef.current) {\n                            videoElementRef.current.srcObject = stream;\n                        }\n                    } catch (err) {\n                        console.error(\"Error accessing webcam:\", err);\n                        toast({\n                            title: \"Webcam Error\",\n                            description: \"Could not access webcam. Please check permissions.\",\n                            variant: \"destructive\"\n                        });\n                    }\n                }\n            }[\"GamePage.useEffect.initWebcam\"];\n            initWebcam();\n            // Cleanup function to stop webcam tracks when component unmounts\n            return ({\n                \"GamePage.useEffect\": ()=>{\n                    if (videoElementRef.current && videoElementRef.current.srcObject) {\n                        const stream = videoElementRef.current.srcObject;\n                        const tracks = stream.getTracks();\n                        tracks.forEach({\n                            \"GamePage.useEffect\": (track)=>track.stop()\n                        }[\"GamePage.useEffect\"]);\n                        videoElementRef.current.srcObject = null;\n                    }\n                }\n            })[\"GamePage.useEffect\"];\n        }\n    }[\"GamePage.useEffect\"], [\n        toast\n    ]);\n    const requestNewVideo = async ()=>{\n        setIsLoadingVideo(true);\n        try {\n            if (isConnected && sendMessage) {\n                sendMessage(JSON.stringify({\n                    type: \"new_game_video\"\n                }));\n            } else {\n                toast({\n                    title: \"Connection error\",\n                    description: \"Not connected to server to request video.\",\n                    variant: \"destructive\"\n                });\n            }\n        } catch (error) {\n            toast({\n                title: \"Connection error\",\n                description: \"Could not connect to the game server.\",\n                variant: \"destructive\"\n            });\n            console.error(\"Error fetching video:\", error);\n        } finally{\n            setIsLoadingVideo(false);\n        }\n    };\n    const getYouTubeVideoId = (url)=>{\n        if (!url) return null;\n        const regExp = /^.*(youtu.be\\/|v\\/|u\\/\\w\\/|embed\\/|shorts\\/|watch\\?v=|&v=)([^#&?]*).*/;\n        const match = url.match(regExp);\n        return match && match[2].length === 11 ? match[2] : null;\n    };\n    const load_video_from_url = (video_url_from_ws)=>{\n        if (!video_url_from_ws || !videoContainerRef.current) {\n            console.warn(\"No video URL provided or container not found\");\n            return;\n        }\n        setVideoUrl(video_url_from_ws); // Update the videoUrl state\n        const container = videoContainerRef.current;\n        container.innerHTML = \"\";\n        const loadingOverlay = document.createElement(\"div\");\n        loadingOverlay.className = \"absolute inset-0 flex items-center justify-center bg-gradient-to-br from-purple-900/50 to-pink-900/50 backdrop-blur-sm z-10 transition-opacity duration-500\";\n        loadingOverlay.innerHTML = '\\n      <div class=\"text-center\">\\n        <div class=\"w-16 h-16 border-4 border-white/20 border-t-white rounded-full animate-spin mx-auto mb-4\"></div>\\n        <p class=\"text-white text-lg font-medium\">Loading video...</p>\\n      </div>\\n    ';\n        container.appendChild(loadingOverlay);\n        const videoId = getYouTubeVideoId(video_url_from_ws);\n        if (videoId) {\n            const iframe = document.createElement(\"iframe\");\n            iframe.className = \"absolute inset-0 w-full h-full\";\n            iframe.src = \"https://www.youtube.com/embed/\".concat(videoId, \"?autoplay=1&controls=0&disablekb=1&fs=0&modestbranding=1&rel=0&showinfo=0&iv_load_policy=3&enablejsapi=1&playsinline=1&mute=0\");\n            iframe.title = \"Game Video Player\";\n            iframe.frameBorder = \"0\";\n            iframe.allow = \"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\";\n            iframe.allowFullscreen = false;\n            iframe.style.pointerEvents = \"none\";\n            iframe.onload = ()=>{\n                loadingOverlay.style.opacity = \"0\";\n                setTimeout(()=>{\n                    if (loadingOverlay.parentNode) {\n                        loadingOverlay.parentNode.removeChild(loadingOverlay);\n                    }\n                }, 500);\n                toast({\n                    title: \"YouTube Video Loaded\",\n                    description: \"Playback started.\"\n                });\n            };\n            iframe.onerror = ()=>{\n                handleVideoError(\"Failed to load YouTube video\");\n            };\n            container.appendChild(iframe);\n        } else {\n            const video = document.createElement(\"video\");\n            video.className = \"w-full h-full object-cover rounded-xl\";\n            video.src = video_url_from_ws;\n            video.autoplay = true;\n            video.muted = true;\n            video.playsInline = true;\n            video.loop = false;\n            video.preload = \"auto\";\n            video.controls = false;\n            video.style.pointerEvents = \"none\";\n            video.onloadeddata = ()=>{\n                loadingOverlay.style.opacity = \"0\";\n                setTimeout(()=>{\n                    if (loadingOverlay.parentNode) {\n                        loadingOverlay.parentNode.removeChild(loadingOverlay);\n                    }\n                }, 500);\n                toast({\n                    title: \"Video File Loaded\",\n                    description: \"Playback started.\"\n                });\n            };\n            video.onerror = ()=>{\n                handleVideoError(\"Failed to load video file\");\n            };\n            container.appendChild(video);\n        }\n        function handleVideoError(errorMessage) {\n            if (loadingOverlay.parentNode) {\n                loadingOverlay.innerHTML = '\\n        <div class=\"text-center\">\\n          <p class=\"text-red-400 text-lg font-medium mb-2\">Video Load Error</p>\\n          <p class=\"text-white/70 text-sm\">'.concat(errorMessage, \"</p>\\n        </div>\\n      \");\n            }\n            toast({\n                title: \"Video Error\",\n                description: errorMessage,\n                variant: \"destructive\"\n            });\n        }\n    };\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"GamePage.useEffect\": ()=>{\n            if (video_url) {\n                load_video_from_url(video_url);\n            }\n        }\n    }[\"GamePage.useEffect\"], [\n        video_url\n    ]);\n    async function detectAndSendFace() {\n        const currentVideoElement = videoElementRef.current;\n        if (!currentVideoElement || currentVideoElement.paused || currentVideoElement.readyState < 3) {\n            return;\n        }\n        if (!window.faceapi) {\n            return;\n        }\n        try {\n            const options = new window.faceapi.TinyFaceDetectorOptions({\n                inputSize: 224,\n                scoreThreshold: 0.5\n            });\n            const detections = await window.faceapi.detectAllFaces(currentVideoElement, options);\n            if (detections.length === 0) {\n                return;\n            }\n            if (detections.length > 1) {\n                // toast({ title: \"Multiple faces detected\", description: \"Please ensure only one person is visible.\", variant: \"warning\" });\n                return;\n            }\n            const detection = detections[0];\n            const box = detection.detection ? detection.detection.box : detection.box;\n            if (!box) {\n                return;\n            }\n            const tempCanvas = document.createElement(\"canvas\");\n            const tempContext = tempCanvas.getContext(\"2d\");\n            const padding = 0.1;\n            const paddedWidth = box.width * (1 + padding * 2);\n            const paddedHeight = box.height * (1 + padding * 2);\n            const paddedX = box.x - box.width * padding;\n            const paddedY = box.y - box.height * padding;\n            const cropX = Math.max(0, paddedX);\n            const cropY = Math.max(0, paddedY);\n            const cropWidth = Math.min(paddedWidth, currentVideoElement.videoWidth - cropX);\n            const cropHeight = Math.min(paddedHeight, currentVideoElement.videoHeight - cropY);\n            if (cropWidth <= 0 || cropHeight <= 0) {\n                return;\n            }\n            tempCanvas.width = cropWidth;\n            tempCanvas.height = cropHeight;\n            tempContext.drawImage(currentVideoElement, cropX, cropY, cropWidth, cropHeight, 0, 0, cropWidth, cropHeight);\n            const imageDataUrl = tempCanvas.toDataURL(\"image/jpeg\", 0.7);\n            const base64Data = imageDataUrl.split(\",\")[1];\n            if (sendMessage) {\n                sendMessage(\"upload_image\", base64Data);\n            }\n        } catch (error) {\n            console.error(\"Face crop and send error:\", error);\n        // toast({\n        //   title: \"Face Detection Error\",\n        //   description: `Failed to crop and send face: ${error.message}`,\n        //   variant: \"destructive\",\n        // });\n        }\n    }\n    // Renamed to avoid conflict with detectAndSendFace which is async\n    function triggerFaceImageSend() {\n        if (!isConnected) {\n            return;\n        }\n        const currentVideoElement = videoElementRef.current;\n        if (!currentVideoElement || currentVideoElement.paused) {\n            return;\n        }\n        if (!modelsLoaded || !faceApiLoaded) {\n            return;\n        }\n        detectAndSendFace(); // Call the async function\n    }\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"GamePage.useEffect\": ()=>{\n            let intervalId;\n            if (isConnected && modelsLoaded && faceApiLoaded) {\n                intervalId = setInterval({\n                    \"GamePage.useEffect\": ()=>{\n                        triggerFaceImageSend(); // Use the renamed wrapper function\n                    }\n                }[\"GamePage.useEffect\"], 500);\n            }\n            return ({\n                \"GamePage.useEffect\": ()=>{\n                    if (intervalId) {\n                        clearInterval(intervalId);\n                    }\n                }\n            })[\"GamePage.useEffect\"];\n        }\n    }[\"GamePage.useEffect\"], [\n        isConnected,\n        modelsLoaded,\n        faceApiLoaded,\n        lobbyCode,\n        username,\n        sendMessage\n    ]); // Added relevant dependencies\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"GamePage.useEffect\": ()=>{\n            return ({\n                \"GamePage.useEffect\": ()=>{\n                    var _videoContainerRef_current;\n                    if ((_videoContainerRef_current = videoContainerRef.current) === null || _videoContainerRef_current === void 0 ? void 0 : _videoContainerRef_current._cleanup) {\n                        videoContainerRef.current._cleanup();\n                    }\n                }\n            })[\"GamePage.useEffect\"];\n        }\n    }[\"GamePage.useEffect\"], []);\n    const handleLeaveGame = ()=>{\n        disconnect();\n        router.push(\"/lobby\");\n    };\n    if (connectionError) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"min-h-screen flex items-center justify-center bg-gradient-to-br from-purple-600 via-pink-600 to-blue-600 p-4\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"bg-white/95 backdrop-blur-xl rounded-3xl p-8 text-center\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                        className: \"text-2xl font-bold text-red-600 mb-4\",\n                        children: \"Connection Error\"\n                    }, void 0, false, {\n                        fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                        lineNumber: 430,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"text-gray-700 mb-4\",\n                        children: connectionError\n                    }, void 0, false, {\n                        fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                        lineNumber: 431,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_4__.Button, {\n                        onClick: ()=>router.push(\"/lobby\"),\n                        className: \"bg-purple-600 hover:bg-purple-700\",\n                        children: \"Return to Lobby\"\n                    }, void 0, false, {\n                        fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                        lineNumber: 432,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                lineNumber: 429,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n            lineNumber: 428,\n            columnNumber: 7\n        }, this);\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"min-h-screen flex flex-col bg-gradient-to-br from-purple-600 via-pink-600 to-blue-600\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"text-center py-4\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                        className: \"text-white text-4xl font-bold tracking-wide\",\n                        children: [\n                            \"KRACKLE\",\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: \"text-yellow-300\",\n                                children: \".CO\"\n                            }, void 0, false, {\n                                fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                lineNumber: 444,\n                                columnNumber: 18\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                        lineNumber: 443,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                        className: \"text-white text-xl mt-1\",\n                        children: [\n                            \"Game: \",\n                            lobbyCode\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                        lineNumber: 446,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                lineNumber: 442,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex flex-col md:flex-row flex-1 p-4 gap-4\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"w-full md:w-64 bg-white/10 backdrop-blur-md rounded-xl p-4\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                className: \"text-white text-xl font-bold mb-4 flex items-center gap-2\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Crown_Loader2_LogOut_Play_RefreshCw_Users_lucide_react__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n                                        className: \"w-5 h-5\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                        lineNumber: 452,\n                                        columnNumber: 13\n                                    }, this),\n                                    \" Players\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                lineNumber: 451,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"space-y-2 max-h-[60vh] overflow-y-auto\",\n                                children: players.length > 0 ? players.map((player, index)=>{\n                                    const isVerified = verifiedPlayers.includes(player) // REVERTED: Check directly against player string\n                                    ;\n                                    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"p-3 rounded-lg \".concat(isVerified ? \"bg-gradient-to-r from-green-200/80 to-green-100/80 backdrop-blur-md\" : \"bg-gray-200/80 backdrop-blur-md\", \" flex items-center\"),\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"h-8 w-8 rounded-full \".concat(isVerified ? \"bg-gradient-to-r from-green-500 to-emerald-500\" : \"bg-gray-500\", \" text-white flex items-center justify-center mr-3\"),\n                                                children: player.charAt(0).toUpperCase()\n                                            }, void 0, false, {\n                                                fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                                lineNumber: 468,\n                                                columnNumber: 21\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"font-medium\",\n                                                children: [\n                                                    player,\n                                                    \" \",\n                                                    player === username && \"(You)\"\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                                lineNumber: 475,\n                                                columnNumber: 21\n                                            }, this),\n                                            index === 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Crown_Loader2_LogOut_Play_RefreshCw_Users_lucide_react__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n                                                className: \"w-4 h-4 text-yellow-500 ml-2\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                                lineNumber: 479,\n                                                columnNumber: 37\n                                            }, this)\n                                        ]\n                                    }, index, true, {\n                                        fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                        lineNumber: 460,\n                                        columnNumber: 19\n                                    }, this);\n                                }) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"text-center py-4 text-white\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Crown_Loader2_LogOut_Play_RefreshCw_Users_lucide_react__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n                                            className: \"w-6 h-6 animate-spin mx-auto mb-2\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                            lineNumber: 485,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                            children: \"Loading players...\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                            lineNumber: 486,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                    lineNumber: 484,\n                                    columnNumber: 15\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                lineNumber: 454,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                        lineNumber: 450,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex-1 flex items-center justify-center\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"w-[400px] bg-white rounded-xl p-4 h-[600px] flex flex-col\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex justify-between items-center mb-4\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                            className: \"text-2xl font-bold\",\n                                            children: \"Game Video\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                            lineNumber: 495,\n                                            columnNumber: 15\n                                        }, this),\n                                        role === \"lobby-admin\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_4__.Button, {\n                                            onClick: requestNewVideo,\n                                            disabled: isLoadingVideo,\n                                            className: \"bg-purple-600 hover:bg-purple-700 text-white\",\n                                            children: isLoadingVideo ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Crown_Loader2_LogOut_Play_RefreshCw_Users_lucide_react__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n                                                        className: \"w-4 h-4 mr-2 animate-spin\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                                        lineNumber: 504,\n                                                        columnNumber: 23\n                                                    }, this),\n                                                    \"Loading...\"\n                                                ]\n                                            }, void 0, true) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Crown_Loader2_LogOut_Play_RefreshCw_Users_lucide_react__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n                                                        className: \"w-4 h-4 mr-2\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                                        lineNumber: 509,\n                                                        columnNumber: 23\n                                                    }, this),\n                                                    \"New Video\"\n                                                ]\n                                            }, void 0, true)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                            lineNumber: 497,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                    lineNumber: 494,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex-1 relative w-full rounded-lg overflow-hidden bg-black\",\n                                    ref: videoContainerRef,\n                                    children: !video_url && !videoUrl && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"absolute inset-0 flex items-center justify-center\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"text-center\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Crown_Loader2_LogOut_Play_RefreshCw_Users_lucide_react__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\n                                                    className: \"w-12 h-12 mx-auto mb-4 text-gray-500\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                                    lineNumber: 521,\n                                                    columnNumber: 21\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                    className: \"text-gray-500\",\n                                                    children: role === \"lobby-admin\" ? \"Click 'New Video' to start the game\" : \"Waiting for the host to start a video...\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                                    lineNumber: 522,\n                                                    columnNumber: 21\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                            lineNumber: 520,\n                                            columnNumber: 19\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                        lineNumber: 519,\n                                        columnNumber: 17\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                    lineNumber: 517,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"mt-4 flex justify-center\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_4__.Button, {\n                                        className: \"bg-red-400 hover:bg-red-500 text-white rounded-full px-6 py-2 text-lg font-bold\",\n                                        onClick: handleLeaveGame,\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Crown_Loader2_LogOut_Play_RefreshCw_Users_lucide_react__WEBPACK_IMPORTED_MODULE_11__[\"default\"], {\n                                                className: \"w-5 h-5 mr-2\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                                lineNumber: 537,\n                                                columnNumber: 17\n                                            }, this),\n                                            \"LEAVE GAME\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                        lineNumber: 533,\n                                        columnNumber: 15\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                    lineNumber: 532,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                            lineNumber: 493,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                        lineNumber: 492,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                lineNumber: 449,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"fixed bottom-6 right-6 z-20\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"relative flex flex-col items-center\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"relative w-8 h-40 mb-0\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"absolute inset-0 bg-white/20 backdrop-blur-sm rounded-full border border-white/30\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                    lineNumber: 548,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"absolute bottom-0 left-0 right-0 rounded-full transition-all duration-300 ease-out\",\n                                    style: {\n                                        height: \"\".concat(gameProgress, \"%\"),\n                                        background: \"linear-gradient(to top, #22c55e, #eab308, #ef4444)\",\n                                        margin: \"2px\",\n                                        width: \"calc(100% - 4px)\"\n                                    }\n                                }, void 0, false, {\n                                    fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                    lineNumber: 549,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"absolute -right-10 top-1/2 -translate-y-1/2\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"bg-black/50 backdrop-blur-sm rounded-lg px-2 py-1\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"text-white font-bold text-xs\",\n                                            children: [\n                                                Math.round(gameProgress),\n                                                \"%\"\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                            lineNumber: 560,\n                                            columnNumber: 17\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                        lineNumber: 559,\n                                        columnNumber: 15\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                    lineNumber: 558,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                            lineNumber: 547,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"relative\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"relative w-32 h-32 rounded-full overflow-hidden border-4 border-white/30 shadow-xl\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"video\", {\n                                        ref: videoElementRef,\n                                        id: \"webcam\",\n                                        className: \"absolute w-full h-full object-cover\",\n                                        autoPlay: true,\n                                        playsInline: true,\n                                        muted: true\n                                    }, void 0, false, {\n                                        fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                        lineNumber: 568,\n                                        columnNumber: 15\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                    lineNumber: 566,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"absolute top-1 right-1 z-10\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex items-center gap-1 bg-black/50 backdrop-blur-sm rounded-full px-1.5 py-0.5\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"w-1.5 h-1.5 bg-red-500 rounded-full animate-pulse\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                                lineNumber: 572,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"text-white text-xs font-medium\",\n                                                children: \"LIVE\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                                lineNumber: 573,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                        lineNumber: 571,\n                                        columnNumber: 15\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                    lineNumber: 570,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                            lineNumber: 565,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                    lineNumber: 546,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                lineNumber: 545,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"py-4 text-center text-white text-xs\",\n                children: [\n                    \"MADE WITH LOVE BY HAYSON, NELSON, AND BOYA \",\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                        className: \"ml-1\",\n                        children: \"❤️\"\n                    }, void 0, false, {\n                        fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                        lineNumber: 581,\n                        columnNumber: 52\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                lineNumber: 580,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n        lineNumber: 441,\n        columnNumber: 5\n    }, this);\n}\n_s(GamePage, \"WQGQ6rAgYWIsL3APvVBSS31fNhQ=\", false, function() {\n    return [\n        next_navigation__WEBPACK_IMPORTED_MODULE_2__.useRouter,\n        next_navigation__WEBPACK_IMPORTED_MODULE_2__.useSearchParams,\n        _components_ui_use_toast__WEBPACK_IMPORTED_MODULE_3__.useToast,\n        _hooks_use_websocket__WEBPACK_IMPORTED_MODULE_5__.useWebSocket\n    ];\n});\n_c = GamePage;\nvar _c;\n$RefreshReg$(_c, \"GamePage\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2FwcC9nYW1lL3BhZ2UuanN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFbUQ7QUFDUztBQUNSO0FBQ0w7QUFDOEI7QUFDekI7QUFDdEI7QUFFOUIsTUFBTWUsZUFBZTtBQUVOLFNBQVNDOztJQUN0QixNQUFNLENBQUNDLFVBQVVDLFlBQVksR0FBR2pCLCtDQUFRQSxDQUFDO0lBQ3pDLE1BQU0sQ0FBQ2tCLFdBQVdDLGFBQWEsR0FBR25CLCtDQUFRQSxDQUFDO0lBQzNDLE1BQU0sQ0FBQ29CLFdBQVdDLGFBQWEsR0FBR3JCLCtDQUFRQSxDQUFDO0lBQzNDLE1BQU0sQ0FBQ3NCLE1BQU1DLFFBQVEsR0FBR3ZCLCtDQUFRQSxDQUFDO0lBQ2pDLE1BQU0sQ0FBQ3dCLGdCQUFnQkMsa0JBQWtCLEdBQUd6QiwrQ0FBUUEsQ0FBQztJQUNyRCxNQUFNLENBQUMwQixpQkFBaUJDLG1CQUFtQixHQUFHM0IsK0NBQVFBLENBQUMsRUFBRTtJQUN6RCxNQUFNLENBQUM0QixVQUFVQyxZQUFZLEdBQUc3QiwrQ0FBUUEsQ0FBQztJQUN6QyxNQUFNLENBQUM4QixjQUFjQyxnQkFBZ0IsR0FBRy9CLCtDQUFRQSxDQUFDO0lBQ2pELE1BQU0sQ0FBQ2dDLGNBQWNDLGdCQUFnQixHQUFHakMsK0NBQVFBLENBQUM7SUFDakQsTUFBTSxDQUFDa0MsZUFBZUMsaUJBQWlCLEdBQUduQywrQ0FBUUEsQ0FBQztJQUNuRCxNQUFNb0Msb0JBQW9CbkMsNkNBQU1BLENBQUM7SUFDakMsTUFBTW9DLGtCQUFrQnBDLDZDQUFNQSxDQUFDLE9BQU8sOEJBQThCO0lBRXBFLE1BQU1xQyxTQUFTcEMsMERBQVNBO0lBQ3hCLE1BQU1xQyxlQUFlcEMsZ0VBQWVBO0lBQ3BDLE1BQU0sRUFBRXFDLEtBQUssRUFBRSxHQUFHcEMsa0VBQVFBO0lBRTFCLE1BQU0sRUFDSnFDLFdBQVcsRUFDWEMsUUFBUSxFQUNSQyxPQUFPLEVBQ1BDLFNBQVMsRUFDVEMsZUFB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RSxXQUFVOzhDQUNiLDRFQUFDaUU7d0NBQUlqRSxXQUFVO2tEQUNiLDRFQUFDc0U7NENBQUt0RSxXQUFVOztnREFBZ0M4QyxLQUFLcUMsS0FBSyxDQUFDaEw7Z0RBQWM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O3NDQUsvRSw4REFBQzhKOzRCQUFJakUsV0FBVTs7OENBQ2IsOERBQUNpRTtvQ0FBSWpFLFdBQVU7OENBRWIsNEVBQUN2Qjt3Q0FBTXVHLEtBQUt0Szt3Q0FBaUIwSyxJQUFHO3dDQUFTcEYsV0FBVTt3Q0FBc0NxRixRQUFRO3dDQUFDdEUsV0FBVzt3Q0FBQ0QsS0FBSzs7Ozs7Ozs7Ozs7OENBRXJILDhEQUFDbUQ7b0NBQUlqRSxXQUFVOzhDQUNiLDRFQUFDaUU7d0NBQUlqRSxXQUFVOzswREFDYiw4REFBQ2lFO2dEQUFJakUsV0FBVTs7Ozs7OzBEQUNmLDhEQUFDc0U7Z0RBQUt0RSxXQUFVOzBEQUFpQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OzswQkFPM0QsOERBQUNpRTtnQkFBSWpFLFdBQVU7O29CQUFzQztrQ0FDUiw4REFBQ3NFO3dCQUFLdEUsV0FBVTtrQ0FBTzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBSTFFO0dBNWpCd0I1Rzs7UUFjUGIsc0RBQVNBO1FBQ0hDLDREQUFlQTtRQUNsQkMsOERBQVFBO1FBd0J0QlEsOERBQVlBOzs7S0F4Q01HIiwic291cmNlcyI6WyIvVXNlcnMvaGF5c29uY2hldW5nL3Byb2dyYW1zL3B5dGhvblByb2plY3Qva3JhY2tsZTIvZnJvbnRlbmR1cGRhdGVkL2FwcC9nYW1lL3BhZ2UuanN4Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGNsaWVudFwiXG5cbmltcG9ydCB7IHVzZUVmZmVjdCwgdXNlU3RhdGUsIHVzZVJlZiB9IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgeyB1c2VSb3V0ZXIsIHVzZVNlYXJjaFBhcmFtcyB9IGZyb20gXCJuZXh0L25hdmlnYXRpb25cIlxuaW1wb3J0IHsgdXNlVG9hc3QgfSBmcm9tIFwiQC9jb21wb25lbnRzL3VpL3VzZS10b2FzdFwiXG5pbXBvcnQgeyBCdXR0b24gfSBmcm9tIFwiQC9jb21wb25lbnRzL3VpL2J1dHRvblwiXG5pbXBvcnQgeyBVc2VycywgQ3Jvd24sIExvYWRlcjIsIFJlZnJlc2hDdywgUGxheSwgTG9nT3V0IH0gZnJvbSBcImx1Y2lkZS1yZWFjdFwiXG5pbXBvcnQgeyB1c2VXZWJTb2NrZXQgfSBmcm9tIFwiQC9ob29rcy91c2Utd2Vic29ja2V0XCIgXG5pbXBvcnQgeyBzZXQgfSBmcm9tIFwiZGF0ZS1mbnNcIlxuXG5jb25zdCBBUElfQkFTRV9VUkwgPSBcImh0dHBzOi8vY2Q2Zi0yMDItMjgtNy00Lm5ncm9rLWZyZWUuYXBwXCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gR2FtZVBhZ2UoKSB7XG4gIGNvbnN0IFt1c2VybmFtZSwgc2V0VXNlcm5hbWVdID0gdXNlU3RhdGUoXCJcIilcbiAgY29uc3QgW2xvYmJ5Q29kZSwgc2V0TG9iYnlDb2RlXSA9IHVzZVN0YXRlKFwiXCIpXG4gIGNvbnN0IFt1c2VyVG9rZW4sIHNldFVzZXJUb2tlbl0gPSB1c2VTdGF0ZShcIlwiKVxuICBjb25zdCBbcm9sZSwgc2V0Um9sZV0gPSB1c2VTdGF0ZShcInBsYXllclwiKVxuICBjb25zdCBbaXNMb2FkaW5nVmlkZW8sIHNldElzTG9hZGluZ1ZpZGVvXSA9IHVzZVN0YXRlKGZhbHNlKVxuICBjb25zdCBbdmVyaWZpZWRQbGF5ZXJzLCBzZXRWZXJpZmllZFBsYXllcnNdID0gdXNlU3RhdGUoW10pXG4gIGNvbnN0IFt2aWRlb1VybCwgc2V0VmlkZW9VcmxdID0gdXNlU3RhdGUoXCJcIilcbiAgY29uc3QgW2dhbWVQcm9ncmVzcywgc2V0R2FtZVByb2dyZXNzXSA9IHVzZVN0YXRlKDApXG4gIGNvbnN0IFttb2RlbHNMb2FkZWQsIHNldE1vZGVsc0xvYWRlZF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtmYWNlQXBpTG9hZGVkLCBzZXRGYWNlQXBpTG9hZGVkXSA9IHVzZVN0YXRlKGZhbHNlKTsgXG4gIGNvbnN0IHZpZGVvQ29udGFpbmVyUmVmID0gdXNlUmVmKG51bGwpXG4gIGNvbnN0IHZpZGVvRWxlbWVudFJlZiA9IHVzZVJlZihudWxsKTsgLy8gQWRkZWQgcmVmIGZvciB2aWRlbyBlbGVtZW50XG5cbiAgY29uc3Qgcm91dGVyID0gdXNlUm91dGVyKClcbiAgY29uc3Qgc2VhcmNoUGFyYW1zID0gdXNlU2VhcmNoUGFyYW1zKClcbiAgY29uc3QgeyB0b2FzdCB9ID0gdXNlVG9hc3QoKVxuXG4gIGNvbnN0IHtcbiAgICBpc0Nvbm5lY3RlZCxcbiAgICBtZXNzYWdlcyxcbiAgICBwbGF5ZXJzLFxuICAgIGxvYmJ5SW5mbyxcbiAgICBjb25uZWN0aW9uRXJyb3IsXG4gICAgdmVyaWZpZWRfdXNlcm5hbWVzLFxuICAgIGdhbWVfc3RhcnRlZCxcbiAgICB2aWRlb191cmwsXG4gICAgbGF1Z2hNZXRlcnMsXG4gICAgZGF0YSxcbiAgICBzZW5kQ2hhdE1lc3NhZ2UsXG4gICAgbGVhdmVMb2JieSxcbiAgICBraWNrUGxheWVyLFxuICAgIHN0YXJ0R2FtZSxcbiAgICBjbG9zZUxvYmJ5LFxuICAgIGRpc2JhbmRMb2JieSxcbiAgICBtdXRlUGxheWVyLFxuICAgIHVubXV0ZVBsYXllcixcbiAgICBjaGFuZ2VTZXR0aW5ncyxcbiAgICBzZW5kTWVzc2FnZSxcbiAgICBkaXNjb25uZWN0LFxuICB9ID0gdXNlV2ViU29ja2V0KFxuICAgIGxvYmJ5Q29kZSxcbiAgICB1c2VybmFtZSxcbiAgICB1c2VyVG9rZW4sXG4gICAgcm9sZSxcbiAgKVxuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKHdpbmRvdy5mYWNlYXBpKSB7XG4gICAgICBzZXRGYWNlQXBpTG9hZGVkKHRydWUpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBzY3JpcHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTtcbiAgICBzY3JpcHQuc3JjID0gJ2h0dHBzOi8vY2RuLmpzZGVsaXZyLm5ldC9ucG0vZmFjZS1hcGkuanNAMC4yMi4yL2Rpc3QvZmFjZS1hcGkubWluLmpzJztcbiAgICBzY3JpcHQuYXN5bmMgPSB0cnVlO1xuICAgIHNjcmlwdC5vbmxvYWQgPSAoKSA9PiB7XG4gICAgICBzZXRGYWNlQXBpTG9hZGVkKHRydWUpO1xuICAgICAgdG9hc3QoeyB0aXRsZTogXCJGYWNlQVBJIFNjcmlwdCBMb2FkZWRcIiwgZGVzY3JpcHRpb246IFwiRmFjZSBkZXRlY3Rpb24gY2FwYWJpbGl0aWVzIGFyZSBub3cgYWN0aXZlLlwiIH0pO1xuICAgIH07XG4gICAgc2NyaXB0Lm9uZXJyb3IgPSAoKSA9PiB7XG4gICAgICB0b2FzdCh7IHRpdGxlOiBcIkZhY2VBUEkgTG9hZCBFcnJvclwiLCBkZXNjcmlwdGlvbjogXCJGYWlsZWQgdG8gbG9hZCBmYWNlIGRldGVjdGlvbiBzY3JpcHQuXCIsIHZhcmlhbnQ6IFwiZGVzdHJ1Y3RpdmVcIiB9KTtcbiAgICB9O1xuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoc2NyaXB0KTtcblxuICAgIC8vIE5vIGNsZWFudXAgbmVlZGVkIGZvciBDRE4gc2NyaXB0IHRoYXQgbWlnaHQgYmUgdXNlZCBieSBvdGhlciBwYWdlc1xuICB9LCBbdG9hc3RdKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IHN0b3JlZFVzZXJuYW1lID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJrcmFja2xlX3VzZXJuYW1lXCIpXG4gICAgY29uc3Qgc3RvcmVkTG9iYnkgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcImtyYWNrbGVfbG9iYnlcIilcbiAgICBjb25zdCBzdG9yZWRUb2tlbiA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwia3JhY2tsZV91c2VyX3Rva2VuXCIpXG4gICAgY29uc3Qgc3RvcmVkQWRtaW5Ub2tlbiA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwia3JhY2tsZV9hZG1pbl90b2tlblwiKSAvLyBBc3N1bWluZyBhZG1pbiB0b2tlbiBpcyBzdG9yZWQgbGlrZSB0aGlzXG4gICAgY29uc3Qgc3RvcmVkUm9sZSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwia3JhY2tsZV9yb2xlXCIpXG4gICAgY29uc3QgdXJsTG9iYnlDb2RlID0gc2VhcmNoUGFyYW1zLmdldChcImxvYmJ5Q29kZVwiKSAvLyBEZWZpbmUgdXJsTG9iYnlDb2RlXG5cbiAgICBpZiAoIXN0b3JlZFVzZXJuYW1lIHx8ICghc3RvcmVkTG9iYnkgJiYgIXVybExvYmJ5Q29kZSkpIHtcbiAgICAgIHRvYXN0KHtcbiAgICAgICAgdGl0bGU6IFwiU2Vzc2lvbiBleHBpcmVkXCIsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBcIlBsZWFzZSBqb2luIGEgbG9iYnkgYWdhaW5cIixcbiAgICAgICAgdmFyaWFudDogXCJkZXN0cnVjdGl2ZVwiLFxuICAgICAgfSlcbiAgICAgIHJvdXRlci5wdXNoKFwiL1wiKVxuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgc2V0VXNlcm5hbWUoc3RvcmVkVXNlcm5hbWUpXG4gICAgc2V0TG9iYnlDb2RlKHN0b3JlZExvYmJ5IHx8IHVybExvYmJ5Q29kZSlcblxuICAgIGNvbnN0IHdlYnNvY2tldFJvbGUgPSBzdG9yZWRSb2xlID09PSBcImFkbWluXCIgPyBcImxvYmJ5LWFkbWluXCIgOiBzdG9yZWRSb2xlIHx8IFwicGxheWVyXCJcbiAgICBzZXRSb2xlKHdlYnNvY2tldFJvbGUpXG5cbiAgICBpZiAoc3RvcmVkUm9sZSA9PT0gXCJhZG1pblwiKSB7XG4gICAgICBzZXRVc2VyVG9rZW4oc3RvcmVkQWRtaW5Ub2tlbikgLy8gVXNlIHN0b3JlZEFkbWluVG9rZW5cbiAgICB9IGVsc2UgaWYgKHN0b3JlZFJvbGUgPT09IFwicGxheWVyXCIpIHtcbiAgICAgIHNldFVzZXJUb2tlbihzdG9yZWRUb2tlbilcbiAgICB9IGVsc2Uge1xuICAgICAgdG9hc3Qoe1xuICAgICAgICB0aXRsZTogXCJJbnZhbGlkIHNlc3Npb25cIixcbiAgICAgICAgZGVzY3JpcHRpb246IFwiTWlzc2luZyBhdXRoZW50aWNhdGlvbiB0b2tlblwiLFxuICAgICAgICB2YXJpYW50OiBcImRlc3RydWN0aXZlXCIsXG4gICAgICB9KVxuICAgICAgcm91dGVyLnB1c2goXCIvXCIpXG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBpZiAoc3RvcmVkUm9sZSA9PT0gXCJhZG1pblwiKSB7XG4gICAgICByZXF1ZXN0TmV3VmlkZW8oKVxuICAgIH1cblxuICAgIGlmICghZmFjZUFwaUxvYWRlZCB8fCBtb2RlbHNMb2FkZWQpIHJldHVybjtcblxuICAgIGNvbnN0IGxvYWRNb2RlbHMgPSBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBNT0RFTF9VUkwgPSAnL21vZGVscyc7XG4gICAgICBpZiAoIXdpbmRvdy5mYWNlYXBpKSB7XG4gICAgICAgIHRvYXN0KHsgdGl0bGU6IFwiRmFjZUFQSSBOb3QgUmVhZHlcIiwgZGVzY3JpcHRpb246IFwiQ2Fubm90IGxvYWQgbW9kZWxzIHlldC5cIiwgdmFyaWFudDogXCJ3YXJuaW5nXCIgfSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRyeSB7XG4gICAgICAgIHRvYXN0KHsgdGl0bGU6IFwiTG9hZGluZyBGYWNlIE1vZGVsc1wiLCBkZXNjcmlwdGlvbjogXCJQbGVhc2Ugd2FpdC4uLlwiIH0pO1xuICAgICAgICBhd2FpdCB3aW5kb3cuZmFjZWFwaS5uZXRzLnRpbnlGYWNlRGV0ZWN0b3IubG9hZEZyb21VcmkoTU9ERUxfVVJMKTtcbiAgICAgICAgc2V0TW9kZWxzTG9hZGVkKHRydWUpO1xuICAgICAgICBzZXRGYWNlQXBpTG9hZGVkKHRydWUpO1xuICAgICAgICB0b2FzdCh7IHRpdGxlOiBcIkZhY2UgTW9kZWxzIExvYWRlZFwiLCBkZXNjcmlwdGlvbjogXCJSZWFkeSBmb3IgZmFjZSBkZXRlY3Rpb24uXCIgfSk7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgbG9hZGluZyBmYWNlIGRldGVjdGlvbiBtb2RlbHM6XCIsIGVycm9yKTtcbiAgICAgICAgdG9hc3Qoe1xuICAgICAgICAgIHRpdGxlOiBcIk1vZGVsIExvYWQgRXJyb3JcIixcbiAgICAgICAgICBkZXNjcmlwdGlvbjogXCJDb3VsZCBub3QgbG9hZCBmYWNlIGRldGVjdGlvbiBtb2RlbHMuXCIsXG4gICAgICAgICAgdmFyaWFudDogXCJkZXN0cnVjdGl2ZVwiLFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9O1xuICAgIGxvYWRNb2RlbHMoKTtcbiAgfSwgW3JvdXRlciwgc2VhcmNoUGFyYW1zLCB0b2FzdCwgZmFjZUFwaUxvYWRlZCwgbW9kZWxzTG9hZGVkXSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBpbml0V2ViY2FtID0gYXN5bmMgKCkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3Qgc3RyZWFtID0gYXdhaXQgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEoeyB2aWRlbzogdHJ1ZSB9KTtcbiAgICAgICAgaWYgKHZpZGVvRWxlbWVudFJlZi5jdXJyZW50KSB7XG4gICAgICAgICAgdmlkZW9FbGVtZW50UmVmLmN1cnJlbnQuc3JjT2JqZWN0ID0gc3RyZWFtO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGFjY2Vzc2luZyB3ZWJjYW06XCIsIGVycik7XG4gICAgICAgIHRvYXN0KHtcbiAgICAgICAgICB0aXRsZTogXCJXZWJjYW0gRXJyb3JcIixcbiAgICAgICAgICBkZXNjcmlwdGlvbjogXCJDb3VsZCBub3QgYWNjZXNzIHdlYmNhbS4gUGxlYXNlIGNoZWNrIHBlcm1pc3Npb25zLlwiLFxuICAgICAgICAgIHZhcmlhbnQ6IFwiZGVzdHJ1Y3RpdmVcIixcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfTtcbiAgICBpbml0V2ViY2FtKCk7XG4gICAgLy8gQ2xlYW51cCBmdW5jdGlvbiB0byBzdG9wIHdlYmNhbSB0cmFja3Mgd2hlbiBjb21wb25lbnQgdW5tb3VudHNcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgaWYgKHZpZGVvRWxlbWVudFJlZi5jdXJyZW50ICYmIHZpZGVvRWxlbWVudFJlZi5jdXJyZW50LnNyY09iamVjdCkge1xuICAgICAgICBjb25zdCBzdHJlYW0gPSB2aWRlb0VsZW1lbnRSZWYuY3VycmVudC5zcmNPYmplY3Q7XG4gICAgICAgIGNvbnN0IHRyYWNrcyA9IHN0cmVhbS5nZXRUcmFja3MoKTtcbiAgICAgICAgdHJhY2tzLmZvckVhY2godHJhY2sgPT4gdHJhY2suc3RvcCgpKTtcbiAgICAgICAgdmlkZW9FbGVtZW50UmVmLmN1cnJlbnQuc3JjT2JqZWN0ID0gbnVsbDtcbiAgICAgIH1cbiAgICB9O1xuICB9LCBbdG9hc3RdKTtcblxuICBjb25zdCByZXF1ZXN0TmV3VmlkZW8gPSBhc3luYyAoKSA9PiB7XG4gICAgc2V0SXNMb2FkaW5nVmlkZW8odHJ1ZSlcbiAgICB0cnkge1xuICAgICAgaWYgKGlzQ29ubmVjdGVkICYmIHNlbmRNZXNzYWdlKSB7XG4gICAgICAgIHNlbmRNZXNzYWdlKEpTT04uc3RyaW5naWZ5KHsgdHlwZTogXCJuZXdfZ2FtZV92aWRlb1wiIH0pKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdG9hc3Qoe1xuICAgICAgICAgIHRpdGxlOiBcIkNvbm5lY3Rpb24gZXJyb3JcIixcbiAgICAgICAgICBkZXNjcmlwdGlvbjogXCJOb3QgY29ubmVjdGVkIHRvIHNlcnZlciB0byByZXF1ZXN0IHZpZGVvLlwiLFxuICAgICAgICAgIHZhcmlhbnQ6IFwiZGVzdHJ1Y3RpdmVcIixcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgdG9hc3Qoe1xuICAgICAgICB0aXRsZTogXCJDb25uZWN0aW9uIGVycm9yXCIsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBcIkNvdWxkIG5vdCBjb25uZWN0IHRvIHRoZSBnYW1lIHNlcnZlci5cIixcbiAgICAgICAgdmFyaWFudDogXCJkZXN0cnVjdGl2ZVwiLFxuICAgICAgfSlcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBmZXRjaGluZyB2aWRlbzpcIiwgZXJyb3IpXG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldElzTG9hZGluZ1ZpZGVvKGZhbHNlKVxuICAgIH1cbiAgfVxuXG4gIGNvbnN0IGdldFlvdVR1YmVWaWRlb0lkID0gKHVybCkgPT4ge1xuICAgIGlmICghdXJsKSByZXR1cm4gbnVsbFxuICAgIGNvbnN0IHJlZ0V4cCA9IC9eLiooeW91dHUuYmVcXC98dlxcL3x1XFwvXFx3XFwvfGVtYmVkXFwvfHNob3J0c1xcL3x3YXRjaFxcP3Y9fCZ2PSkoW14jJj9dKikuKi9cbiAgICBjb25zdCBtYXRjaCA9IHVybC5tYXRjaChyZWdFeHApXG4gICAgcmV0dXJuIG1hdGNoICYmIG1hdGNoWzJdLmxlbmd0aCA9PT0gMTEgPyBtYXRjaFsyXSA6IG51bGxcbiAgfVxuXG4gIGNvbnN0IGxvYWRfdmlkZW9fZnJvbV91cmwgPSAodmlkZW9fdXJsX2Zyb21fd3MpID0+IHtcbiAgICBpZiAoIXZpZGVvX3VybF9mcm9tX3dzIHx8ICF2aWRlb0NvbnRhaW5lclJlZi5jdXJyZW50KSB7XG4gICAgICBjb25zb2xlLndhcm4oXCJObyB2aWRlbyBVUkwgcHJvdmlkZWQgb3IgY29udGFpbmVyIG5vdCBmb3VuZFwiKVxuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIHNldFZpZGVvVXJsKHZpZGVvX3VybF9mcm9tX3dzKTsgLy8gVXBkYXRlIHRoZSB2aWRlb1VybCBzdGF0ZVxuXG4gICAgY29uc3QgY29udGFpbmVyID0gdmlkZW9Db250YWluZXJSZWYuY3VycmVudFxuICAgIGNvbnRhaW5lci5pbm5lckhUTUwgPSBcIlwiXG5cbiAgICBjb25zdCBsb2FkaW5nT3ZlcmxheSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIilcbiAgICBsb2FkaW5nT3ZlcmxheS5jbGFzc05hbWUgPVxuICAgICAgXCJhYnNvbHV0ZSBpbnNldC0wIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIGJnLWdyYWRpZW50LXRvLWJyIGZyb20tcHVycGxlLTkwMC81MCB0by1waW5rLTkwMC81MCBiYWNrZHJvcC1ibHVyLXNtIHotMTAgdHJhbnNpdGlvbi1vcGFjaXR5IGR1cmF0aW9uLTUwMFwiXG4gICAgbG9hZGluZ092ZXJsYXkuaW5uZXJIVE1MID0gYFxuICAgICAgPGRpdiBjbGFzcz1cInRleHQtY2VudGVyXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJ3LTE2IGgtMTYgYm9yZGVyLTQgYm9yZGVyLXdoaXRlLzIwIGJvcmRlci10LXdoaXRlIHJvdW5kZWQtZnVsbCBhbmltYXRlLXNwaW4gbXgtYXV0byBtYi00XCI+PC9kaXY+XG4gICAgICAgIDxwIGNsYXNzPVwidGV4dC13aGl0ZSB0ZXh0LWxnIGZvbnQtbWVkaXVtXCI+TG9hZGluZyB2aWRlby4uLjwvcD5cbiAgICAgIDwvZGl2PlxuICAgIGBcbiAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQobG9hZGluZ092ZXJsYXkpXG5cbiAgICBjb25zdCB2aWRlb0lkID0gZ2V0WW91VHViZVZpZGVvSWQodmlkZW9fdXJsX2Zyb21fd3MpXG5cbiAgICBpZiAodmlkZW9JZCkge1xuICAgICAgY29uc3QgaWZyYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlmcmFtZVwiKVxuICAgICAgaWZyYW1lLmNsYXNzTmFtZSA9IFwiYWJzb2x1dGUgaW5zZXQtMCB3LWZ1bGwgaC1mdWxsXCJcbiAgICAgIGlmcmFtZS5zcmMgPSBgaHR0cHM6Ly93d3cueW91dHViZS5jb20vZW1iZWQvJHt2aWRlb0lkfT9hdXRvcGxheT0xJmNvbnRyb2xzPTAmZGlzYWJsZWtiPTEmZnM9MCZtb2Rlc3RicmFuZGluZz0xJnJlbD0wJnNob3dpbmZvPTAmaXZfbG9hZF9wb2xpY3k9MyZlbmFibGVqc2FwaT0xJnBsYXlzaW5saW5lPTEmbXV0ZT0wYFxuICAgICAgaWZyYW1lLnRpdGxlID0gXCJHYW1lIFZpZGVvIFBsYXllclwiXG4gICAgICBpZnJhbWUuZnJhbWVCb3JkZXIgPSBcIjBcIlxuICAgICAgaWZyYW1lLmFsbG93ID0gXCJhY2NlbGVyb21ldGVyOyBhdXRvcGxheTsgY2xpcGJvYXJkLXdyaXRlOyBlbmNyeXB0ZWQtbWVkaWE7IGd5cm9zY29wZTsgcGljdHVyZS1pbi1waWN0dXJlXCJcbiAgICAgIGlmcmFtZS5hbGxvd0Z1bGxzY3JlZW4gPSBmYWxzZVxuICAgICAgaWZyYW1lLnN0eWxlLnBvaW50ZXJFdmVudHMgPSBcIm5vbmVcIlxuXG4gICAgICBpZnJhbWUub25sb2FkID0gKCkgPT4ge1xuICAgICAgICBsb2FkaW5nT3ZlcmxheS5zdHlsZS5vcGFjaXR5ID0gXCIwXCJcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgaWYgKGxvYWRpbmdPdmVybGF5LnBhcmVudE5vZGUpIHtcbiAgICAgICAgICAgIGxvYWRpbmdPdmVybGF5LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobG9hZGluZ092ZXJsYXkpXG4gICAgICAgICAgfVxuICAgICAgICB9LCA1MDApXG4gICAgICAgIHRvYXN0KHsgdGl0bGU6IFwiWW91VHViZSBWaWRlbyBMb2FkZWRcIiwgZGVzY3JpcHRpb246IFwiUGxheWJhY2sgc3RhcnRlZC5cIiB9KTtcbiAgICAgIH1cbiAgICAgIGlmcmFtZS5vbmVycm9yID0gKCkgPT4ge1xuICAgICAgICBoYW5kbGVWaWRlb0Vycm9yKFwiRmFpbGVkIHRvIGxvYWQgWW91VHViZSB2aWRlb1wiKVxuICAgICAgfVxuICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGlmcmFtZSlcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgdmlkZW8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidmlkZW9cIilcbiAgICAgIHZpZGVvLmNsYXNzTmFtZSA9IFwidy1mdWxsIGgtZnVsbCBvYmplY3QtY292ZXIgcm91bmRlZC14bFwiXG4gICAgICB2aWRlby5zcmMgPSB2aWRlb191cmxfZnJvbV93c1xuICAgICAgdmlkZW8uYXV0b3BsYXkgPSB0cnVlXG4gICAgICB2aWRlby5tdXRlZCA9IHRydWUgXG4gICAgICB2aWRlby5wbGF5c0lubGluZSA9IHRydWVcbiAgICAgIHZpZGVvLmxvb3AgPSBmYWxzZVxuICAgICAgdmlkZW8ucHJlbG9hZCA9IFwiYXV0b1wiXG4gICAgICB2aWRlby5jb250cm9scyA9IGZhbHNlXG4gICAgICB2aWRlby5zdHlsZS5wb2ludGVyRXZlbnRzID0gXCJub25lXCJcblxuICAgICAgdmlkZW8ub25sb2FkZWRkYXRhID0gKCkgPT4ge1xuICAgICAgICBsb2FkaW5nT3ZlcmxheS5zdHlsZS5vcGFjaXR5ID0gXCIwXCJcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgaWYgKGxvYWRpbmdPdmVybGF5LnBhcmVudE5vZGUpIHtcbiAgICAgICAgICAgIGxvYWRpbmdPdmVybGF5LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobG9hZGluZ092ZXJsYXkpXG4gICAgICAgICAgfVxuICAgICAgICB9LCA1MDApXG4gICAgICAgIHRvYXN0KHsgdGl0bGU6IFwiVmlkZW8gRmlsZSBMb2FkZWRcIiwgZGVzY3JpcHRpb246IFwiUGxheWJhY2sgc3RhcnRlZC5cIiB9KTtcbiAgICAgIH1cbiAgICAgIHZpZGVvLm9uZXJyb3IgPSAoKSA9PiB7XG4gICAgICAgIGhhbmRsZVZpZGVvRXJyb3IoXCJGYWlsZWQgdG8gbG9hZCB2aWRlbyBmaWxlXCIpXG4gICAgICB9XG4gICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQodmlkZW8pXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaGFuZGxlVmlkZW9FcnJvcihlcnJvck1lc3NhZ2UpIHtcbiAgICAgIGlmIChsb2FkaW5nT3ZlcmxheS5wYXJlbnROb2RlKSB7XG4gICAgICAgICBsb2FkaW5nT3ZlcmxheS5pbm5lckhUTUwgPSBgXG4gICAgICAgIDxkaXYgY2xhc3M9XCJ0ZXh0LWNlbnRlclwiPlxuICAgICAgICAgIDxwIGNsYXNzPVwidGV4dC1yZWQtNDAwIHRleHQtbGcgZm9udC1tZWRpdW0gbWItMlwiPlZpZGVvIExvYWQgRXJyb3I8L3A+XG4gICAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LXdoaXRlLzcwIHRleHQtc21cIj4ke2Vycm9yTWVzc2FnZX08L3A+XG4gICAgICAgIDwvZGl2PlxuICAgICAgYFxuICAgICAgfVxuICAgICAgdG9hc3QoeyB0aXRsZTogXCJWaWRlbyBFcnJvclwiLCBkZXNjcmlwdGlvbjogZXJyb3JNZXNzYWdlLCB2YXJpYW50OiBcImRlc3RydWN0aXZlXCIgfSlcbiAgICB9XG4gIH1cblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICh2aWRlb191cmwpIHtcbiAgICAgIGxvYWRfdmlkZW9fZnJvbV91cmwodmlkZW9fdXJsKTtcbiAgICB9XG4gIH0sIFt2aWRlb191cmxdKTtcblxuICBhc3luYyBmdW5jdGlvbiBkZXRlY3RBbmRTZW5kRmFjZSgpIHtcbiAgICBjb25zdCBjdXJyZW50VmlkZW9FbGVtZW50ID0gdmlkZW9FbGVtZW50UmVmLmN1cnJlbnQ7XG4gICAgaWYgKCFjdXJyZW50VmlkZW9FbGVtZW50IHx8IGN1cnJlbnRWaWRlb0VsZW1lbnQucGF1c2VkIHx8IGN1cnJlbnRWaWRlb0VsZW1lbnQucmVhZHlTdGF0ZSA8IDMpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoIXdpbmRvdy5mYWNlYXBpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IG9wdGlvbnMgPSBuZXcgd2luZG93LmZhY2VhcGkuVGlueUZhY2VEZXRlY3Rvck9wdGlvbnMoe1xuICAgICAgICBpbnB1dFNpemU6IDIyNCxcbiAgICAgICAgc2NvcmVUaHJlc2hvbGQ6IDAuNSxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCBkZXRlY3Rpb25zID0gYXdhaXQgd2luZG93LmZhY2VhcGkuZGV0ZWN0QWxsRmFjZXMoY3VycmVudFZpZGVvRWxlbWVudCwgb3B0aW9ucyk7XG5cbiAgICAgIGlmIChkZXRlY3Rpb25zLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmIChkZXRlY3Rpb25zLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgLy8gdG9hc3QoeyB0aXRsZTogXCJNdWx0aXBsZSBmYWNlcyBkZXRlY3RlZFwiLCBkZXNjcmlwdGlvbjogXCJQbGVhc2UgZW5zdXJlIG9ubHkgb25lIHBlcnNvbiBpcyB2aXNpYmxlLlwiLCB2YXJpYW50OiBcIndhcm5pbmdcIiB9KTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBkZXRlY3Rpb24gPSBkZXRlY3Rpb25zWzBdO1xuICAgICAgY29uc3QgYm94ID0gZGV0ZWN0aW9uLmRldGVjdGlvbiA/IGRldGVjdGlvbi5kZXRlY3Rpb24uYm94IDogZGV0ZWN0aW9uLmJveDtcblxuICAgICAgaWYgKCFib3gpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBjb25zdCB0ZW1wQ2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKTtcbiAgICAgIGNvbnN0IHRlbXBDb250ZXh0ID0gdGVtcENhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7XG5cbiAgICAgIGNvbnN0IHBhZGRpbmcgPSAwLjE7XG4gICAgICBjb25zdCBwYWRkZWRXaWR0aCA9IGJveC53aWR0aCAqICgxICsgcGFkZGluZyAqIDIpO1xuICAgICAgY29uc3QgcGFkZGVkSGVpZ2h0ID0gYm94LmhlaWdodCAqICgxICsgcGFkZGluZyAqIDIpO1xuICAgICAgY29uc3QgcGFkZGVkWCA9IGJveC54IC0gYm94LndpZHRoICogcGFkZGluZztcbiAgICAgIGNvbnN0IHBhZGRlZFkgPSBib3gueSAtIGJveC5oZWlnaHQgKiBwYWRkaW5nO1xuXG4gICAgICBjb25zdCBjcm9wWCA9IE1hdGgubWF4KDAsIHBhZGRlZFgpO1xuICAgICAgY29uc3QgY3JvcFkgPSBNYXRoLm1heCgwLCBwYWRkZWRZKTtcbiAgICAgIGNvbnN0IGNyb3BXaWR0aCA9IE1hdGgubWluKHBhZGRlZFdpZHRoLCBjdXJyZW50VmlkZW9FbGVtZW50LnZpZGVvV2lkdGggLSBjcm9wWCk7XG4gICAgICBjb25zdCBjcm9wSGVpZ2h0ID0gTWF0aC5taW4ocGFkZGVkSGVpZ2h0LCBjdXJyZW50VmlkZW9FbGVtZW50LnZpZGVvSGVpZ2h0IC0gY3JvcFkpO1xuICAgICAgXG4gICAgICBpZiAoY3JvcFdpZHRoIDw9IDAgfHwgY3JvcEhlaWdodCA8PSAwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdGVtcENhbnZhcy53aWR0aCA9IGNyb3BXaWR0aDtcbiAgICAgIHRlbXBDYW52YXMuaGVpZ2h0ID0gY3JvcEhlaWdodDtcblxuICAgICAgdGVtcENvbnRleHQuZHJhd0ltYWdlKFxuICAgICAgICBjdXJyZW50VmlkZW9FbGVtZW50LFxuICAgICAgICBjcm9wWCxcbiAgICAgICAgY3JvcFksXG4gICAgICAgIGNyb3BXaWR0aCxcbiAgICAgICAgY3JvcEhlaWdodCxcbiAgICAgICAgMCxcbiAgICAgICAgMCxcbiAgICAgICAgY3JvcFdpZHRoLFxuICAgICAgICBjcm9wSGVpZ2h0XG4gICAgICApO1xuXG4gICAgICBjb25zdCBpbWFnZURhdGFVcmwgPSB0ZW1wQ2FudmFzLnRvRGF0YVVSTChcImltYWdlL2pwZWdcIiwgMC43KTtcbiAgICAgIGNvbnN0IGJhc2U2NERhdGEgPSBpbWFnZURhdGFVcmwuc3BsaXQoXCIsXCIpWzFdO1xuXG4gICAgICBcbiAgICAgIGlmIChzZW5kTWVzc2FnZSkge1xuICAgICAgICBzZW5kTWVzc2FnZShcInVwbG9hZF9pbWFnZVwiLCBiYXNlNjREYXRhKTtcbiAgICAgIH1cblxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiRmFjZSBjcm9wIGFuZCBzZW5kIGVycm9yOlwiLCBlcnJvcik7XG4gICAgICAvLyB0b2FzdCh7XG4gICAgICAvLyAgIHRpdGxlOiBcIkZhY2UgRGV0ZWN0aW9uIEVycm9yXCIsXG4gICAgICAvLyAgIGRlc2NyaXB0aW9uOiBgRmFpbGVkIHRvIGNyb3AgYW5kIHNlbmQgZmFjZTogJHtlcnJvci5tZXNzYWdlfWAsXG4gICAgICAvLyAgIHZhcmlhbnQ6IFwiZGVzdHJ1Y3RpdmVcIixcbiAgICAgIC8vIH0pO1xuICAgIH1cbiAgfVxuXG4gIC8vIFJlbmFtZWQgdG8gYXZvaWQgY29uZmxpY3Qgd2l0aCBkZXRlY3RBbmRTZW5kRmFjZSB3aGljaCBpcyBhc3luY1xuICBmdW5jdGlvbiB0cmlnZ2VyRmFjZUltYWdlU2VuZCgpIHsgXG4gICAgaWYgKCFpc0Nvbm5lY3RlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBjdXJyZW50VmlkZW9FbGVtZW50ID0gdmlkZW9FbGVtZW50UmVmLmN1cnJlbnQ7XG4gICAgaWYgKCFjdXJyZW50VmlkZW9FbGVtZW50IHx8IGN1cnJlbnRWaWRlb0VsZW1lbnQucGF1c2VkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICghbW9kZWxzTG9hZGVkIHx8ICFmYWNlQXBpTG9hZGVkKSB7IC8vIENoZWNrIGJvdGggZmxhZ3NcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZGV0ZWN0QW5kU2VuZEZhY2UoKTsgLy8gQ2FsbCB0aGUgYXN5bmMgZnVuY3Rpb25cbiAgfVxuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgbGV0IGludGVydmFsSWQ7XG4gICAgaWYgKGlzQ29ubmVjdGVkICYmIG1vZGVsc0xvYWRlZCAmJiBmYWNlQXBpTG9hZGVkKSB7XG4gICAgICBpbnRlcnZhbElkID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgICB0cmlnZ2VyRmFjZUltYWdlU2VuZCgpOyAvLyBVc2UgdGhlIHJlbmFtZWQgd3JhcHBlciBmdW5jdGlvblxuICAgICAgfSwgNTAwKTtcbiAgICB9XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGlmIChpbnRlcnZhbElkKSB7XG4gICAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWxJZCk7XG4gICAgICB9XG4gICAgfTtcbiAgfSwgW2lzQ29ubmVjdGVkLCBtb2RlbHNMb2FkZWQsIGZhY2VBcGlMb2FkZWQsIGxvYmJ5Q29kZSwgdXNlcm5hbWUsIHNlbmRNZXNzYWdlXSk7IC8vIEFkZGVkIHJlbGV2YW50IGRlcGVuZGVuY2llc1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGlmICh2aWRlb0NvbnRhaW5lclJlZi5jdXJyZW50Py5fY2xlYW51cCkge1xuICAgICAgICB2aWRlb0NvbnRhaW5lclJlZi5jdXJyZW50Ll9jbGVhbnVwKClcbiAgICAgIH1cbiAgICB9XG4gIH0sIFtdKVxuXG4gIGNvbnN0IGhhbmRsZUxlYXZlR2FtZSA9ICgpID0+IHtcbiAgICBkaXNjb25uZWN0KClcbiAgICByb3V0ZXIucHVzaChcIi9sb2JieVwiKVxuICB9XG5cbiAgaWYgKGNvbm5lY3Rpb25FcnJvcikge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1pbi1oLXNjcmVlbiBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBiZy1ncmFkaWVudC10by1iciBmcm9tLXB1cnBsZS02MDAgdmlhLXBpbmstNjAwIHRvLWJsdWUtNjAwIHAtNFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLXdoaXRlLzk1IGJhY2tkcm9wLWJsdXIteGwgcm91bmRlZC0zeGwgcC04IHRleHQtY2VudGVyXCI+XG4gICAgICAgICAgPGgyIGNsYXNzTmFtZT1cInRleHQtMnhsIGZvbnQtYm9sZCB0ZXh0LXJlZC02MDAgbWItNFwiPkNvbm5lY3Rpb24gRXJyb3I8L2gyPlxuICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtZ3JheS03MDAgbWItNFwiPntjb25uZWN0aW9uRXJyb3J9PC9wPlxuICAgICAgICAgIDxCdXR0b24gb25DbGljaz17KCkgPT4gcm91dGVyLnB1c2goXCIvbG9iYnlcIil9IGNsYXNzTmFtZT1cImJnLXB1cnBsZS02MDAgaG92ZXI6YmctcHVycGxlLTcwMFwiPlxuICAgICAgICAgICAgUmV0dXJuIHRvIExvYmJ5XG4gICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cIm1pbi1oLXNjcmVlbiBmbGV4IGZsZXgtY29sIGJnLWdyYWRpZW50LXRvLWJyIGZyb20tcHVycGxlLTYwMCB2aWEtcGluay02MDAgdG8tYmx1ZS02MDBcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXIgcHktNFwiPlxuICAgICAgICA8aDEgY2xhc3NOYW1lPVwidGV4dC13aGl0ZSB0ZXh0LTR4bCBmb250LWJvbGQgdHJhY2tpbmctd2lkZVwiPlxuICAgICAgICAgIEtSQUNLTEU8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXllbGxvdy0zMDBcIj4uQ088L3NwYW4+XG4gICAgICAgIDwvaDE+XG4gICAgICAgIDxoMiBjbGFzc05hbWU9XCJ0ZXh0LXdoaXRlIHRleHQteGwgbXQtMVwiPkdhbWU6IHtsb2JieUNvZGV9PC9oMj5cbiAgICAgIDwvZGl2PlxuXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgbWQ6ZmxleC1yb3cgZmxleC0xIHAtNCBnYXAtNFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctZnVsbCBtZDp3LTY0IGJnLXdoaXRlLzEwIGJhY2tkcm9wLWJsdXItbWQgcm91bmRlZC14bCBwLTRcIj5cbiAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwidGV4dC13aGl0ZSB0ZXh0LXhsIGZvbnQtYm9sZCBtYi00IGZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XG4gICAgICAgICAgICA8VXNlcnMgY2xhc3NOYW1lPVwidy01IGgtNVwiIC8+IFBsYXllcnNcbiAgICAgICAgICA8L2gzPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0yIG1heC1oLVs2MHZoXSBvdmVyZmxvdy15LWF1dG9cIj5cbiAgICAgICAgICAgIHtwbGF5ZXJzLmxlbmd0aCA+IDAgPyAoXG4gICAgICAgICAgICAgIHBsYXllcnMubWFwKChwbGF5ZXIsIGluZGV4KSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgaXNWZXJpZmllZCA9IHZlcmlmaWVkUGxheWVycy5pbmNsdWRlcyhwbGF5ZXIpIC8vIFJFVkVSVEVEOiBDaGVjayBkaXJlY3RseSBhZ2FpbnN0IHBsYXllciBzdHJpbmdcblxuICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgIGtleT17aW5kZXh9IFxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2BwLTMgcm91bmRlZC1sZyAke1xuICAgICAgICAgICAgICAgICAgICAgIGlzVmVyaWZpZWRcbiAgICAgICAgICAgICAgICAgICAgICAgID8gXCJiZy1ncmFkaWVudC10by1yIGZyb20tZ3JlZW4tMjAwLzgwIHRvLWdyZWVuLTEwMC84MCBiYWNrZHJvcC1ibHVyLW1kXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIDogXCJiZy1ncmF5LTIwMC84MCBiYWNrZHJvcC1ibHVyLW1kXCJcbiAgICAgICAgICAgICAgICAgICAgfSBmbGV4IGl0ZW1zLWNlbnRlcmB9XG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2BoLTggdy04IHJvdW5kZWQtZnVsbCAke1xuICAgICAgICAgICAgICAgICAgICAgICAgaXNWZXJpZmllZCA/IFwiYmctZ3JhZGllbnQtdG8tciBmcm9tLWdyZWVuLTUwMCB0by1lbWVyYWxkLTUwMFwiIDogXCJiZy1ncmF5LTUwMFwiXG4gICAgICAgICAgICAgICAgICAgICAgfSB0ZXh0LXdoaXRlIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIG1yLTNgfVxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAge3BsYXllci5jaGFyQXQoMCkudG9VcHBlckNhc2UoKX0gXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJmb250LW1lZGl1bVwiPlxuICAgICAgICAgICAgICAgICAgICAgIHtwbGF5ZXJ9IHtwbGF5ZXIgPT09IHVzZXJuYW1lICYmIFwiKFlvdSlcIn0gXG4gICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgey8qIFJFVkVSVEVEOiBPcmlnaW5hbCBhZG1pbiBjaGVjayAoZmlyc3QgcGxheWVyKSAqL31cbiAgICAgICAgICAgICAgICAgICAge2luZGV4ID09PSAwICYmIDxDcm93biBjbGFzc05hbWU9XCJ3LTQgaC00IHRleHQteWVsbG93LTUwMCBtbC0yXCIgLz59XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtY2VudGVyIHB5LTQgdGV4dC13aGl0ZVwiPlxuICAgICAgICAgICAgICAgIDxMb2FkZXIyIGNsYXNzTmFtZT1cInctNiBoLTYgYW5pbWF0ZS1zcGluIG14LWF1dG8gbWItMlwiIC8+XG4gICAgICAgICAgICAgICAgPHA+TG9hZGluZyBwbGF5ZXJzLi4uPC9wPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC0xIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LVs0MDBweF0gYmctd2hpdGUgcm91bmRlZC14bCBwLTQgaC1bNjAwcHhdIGZsZXggZmxleC1jb2xcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWJldHdlZW4gaXRlbXMtY2VudGVyIG1iLTRcIj5cbiAgICAgICAgICAgICAgPGgzIGNsYXNzTmFtZT1cInRleHQtMnhsIGZvbnQtYm9sZFwiPkdhbWUgVmlkZW88L2gzPlxuICAgICAgICAgICAgICB7cm9sZSA9PT0gXCJsb2JieS1hZG1pblwiICYmIChcbiAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICBvbkNsaWNrPXtyZXF1ZXN0TmV3VmlkZW99XG4gICAgICAgICAgICAgICAgICBkaXNhYmxlZD17aXNMb2FkaW5nVmlkZW99XG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJiZy1wdXJwbGUtNjAwIGhvdmVyOmJnLXB1cnBsZS03MDAgdGV4dC13aGl0ZVwiXG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAge2lzTG9hZGluZ1ZpZGVvID8gKFxuICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgIDxMb2FkZXIyIGNsYXNzTmFtZT1cInctNCBoLTQgbXItMiBhbmltYXRlLXNwaW5cIiAvPlxuICAgICAgICAgICAgICAgICAgICAgIExvYWRpbmcuLi5cbiAgICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgIDxSZWZyZXNoQ3cgY2xhc3NOYW1lPVwidy00IGgtNCBtci0yXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICBOZXcgVmlkZW9cbiAgICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC0xIHJlbGF0aXZlIHctZnVsbCByb3VuZGVkLWxnIG92ZXJmbG93LWhpZGRlbiBiZy1ibGFja1wiIHJlZj17dmlkZW9Db250YWluZXJSZWZ9PlxuICAgICAgICAgICAgICB7IXZpZGVvX3VybCAmJiAhdmlkZW9VcmwgJiYgKFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWJzb2x1dGUgaW5zZXQtMCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICA8UGxheSBjbGFzc05hbWU9XCJ3LTEyIGgtMTIgbXgtYXV0byBtYi00IHRleHQtZ3JheS01MDBcIiAvPlxuICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNTAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAge3JvbGUgPT09IFwibG9iYnktYWRtaW5cIlxuICAgICAgICAgICAgICAgICAgICAgICAgPyBcIkNsaWNrICdOZXcgVmlkZW8nIHRvIHN0YXJ0IHRoZSBnYW1lXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIDogXCJXYWl0aW5nIGZvciB0aGUgaG9zdCB0byBzdGFydCBhIHZpZGVvLi4uXCJ9XG4gICAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtNCBmbGV4IGp1c3RpZnktY2VudGVyXCI+XG4gICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJiZy1yZWQtNDAwIGhvdmVyOmJnLXJlZC01MDAgdGV4dC13aGl0ZSByb3VuZGVkLWZ1bGwgcHgtNiBweS0yIHRleHQtbGcgZm9udC1ib2xkXCJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVMZWF2ZUdhbWV9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8TG9nT3V0IGNsYXNzTmFtZT1cInctNSBoLTUgbXItMlwiIC8+XG4gICAgICAgICAgICAgICAgTEVBVkUgR0FNRVxuICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImZpeGVkIGJvdHRvbS02IHJpZ2h0LTYgei0yMFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJlbGF0aXZlIGZsZXggZmxleC1jb2wgaXRlbXMtY2VudGVyXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyZWxhdGl2ZSB3LTggaC00MCBtYi0wXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIGluc2V0LTAgYmctd2hpdGUvMjAgYmFja2Ryb3AtYmx1ci1zbSByb3VuZGVkLWZ1bGwgYm9yZGVyIGJvcmRlci13aGl0ZS8zMFwiPjwvZGl2PlxuICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJhYnNvbHV0ZSBib3R0b20tMCBsZWZ0LTAgcmlnaHQtMCByb3VuZGVkLWZ1bGwgdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMzAwIGVhc2Utb3V0XCJcbiAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IGAke2dhbWVQcm9ncmVzc30lYCxcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiBgbGluZWFyLWdyYWRpZW50KHRvIHRvcCwgIzIyYzU1ZSwgI2VhYjMwOCwgI2VmNDQ0NClgLFxuICAgICAgICAgICAgICAgIG1hcmdpbjogXCIycHhcIixcbiAgICAgICAgICAgICAgICB3aWR0aDogXCJjYWxjKDEwMCUgLSA0cHgpXCIsXG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICA+PC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIC1yaWdodC0xMCB0b3AtMS8yIC10cmFuc2xhdGUteS0xLzJcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy1ibGFjay81MCBiYWNrZHJvcC1ibHVyLXNtIHJvdW5kZWQtbGcgcHgtMiBweS0xXCI+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC13aGl0ZSBmb250LWJvbGQgdGV4dC14c1wiPntNYXRoLnJvdW5kKGdhbWVQcm9ncmVzcyl9JTwvc3Bhbj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmVsYXRpdmVcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmVsYXRpdmUgdy0zMiBoLTMyIHJvdW5kZWQtZnVsbCBvdmVyZmxvdy1oaWRkZW4gYm9yZGVyLTQgYm9yZGVyLXdoaXRlLzMwIHNoYWRvdy14bFwiPlxuICAgICAgICAgICAgICB7LyogTU9ESUZJRUQ6IFVzZSB2aWRlb0VsZW1lbnRSZWYgZm9yIHRoZSB3ZWJjYW0gdmlkZW8gZWxlbWVudCAqL31cbiAgICAgICAgICAgICAgPHZpZGVvIHJlZj17dmlkZW9FbGVtZW50UmVmfSBpZD1cIndlYmNhbVwiIGNsYXNzTmFtZT1cImFic29sdXRlIHctZnVsbCBoLWZ1bGwgb2JqZWN0LWNvdmVyXCIgYXV0b1BsYXkgcGxheXNJbmxpbmUgbXV0ZWQ+PC92aWRlbz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSB0b3AtMSByaWdodC0xIHotMTBcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMSBiZy1ibGFjay81MCBiYWNrZHJvcC1ibHVyLXNtIHJvdW5kZWQtZnVsbCBweC0xLjUgcHktMC41XCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTEuNSBoLTEuNSBiZy1yZWQtNTAwIHJvdW5kZWQtZnVsbCBhbmltYXRlLXB1bHNlXCI+PC9kaXY+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC13aGl0ZSB0ZXh0LXhzIGZvbnQtbWVkaXVtXCI+TElWRTwvc3Bhbj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cblxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJweS00IHRleHQtY2VudGVyIHRleHQtd2hpdGUgdGV4dC14c1wiPlxuICAgICAgICBNQURFIFdJVEggTE9WRSBCWSBIQVlTT04sIE5FTFNPTiwgQU5EIEJPWUEgPHNwYW4gY2xhc3NOYW1lPVwibWwtMVwiPuKdpO+4jzwvc3Bhbj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApXG59XG4iXSwibmFtZXMiOlsidXNlRWZmZWN0IiwidXNlU3RhdGUiLCJ1c2VSZWYiLCJ1c2VSb3V0ZXIiLCJ1c2VTZWFyY2hQYXJhbXMiLCJ1c2VUb2FzdCIsIkJ1dHRvbiIsIlVzZXJzIiwiQ3Jvd24iLCJMb2FkZXIyIiwiUmVmcmVzaEN3IiwiUGxheSIsIkxvZ091dCIsInVzZVdlYlNvY2tldCIsInNldCIsIkFQSV9CQVNFX1VSTCIsIkdhbWVQYWdlIiwidXNlcm5hbWUiLCJzZXRVc2VybmFtZSIsImxvYmJ5Q29kZSIsInNldExvYmJ5Q29kZSIsInVzZXJUb2tlbiIsInNldFVzZXJUb2tlbiIsInJvbGUiLCJzZXRSb2xlIiwiaXNMb2FkaW5nVmlkZW8iLCJzZXRJc0xvYWRpbmdWaWRlbyIsInZlcmlmaWVkUGxheWVycyIsInNldFZlcmlmaWVkUGxheWVycyIsInZpZGVvVXJsIiwic2V0VmlkZW9VcmwiLCJnYW1lUHJvZ3Jlc3MiLCJzZXRHYW1lUHJvZ3Jlc3MiLCJtb2RlbHNMb2FkZWQiLCJzZXRNb2RlbHNMb2FkZWQiLCJmYWNlQXBpTG9hZGVkIiwic2V0RmFjZUFwaUxvYWRlZCIsInZpZGVvQ29udGFpbmVyUmVmIiwidmlkZW9FbGVtZW50UmVmIiwicm91dGVyIiwic2VhcmNoUGFyYW1zIiwidG9hc3QiLCJpc0Nvbm5lY3RlZCIsIm1lc3NhZ2VzIiwicGxheWVycyIsImxvYmJ5SW5mbyIsImNvbm5lY3Rpb25FcnJvciIsInZlcmlmaWVkX3VzZXJuYW1lcyIsImdhbWVfc3RhcnRlZCIsInZpZGVvX3VybCIsImxhdWdoTWV0ZXJzIiwiZGF0YSIsInNlbmRDaGF0TWVzc2FnZSIsImxlYXZlTG9iYnkiLCJraWNrUGxheWVyIiwic3RhcnRHYW1lIiwiY2xvc2VMb2JieSIsImRpc2JhbmRMb2JieSIsIm11dGVQbGF5ZXIiLCJ1bm11dGVQbGF5ZXIiLCJjaGFuZ2VTZXR0aW5ncyIsInNlbmRNZXNzYWdlIiwiZGlzY29ubmVjdCIsIndpbmRvdyIsImZhY2VhcGkiLCJzY3JpcHQiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJzcmMiLCJhc3luYyIsIm9ubG9hZCIsInRpdGxlIiwiZGVzY3JpcHRpb24iLCJvbmVycm9yIiwidmFyaWFudCIsImJvZHkiLCJhcHBlbmRDaGlsZCIsInN0b3JlZFVzZXJuYW1lIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsInN0b3JlZExvYmJ5Iiwic3RvcmVkVG9rZW4iLCJzdG9yZWRBZG1pblRva2VuIiwic3RvcmVkUm9sZSIsInVybExvYmJ5Q29kZSIsImdldCIsInB1c2giLCJ3ZWJzb2NrZXRSb2xlIiwicmVxdWVzdE5ld1ZpZGVvIiwibG9hZE1vZGVscyIsIk1PREVMX1VSTCIsIm5ldHMiLCJ0aW55RmFjZURldGVjdG9yIiwibG9hZEZyb21VcmkiLCJlcnJvciIsImNvbnNvbGUiLCJpbml0V2ViY2FtIiwic3RyZWFtIiwibmF2aWdhdG9yIiwibWVkaWFEZXZpY2VzIiwiZ2V0VXNlck1lZGlhIiwidmlkZW8iLCJjdXJyZW50Iiwic3JjT2JqZWN0IiwiZXJyIiwidHJhY2tzIiwiZ2V0VHJhY2tzIiwiZm9yRWFjaCIsInRyYWNrIiwic3RvcCIsIkpTT04iLCJzdHJpbmdpZnkiLCJ0eXBlIiwiZ2V0WW91VHViZVZpZGVvSWQiLCJ1cmwiLCJyZWdFeHAiLCJtYXRjaCIsImxlbmd0aCIsImxvYWRfdmlkZW9fZnJvbV91cmwiLCJ2aWRlb191cmxfZnJvbV93cyIsIndhcm4iLCJjb250YWluZXIiLCJpbm5lckhUTUwiLCJsb2FkaW5nT3ZlcmxheSIsImNsYXNzTmFtZSIsInZpZGVvSWQiLCJpZnJhbWUiLCJmcmFtZUJvcmRlciIsImFsbG93IiwiYWxsb3dGdWxsc2NyZWVuIiwic3R5bGUiLCJwb2ludGVyRXZlbnRzIiwib3BhY2l0eSIsInNldFRpbWVvdXQiLCJwYXJlbnROb2RlIiwicmVtb3ZlQ2hpbGQiLCJoYW5kbGVWaWRlb0Vycm9yIiwiYXV0b3BsYXkiLCJtdXRlZCIsInBsYXlzSW5saW5lIiwibG9vcCIsInByZWxvYWQiLCJjb250cm9scyIsIm9ubG9hZGVkZGF0YSIsImVycm9yTWVzc2FnZSIsImRldGVjdEFuZFNlbmRGYWNlIiwiY3VycmVudFZpZGVvRWxlbWVudCIsInBhdXNlZCIsInJlYWR5U3RhdGUiLCJvcHRpb25zIiwiVGlueUZhY2VEZXRlY3Rvck9wdGlvbnMiLCJpbnB1dFNpemUiLCJzY29yZVRocmVzaG9sZCIsImRldGVjdGlvbnMiLCJkZXRlY3RBbGxGYWNlcyIsImRldGVjdGlvbiIsImJveCIsInRlbXBDYW52YXMiLCJ0ZW1wQ29udGV4dCIsImdldENvbnRleHQiLCJwYWRkaW5nIiwicGFkZGVkV2lkdGgiLCJ3aWR0aCIsInBhZGRlZEhlaWdodCIsImhlaWdodCIsInBhZGRlZFgiLCJ4IiwicGFkZGVkWSIsInkiLCJjcm9wWCIsIk1hdGgiLCJtYXgiLCJjcm9wWSIsImNyb3BXaWR0aCIsIm1pbiIsInZpZGVvV2lkdGgiLCJjcm9wSGVpZ2h0IiwidmlkZW9IZWlnaHQiLCJkcmF3SW1hZ2UiLCJpbWFnZURhdGFVcmwiLCJ0b0RhdGFVUkwiLCJiYXNlNjREYXRhIiwic3BsaXQiLCJ0cmlnZ2VyRmFjZUltYWdlU2VuZCIsImludGVydmFsSWQiLCJzZXRJbnRlcnZhbCIsImNsZWFySW50ZXJ2YWwiLCJfY2xlYW51cCIsImhhbmRsZUxlYXZlR2FtZSIsImRpdiIsImgyIiwicCIsIm9uQ2xpY2siLCJoMSIsInNwYW4iLCJoMyIsIm1hcCIsInBsYXllciIsImluZGV4IiwiaXNWZXJpZmllZCIsImluY2x1ZGVzIiwiY2hhckF0IiwidG9VcHBlckNhc2UiLCJkaXNhYmxlZCIsInJlZiIsImJhY2tncm91bmQiLCJtYXJnaW4iLCJyb3VuZCIsImlkIiwiYXV0b1BsYXkiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./app/game/page.jsx\n"));

/***/ })

});