"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/game/page",{

/***/ "(app-pages-browser)/./app/game/page.jsx":
/*!***************************!*\
  !*** ./app/game/page.jsx ***!
  \***************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ GamePage)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_navigation__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/navigation */ \"(app-pages-browser)/./node_modules/next/dist/api/navigation.js\");\n/* harmony import */ var _components_ui_use_toast__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/components/ui/use-toast */ \"(app-pages-browser)/./components/ui/use-toast.ts\");\n/* harmony import */ var _components_ui_button__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/components/ui/button */ \"(app-pages-browser)/./components/ui/button.tsx\");\n/* harmony import */ var _barrel_optimize_names_Crown_Loader2_LogOut_Play_RefreshCw_Users_lucide_react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! __barrel_optimize__?names=Crown,Loader2,LogOut,Play,RefreshCw,Users!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/users.js\");\n/* harmony import */ var _barrel_optimize_names_Crown_Loader2_LogOut_Play_RefreshCw_Users_lucide_react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! __barrel_optimize__?names=Crown,Loader2,LogOut,Play,RefreshCw,Users!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/crown.js\");\n/* harmony import */ var _barrel_optimize_names_Crown_Loader2_LogOut_Play_RefreshCw_Users_lucide_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! __barrel_optimize__?names=Crown,Loader2,LogOut,Play,RefreshCw,Users!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/loader-circle.js\");\n/* harmony import */ var _barrel_optimize_names_Crown_Loader2_LogOut_Play_RefreshCw_Users_lucide_react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! __barrel_optimize__?names=Crown,Loader2,LogOut,Play,RefreshCw,Users!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/refresh-cw.js\");\n/* harmony import */ var _barrel_optimize_names_Crown_Loader2_LogOut_Play_RefreshCw_Users_lucide_react__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! __barrel_optimize__?names=Crown,Loader2,LogOut,Play,RefreshCw,Users!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/play.js\");\n/* harmony import */ var _barrel_optimize_names_Crown_Loader2_LogOut_Play_RefreshCw_Users_lucide_react__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! __barrel_optimize__?names=Crown,Loader2,LogOut,Play,RefreshCw,Users!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/log-out.js\");\n/* harmony import */ var _hooks_use_websocket__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/hooks/use-websocket */ \"(app-pages-browser)/./hooks/use-websocket.js\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\n\n\n\n\nconst API_BASE_URL = \"https://cd6f-202-28-7-4.ngrok-free.app\";\nfunction GamePage() {\n    _s();\n    const [username, setUsername] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [lobbyCode, setLobbyCode] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [userToken, setUserToken] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [role, setRole] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"player\");\n    const [isLoadingVideo, setIsLoadingVideo] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [verifiedPlayers, setVerifiedPlayers] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [videoUrl, setVideoUrl] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [gameProgress, setGameProgress] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const [modelsLoaded, setModelsLoaded] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [faceApiLoaded, setFaceApiLoaded] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const videoContainerRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const videoElementRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null); // Added ref for video element\n    const router = (0,next_navigation__WEBPACK_IMPORTED_MODULE_2__.useRouter)();\n    const searchParams = (0,next_navigation__WEBPACK_IMPORTED_MODULE_2__.useSearchParams)();\n    const { toast } = (0,_components_ui_use_toast__WEBPACK_IMPORTED_MODULE_3__.useToast)();\n    const { video_url, isConnected, players, connectionError, sendMessage, disconnect } = (0,_hooks_use_websocket__WEBPACK_IMPORTED_MODULE_5__.useWebSocket)(lobbyCode, username, userToken, role);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"GamePage.useEffect\": ()=>{\n            if (window.faceapi) {\n                setFaceApiLoaded(true);\n                return;\n            }\n            const script = document.createElement('script');\n            script.src = 'https://cdn.jsdelivr.net/npm/face-api.js@0.22.2/dist/face-api.min.js';\n            script.async = true;\n            script.onload = ({\n                \"GamePage.useEffect\": ()=>{\n                    setFaceApiLoaded(true);\n                // toast({ title: \"FaceAPI Script Loaded\", description: \"Face detection capabilities are now active.\" });\n                }\n            })[\"GamePage.useEffect\"];\n            script.onerror = ({\n                \"GamePage.useEffect\": ()=>{\n                    toast({\n                        title: \"FaceAPI Load Error\",\n                        description: \"Failed to load face detection script.\",\n                        variant: \"destructive\"\n                    });\n                }\n            })[\"GamePage.useEffect\"];\n            document.body.appendChild(script);\n        // No cleanup needed for CDN script that might be used by other pages\n        }\n    }[\"GamePage.useEffect\"], [\n        toast\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"GamePage.useEffect\": ()=>{\n            const storedUsername = localStorage.getItem(\"krackle_username\");\n            const storedLobby = localStorage.getItem(\"krackle_lobby\");\n            const storedToken = localStorage.getItem(\"krackle_user_token\");\n            const storedAdminToken = localStorage.getItem(\"krackle_admin_token\");\n            const storedRole = localStorage.getItem(\"krackle_role\");\n            const urlLobbyCode = searchParams.get(\"lobby_code\");\n            if (!storedUsername || !storedLobby && !urlLobbyCode) {\n                toast({\n                    title: \"Session expired\",\n                    description: \"Please join a lobby again\",\n                    variant: \"destructive\"\n                });\n                router.push(\"/\");\n                return;\n            }\n            setUsername(storedUsername);\n            setLobbyCode(storedLobby || urlLobbyCode);\n            const websocketRole = storedRole === \"admin\" ? \"lobby-admin\" : storedRole || \"player\";\n            setRole(websocketRole);\n            if (storedRole === \"admin\") {\n                setUserToken(storedAdminToken);\n            } else if (storedRole === \"player\") {\n                setUserToken(storedToken);\n            } else {\n                toast({\n                    title: \"Invalid session\",\n                    description: \"Missing authentication token\",\n                    variant: \"destructive\"\n                });\n                router.push(\"/\");\n                return;\n            }\n            if (storedRole === \"admin\") {\n                requestNewVideo();\n            }\n            if (!faceApiLoaded || modelsLoaded) return;\n            const loadModels = {\n                \"GamePage.useEffect.loadModels\": async ()=>{\n                    const MODEL_URL = '/models';\n                    if (!window.faceapi) {\n                        // toast({ title: \"FaceAPI Not Ready\", description: \"Cannot load models yet.\", variant: \"warning\" });\n                        return;\n                    }\n                    try {\n                        // toast({ title: \"Loading Face Models\", description: \"Please wait...\" });\n                        await window.faceapi.nets.tinyFaceDetector.loadFromUri(MODEL_URL);\n                        setModelsLoaded(true);\n                        toast({\n                            title: \"Face Models Loaded\",\n                            description: \"Ready for face detection.\"\n                        });\n                    } catch (error) {\n                        console.error(\"Error loading face detection models:\", error);\n                        toast({\n                            title: \"Model Load Error\",\n                            description: \"Could not load face detection models.\",\n                            variant: \"destructive\"\n                        });\n                    }\n                }\n            }[\"GamePage.useEffect.loadModels\"];\n            loadModels();\n        }\n    }[\"GamePage.useEffect\"], [\n        router,\n        searchParams,\n        toast,\n        faceApiLoaded,\n        modelsLoaded\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"GamePage.useEffect\": ()=>{\n            const initWebcam = {\n                \"GamePage.useEffect.initWebcam\": async ()=>{\n                    try {\n                        const stream = await navigator.mediaDevices.getUserMedia({\n                            video: true\n                        });\n                        if (videoElementRef.current) {\n                            videoElementRef.current.srcObject = stream;\n                        }\n                    } catch (err) {\n                        console.error(\"Error accessing webcam:\", err);\n                        toast({\n                            title: \"Webcam Error\",\n                            description: \"Could not access webcam. Please check permissions.\",\n                            variant: \"destructive\"\n                        });\n                    }\n                }\n            }[\"GamePage.useEffect.initWebcam\"];\n            initWebcam();\n            // Cleanup function to stop webcam tracks when component unmounts\n            return ({\n                \"GamePage.useEffect\": ()=>{\n                    if (videoElementRef.current && videoElementRef.current.srcObject) {\n                        const stream = videoElementRef.current.srcObject;\n                        const tracks = stream.getTracks();\n                        tracks.forEach({\n                            \"GamePage.useEffect\": (track)=>track.stop()\n                        }[\"GamePage.useEffect\"]);\n                        videoElementRef.current.srcObject = null;\n                    }\n                }\n            })[\"GamePage.useEffect\"];\n        }\n    }[\"GamePage.useEffect\"], [\n        toast\n    ]);\n    const requestNewVideo = async ()=>{\n        setIsLoadingVideo(true);\n        try {\n            if (isConnected && sendMessage) {\n                sendMessage(JSON.stringify({\n                    type: \"request_video\"\n                }));\n            } else {\n                toast({\n                    title: \"Connection error\",\n                    description: \"Not connected to server to request video.\",\n                    variant: \"destructive\"\n                });\n            }\n        } catch (error) {\n            toast({\n                title: \"Connection error\",\n                description: \"Could not connect to the game server.\",\n                variant: \"destructive\"\n            });\n            console.error(\"Error fetching video:\", error);\n        } finally{\n            setIsLoadingVideo(false);\n        }\n    };\n    const getYouTubeVideoId = (url)=>{\n        if (!url) return null;\n        const regExp = /^.*(youtu.be\\/|v\\/|u\\/\\w\\/|embed\\/|shorts\\/|watch\\?v=|&v=)([^#&?]*).*/;\n        const match = url.match(regExp);\n        return match && match[2].length === 11 ? match[2] : null;\n    };\n    const load_video_from_url = (video_url_from_ws)=>{\n        if (!video_url_from_ws || !videoContainerRef.current) {\n            console.warn(\"No video URL provided or container not found\");\n            return;\n        }\n        setVideoUrl(video_url_from_ws); // Update the videoUrl state\n        const container = videoContainerRef.current;\n        container.innerHTML = \"\";\n        const loadingOverlay = document.createElement(\"div\");\n        loadingOverlay.className = \"absolute inset-0 flex items-center justify-center bg-gradient-to-br from-purple-900/50 to-pink-900/50 backdrop-blur-sm z-10 transition-opacity duration-500\";\n        loadingOverlay.innerHTML = '\\n      <div class=\"text-center\">\\n        <div class=\"w-16 h-16 border-4 border-white/20 border-t-white rounded-full animate-spin mx-auto mb-4\"></div>\\n        <p class=\"text-white text-lg font-medium\">Loading video...</p>\\n      </div>\\n    ';\n        container.appendChild(loadingOverlay);\n        const videoId = getYouTubeVideoId(video_url_from_ws);\n        if (videoId) {\n            const iframe = document.createElement(\"iframe\");\n            iframe.className = \"absolute inset-0 w-full h-full\";\n            iframe.src = \"https://www.youtube.com/embed/\".concat(videoId, \"?autoplay=1&controls=0&disablekb=1&fs=0&modestbranding=1&rel=0&showinfo=0&iv_load_policy=3&enablejsapi=1&playsinline=1&mute=0\");\n            iframe.title = \"Game Video Player\";\n            iframe.frameBorder = \"0\";\n            iframe.allow = \"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\";\n            iframe.allowFullscreen = false;\n            iframe.style.pointerEvents = \"none\";\n            iframe.onload = ()=>{\n                loadingOverlay.style.opacity = \"0\";\n                setTimeout(()=>{\n                    if (loadingOverlay.parentNode) {\n                        loadingOverlay.parentNode.removeChild(loadingOverlay);\n                    }\n                }, 500);\n                toast({\n                    title: \"YouTube Video Loaded\",\n                    description: \"Playback started.\"\n                });\n            };\n            iframe.onerror = ()=>{\n                handleVideoError(\"Failed to load YouTube video\");\n            };\n            container.appendChild(iframe);\n        } else {\n            const video = document.createElement(\"video\");\n            video.className = \"w-full h-full object-cover rounded-xl\";\n            video.src = video_url_from_ws;\n            video.autoplay = true;\n            video.muted = true;\n            video.playsInline = true;\n            video.loop = false;\n            video.preload = \"auto\";\n            video.controls = false;\n            video.style.pointerEvents = \"none\";\n            video.onloadeddata = ()=>{\n                loadingOverlay.style.opacity = \"0\";\n                setTimeout(()=>{\n                    if (loadingOverlay.parentNode) {\n                        loadingOverlay.parentNode.removeChild(loadingOverlay);\n                    }\n                }, 500);\n                toast({\n                    title: \"Video File Loaded\",\n                    description: \"Playback started.\"\n                });\n            };\n            video.onerror = ()=>{\n                handleVideoError(\"Failed to load video file\");\n            };\n            container.appendChild(video);\n        }\n        function handleVideoError(errorMessage) {\n            if (loadingOverlay.parentNode) {\n                loadingOverlay.innerHTML = '\\n        <div class=\"text-center\">\\n          <p class=\"text-red-400 text-lg font-medium mb-2\">Video Load Error</p>\\n          <p class=\"text-white/70 text-sm\">'.concat(errorMessage, \"</p>\\n        </div>\\n      \");\n            }\n            toast({\n                title: \"Video Error\",\n                description: errorMessage,\n                variant: \"destructive\"\n            });\n        }\n    };\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"GamePage.useEffect\": ()=>{\n            if (video_url) {\n                load_video_from_url(video_url);\n            }\n        }\n    }[\"GamePage.useEffect\"], [\n        video_url\n    ]);\n    async function detectAndSendFace() {\n        const currentVideoElement = videoElementRef.current;\n        if (!currentVideoElement || currentVideoElement.paused || currentVideoElement.readyState < 3) {\n            return;\n        }\n        if (!window.faceapi) {\n            return;\n        }\n        try {\n            const options = new window.faceapi.TinyFaceDetectorOptions({\n                inputSize: 224,\n                scoreThreshold: 0.5\n            });\n            const detections = await window.faceapi.detectAllFaces(currentVideoElement, options);\n            if (detections.length === 0) {\n                return;\n            }\n            if (detections.length > 1) {\n                // toast({ title: \"Multiple faces detected\", description: \"Please ensure only one person is visible.\", variant: \"warning\" });\n                return;\n            }\n            const detection = detections[0];\n            const box = detection.detection ? detection.detection.box : detection.box;\n            if (!box) {\n                return;\n            }\n            const tempCanvas = document.createElement(\"canvas\");\n            const tempContext = tempCanvas.getContext(\"2d\");\n            const padding = 0.1;\n            const paddedWidth = box.width * (1 + padding * 2);\n            const paddedHeight = box.height * (1 + padding * 2);\n            const paddedX = box.x - box.width * padding;\n            const paddedY = box.y - box.height * padding;\n            const cropX = Math.max(0, paddedX);\n            const cropY = Math.max(0, paddedY);\n            const cropWidth = Math.min(paddedWidth, currentVideoElement.videoWidth - cropX);\n            const cropHeight = Math.min(paddedHeight, currentVideoElement.videoHeight - cropY);\n            if (cropWidth <= 0 || cropHeight <= 0) {\n                return;\n            }\n            tempCanvas.width = cropWidth;\n            tempCanvas.height = cropHeight;\n            tempContext.drawImage(currentVideoElement, cropX, cropY, cropWidth, cropHeight, 0, 0, cropWidth, cropHeight);\n            const imageDataUrl = tempCanvas.toDataURL(\"image/jpeg\", 0.7);\n            const base64Data = imageDataUrl.split(\",\")[1];\n            const message = {\n                type: \"upload_image\",\n                payload: {\n                    image_data: base64Data,\n                    lobby_code: lobbyCode,\n                    username: username\n                }\n            };\n            if (sendMessage) {\n                sendMessage(JSON.stringify(message));\n            }\n        } catch (error) {\n            console.error(\"Face crop and send error:\", error);\n        // toast({\n        //   title: \"Face Detection Error\",\n        //   description: `Failed to crop and send face: ${error.message}`,\n        //   variant: \"destructive\",\n        // });\n        }\n    }\n    // Renamed to avoid conflict with detectAndSendFace which is async\n    function triggerFaceImageSend() {\n        if (!isConnected) {\n            return;\n        }\n        const currentVideoElement = videoElementRef.current;\n        if (!currentVideoElement || currentVideoElement.paused) {\n            return;\n        }\n        if (!modelsLoaded || !faceApiLoaded) {\n            return;\n        }\n        detectAndSendFace(); // Call the async function\n    }\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"GamePage.useEffect\": ()=>{\n            let intervalId;\n            if (isConnected && modelsLoaded && faceApiLoaded && role === \"player\") {\n                intervalId = setInterval({\n                    \"GamePage.useEffect\": ()=>{\n                        triggerFaceImageSend(); // Use the renamed wrapper function\n                    }\n                }[\"GamePage.useEffect\"], 500);\n            }\n            return ({\n                \"GamePage.useEffect\": ()=>{\n                    if (intervalId) {\n                        clearInterval(intervalId);\n                    }\n                }\n            })[\"GamePage.useEffect\"];\n        }\n    }[\"GamePage.useEffect\"], [\n        isConnected,\n        modelsLoaded,\n        faceApiLoaded,\n        role,\n        lobbyCode,\n        username,\n        sendMessage\n    ]); // Added relevant dependencies\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"GamePage.useEffect\": ()=>{\n            return ({\n                \"GamePage.useEffect\": ()=>{\n                    var _videoContainerRef_current;\n                    if ((_videoContainerRef_current = videoContainerRef.current) === null || _videoContainerRef_current === void 0 ? void 0 : _videoContainerRef_current._cleanup) {\n                        videoContainerRef.current._cleanup();\n                    }\n                }\n            })[\"GamePage.useEffect\"];\n        }\n    }[\"GamePage.useEffect\"], []);\n    const handleLeaveGame = ()=>{\n        disconnect();\n        router.push(\"/lobby\");\n    };\n    if (connectionError) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"min-h-screen flex items-center justify-center bg-gradient-to-br from-purple-600 via-pink-600 to-blue-600 p-4\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"bg-white/95 backdrop-blur-xl rounded-3xl p-8 text-center\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                        className: \"text-2xl font-bold text-red-600 mb-4\",\n                        children: \"Connection Error\"\n                    }, void 0, false, {\n                        fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                        lineNumber: 414,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"text-gray-700 mb-4\",\n                        children: connectionError\n                    }, void 0, false, {\n                        fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                        lineNumber: 415,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_4__.Button, {\n                        onClick: ()=>router.push(\"/lobby\"),\n                        className: \"bg-purple-600 hover:bg-purple-700\",\n                        children: \"Return to Lobby\"\n                    }, void 0, false, {\n                        fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                        lineNumber: 416,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                lineNumber: 413,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n            lineNumber: 412,\n            columnNumber: 7\n        }, this);\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"min-h-screen flex flex-col bg-gradient-to-br from-purple-600 via-pink-600 to-blue-600\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"text-center py-4\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                        className: \"text-white text-4xl font-bold tracking-wide\",\n                        children: [\n                            \"KRACKLE\",\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: \"text-yellow-300\",\n                                children: \".CO\"\n                            }, void 0, false, {\n                                fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                lineNumber: 428,\n                                columnNumber: 18\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                        lineNumber: 427,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                        className: \"text-white text-xl mt-1\",\n                        children: [\n                            \"Game: \",\n                            lobbyCode\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                        lineNumber: 430,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                lineNumber: 426,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex flex-col md:flex-row flex-1 p-4 gap-4\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"w-full md:w-64 bg-white/10 backdrop-blur-md rounded-xl p-4\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                className: \"text-white text-xl font-bold mb-4 flex items-center gap-2\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Crown_Loader2_LogOut_Play_RefreshCw_Users_lucide_react__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n                                        className: \"w-5 h-5\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                        lineNumber: 436,\n                                        columnNumber: 13\n                                    }, this),\n                                    \" Players\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                lineNumber: 435,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"space-y-2 max-h-[60vh] overflow-y-auto\",\n                                children: players.length > 0 ? players.map((player, index)=>{\n                                    const isVerified = verifiedPlayers.includes(player) // REVERTED: Check directly against player string\n                                    ;\n                                    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"p-3 rounded-lg \".concat(isVerified ? \"bg-gradient-to-r from-green-200/80 to-green-100/80 backdrop-blur-md\" : \"bg-gray-200/80 backdrop-blur-md\", \" flex items-center\"),\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"h-8 w-8 rounded-full \".concat(isVerified ? \"bg-gradient-to-r from-green-500 to-emerald-500\" : \"bg-gray-500\", \" text-white flex items-center justify-center mr-3\"),\n                                                children: player.charAt(0).toUpperCase()\n                                            }, void 0, false, {\n                                                fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                                lineNumber: 452,\n                                                columnNumber: 21\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"font-medium\",\n                                                children: [\n                                                    player,\n                                                    \" \",\n                                                    player === username && \"(You)\"\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                                lineNumber: 459,\n                                                columnNumber: 21\n                                            }, this),\n                                            index === 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Crown_Loader2_LogOut_Play_RefreshCw_Users_lucide_react__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n                                                className: \"w-4 h-4 text-yellow-500 ml-2\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                                lineNumber: 463,\n                                                columnNumber: 37\n                                            }, this)\n                                        ]\n                                    }, index, true, {\n                                        fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                        lineNumber: 444,\n                                        columnNumber: 19\n                                    }, this);\n                                }) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"text-center py-4 text-white\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Crown_Loader2_LogOut_Play_RefreshCw_Users_lucide_react__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n                                            className: \"w-6 h-6 animate-spin mx-auto mb-2\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                            lineNumber: 469,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                            children: \"Loading players...\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                            lineNumber: 470,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                    lineNumber: 468,\n                                    columnNumber: 15\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                lineNumber: 438,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                        lineNumber: 434,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex-1 flex items-center justify-center\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"w-[400px] bg-white rounded-xl p-4 h-[600px] flex flex-col\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex justify-between items-center mb-4\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                            className: \"text-2xl font-bold\",\n                                            children: \"Game Video\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                            lineNumber: 479,\n                                            columnNumber: 15\n                                        }, this),\n                                        role === \"lobby-admin\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_4__.Button, {\n                                            onClick: requestNewVideo,\n                                            disabled: isLoadingVideo,\n                                            className: \"bg-purple-600 hover:bg-purple-700 text-white\",\n                                            children: isLoadingVideo ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Crown_Loader2_LogOut_Play_RefreshCw_Users_lucide_react__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n                                                        className: \"w-4 h-4 mr-2 animate-spin\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                                        lineNumber: 488,\n                                                        columnNumber: 23\n                                                    }, this),\n                                                    \"Loading...\"\n                                                ]\n                                            }, void 0, true) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Crown_Loader2_LogOut_Play_RefreshCw_Users_lucide_react__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n                                                        className: \"w-4 h-4 mr-2\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                                        lineNumber: 493,\n                                                        columnNumber: 23\n                                                    }, this),\n                                                    \"New Video\"\n                                                ]\n                                            }, void 0, true)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                            lineNumber: 481,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                    lineNumber: 478,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex-1 relative w-full rounded-lg overflow-hidden bg-black\",\n                                    ref: videoContainerRef,\n                                    children: !video_url && !videoUrl && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"absolute inset-0 flex items-center justify-center\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"text-center\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Crown_Loader2_LogOut_Play_RefreshCw_Users_lucide_react__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\n                                                    className: \"w-12 h-12 mx-auto mb-4 text-gray-500\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                                    lineNumber: 505,\n                                                    columnNumber: 21\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                    className: \"text-gray-500\",\n                                                    children: role === \"lobby-admin\" ? \"Click 'New Video' to start the game\" : \"Waiting for the host to start a video...\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                                    lineNumber: 506,\n                                                    columnNumber: 21\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                            lineNumber: 504,\n                                            columnNumber: 19\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                        lineNumber: 503,\n                                        columnNumber: 17\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                    lineNumber: 501,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"mt-4 flex justify-center\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_4__.Button, {\n                                        className: \"bg-red-400 hover:bg-red-500 text-white rounded-full px-6 py-2 text-lg font-bold\",\n                                        onClick: handleLeaveGame,\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Crown_Loader2_LogOut_Play_RefreshCw_Users_lucide_react__WEBPACK_IMPORTED_MODULE_11__[\"default\"], {\n                                                className: \"w-5 h-5 mr-2\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                                lineNumber: 521,\n                                                columnNumber: 17\n                                            }, this),\n                                            \"LEAVE GAME\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                        lineNumber: 517,\n                                        columnNumber: 15\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                    lineNumber: 516,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                            lineNumber: 477,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                        lineNumber: 476,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                lineNumber: 433,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"fixed bottom-6 right-6 z-20\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"relative flex flex-col items-center\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"relative w-8 h-40 mb-0\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"absolute inset-0 bg-white/20 backdrop-blur-sm rounded-full border border-white/30\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                    lineNumber: 532,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"absolute bottom-0 left-0 right-0 rounded-full transition-all duration-300 ease-out\",\n                                    style: {\n                                        height: \"\".concat(gameProgress, \"%\"),\n                                        background: \"linear-gradient(to top, #22c55e, #eab308, #ef4444)\",\n                                        margin: \"2px\",\n                                        width: \"calc(100% - 4px)\"\n                                    }\n                                }, void 0, false, {\n                                    fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                    lineNumber: 533,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"absolute -right-10 top-1/2 -translate-y-1/2\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"bg-black/50 backdrop-blur-sm rounded-lg px-2 py-1\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"text-white font-bold text-xs\",\n                                            children: [\n                                                Math.round(gameProgress),\n                                                \"%\"\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                            lineNumber: 544,\n                                            columnNumber: 17\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                        lineNumber: 543,\n                                        columnNumber: 15\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                    lineNumber: 542,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                            lineNumber: 531,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"relative\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"relative w-32 h-32 rounded-full overflow-hidden border-4 border-white/30 shadow-xl\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"video\", {\n                                        ref: videoElementRef,\n                                        id: \"webcam\",\n                                        className: \"absolute w-full h-full object-cover\",\n                                        autoPlay: true,\n                                        playsInline: true,\n                                        muted: true\n                                    }, void 0, false, {\n                                        fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                        lineNumber: 552,\n                                        columnNumber: 15\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                    lineNumber: 550,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"absolute top-1 right-1 z-10\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex items-center gap-1 bg-black/50 backdrop-blur-sm rounded-full px-1.5 py-0.5\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"w-1.5 h-1.5 bg-red-500 rounded-full animate-pulse\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                                lineNumber: 556,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"text-white text-xs font-medium\",\n                                                children: \"LIVE\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                                lineNumber: 557,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                        lineNumber: 555,\n                                        columnNumber: 15\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                    lineNumber: 554,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                            lineNumber: 549,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                    lineNumber: 530,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                lineNumber: 529,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"py-4 text-center text-white text-xs\",\n                children: [\n                    \"MADE WITH LOVE BY HAYSON, NELSON, AND BOYA \",\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                        className: \"ml-1\",\n                        children: \"❤️\"\n                    }, void 0, false, {\n                        fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                        lineNumber: 565,\n                        columnNumber: 52\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                lineNumber: 564,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n        lineNumber: 425,\n        columnNumber: 5\n    }, this);\n}\n_s(GamePage, \"UvCBuHARTu5ky20DcDS9POYAnTU=\", false, function() {\n    return [\n        next_navigation__WEBPACK_IMPORTED_MODULE_2__.useRouter,\n        next_navigation__WEBPACK_IMPORTED_MODULE_2__.useSearchParams,\n        _components_ui_use_toast__WEBPACK_IMPORTED_MODULE_3__.useToast,\n        _hooks_use_websocket__WEBPACK_IMPORTED_MODULE_5__.useWebSocket\n    ];\n});\n_c = GamePage;\nvar _c;\n$RefreshReg$(_c, \"GamePage\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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VTt3Q0FBc0N5RixRQUFRO3dDQUFDMUUsV0FBVzt3Q0FBQ0QsS0FBSzs7Ozs7Ozs7Ozs7OENBRXJILDhEQUFDdUQ7b0NBQUlyRSxXQUFVOzhDQUNiLDRFQUFDcUU7d0NBQUlyRSxXQUFVOzswREFDYiw4REFBQ3FFO2dEQUFJckUsV0FBVTs7Ozs7OzBEQUNmLDhEQUFDMEU7Z0RBQUsxRSxXQUFVOzBEQUFpQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OzswQkFPM0QsOERBQUNxRTtnQkFBSXJFLFdBQVU7O29CQUFzQztrQ0FDUiw4REFBQzBFO3dCQUFLMUUsV0FBVTtrQ0FBTzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBSTFFO0dBN2lCd0I3Rjs7UUFjUFosc0RBQVNBO1FBQ0hDLDREQUFlQTtRQUNsQkMsOERBQVFBO1FBRTREUSw4REFBWUE7OztLQWxCNUVFIiwic291cmNlcyI6WyIvVXNlcnMvaGF5c29uY2hldW5nL3Byb2dyYW1zL3B5dGhvblByb2plY3Qva3JhY2tsZTIvZnJvbnRlbmR1cGRhdGVkL2FwcC9nYW1lL3BhZ2UuanN4Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGNsaWVudFwiXG5cbmltcG9ydCB7IHVzZUVmZmVjdCwgdXNlU3RhdGUsIHVzZVJlZiB9IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgeyB1c2VSb3V0ZXIsIHVzZVNlYXJjaFBhcmFtcyB9IGZyb20gXCJuZXh0L25hdmlnYXRpb25cIlxuaW1wb3J0IHsgdXNlVG9hc3QgfSBmcm9tIFwiQC9jb21wb25lbnRzL3VpL3VzZS10b2FzdFwiXG5pbXBvcnQgeyBCdXR0b24gfSBmcm9tIFwiQC9jb21wb25lbnRzL3VpL2J1dHRvblwiXG5pbXBvcnQgeyBVc2VycywgQ3Jvd24sIExvYWRlcjIsIFJlZnJlc2hDdywgUGxheSwgTG9nT3V0IH0gZnJvbSBcImx1Y2lkZS1yZWFjdFwiXG5pbXBvcnQgeyB1c2VXZWJTb2NrZXQgfSBmcm9tIFwiQC9ob29rcy91c2Utd2Vic29ja2V0XCIgXG5cbmNvbnN0IEFQSV9CQVNFX1VSTCA9IFwiaHR0cHM6Ly9jZDZmLTIwMi0yOC03LTQubmdyb2stZnJlZS5hcHBcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBHYW1lUGFnZSgpIHtcbiAgY29uc3QgW3VzZXJuYW1lLCBzZXRVc2VybmFtZV0gPSB1c2VTdGF0ZShcIlwiKVxuICBjb25zdCBbbG9iYnlDb2RlLCBzZXRMb2JieUNvZGVdID0gdXNlU3RhdGUoXCJcIilcbiAgY29uc3QgW3VzZXJUb2tlbiwgc2V0VXNlclRva2VuXSA9IHVzZVN0YXRlKFwiXCIpXG4gIGNvbnN0IFtyb2xlLCBzZXRSb2xlXSA9IHVzZVN0YXRlKFwicGxheWVyXCIpXG4gIGNvbnN0IFtpc0xvYWRpbmdWaWRlbywgc2V0SXNMb2FkaW5nVmlkZW9dID0gdXNlU3RhdGUoZmFsc2UpXG4gIGNvbnN0IFt2ZXJpZmllZFBsYXllcnMsIHNldFZlcmlmaWVkUGxheWVyc10gPSB1c2VTdGF0ZShbXSlcbiAgY29uc3QgW3ZpZGVvVXJsLCBzZXRWaWRlb1VybF0gPSB1c2VTdGF0ZShcIlwiKVxuICBjb25zdCBbZ2FtZVByb2dyZXNzLCBzZXRHYW1lUHJvZ3Jlc3NdID0gdXNlU3RhdGUoMClcbiAgY29uc3QgW21vZGVsc0xvYWRlZCwgc2V0TW9kZWxzTG9hZGVkXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2ZhY2VBcGlMb2FkZWQsIHNldEZhY2VBcGlMb2FkZWRdID0gdXNlU3RhdGUoZmFsc2UpOyBcbiAgY29uc3QgdmlkZW9Db250YWluZXJSZWYgPSB1c2VSZWYobnVsbClcbiAgY29uc3QgdmlkZW9FbGVtZW50UmVmID0gdXNlUmVmKG51bGwpOyAvLyBBZGRlZCByZWYgZm9yIHZpZGVvIGVsZW1lbnRcblxuICBjb25zdCByb3V0ZXIgPSB1c2VSb3V0ZXIoKVxuICBjb25zdCBzZWFyY2hQYXJhbXMgPSB1c2VTZWFyY2hQYXJhbXMoKVxuICBjb25zdCB7IHRvYXN0IH0gPSB1c2VUb2FzdCgpXG5cbiAgY29uc3QgeyB2aWRlb191cmwsIGlzQ29ubmVjdGVkLCBwbGF5ZXJzLCBjb25uZWN0aW9uRXJyb3IsIHNlbmRNZXNzYWdlLCBkaXNjb25uZWN0IH0gPSB1c2VXZWJTb2NrZXQoXG4gICAgbG9iYnlDb2RlLFxuICAgIHVzZXJuYW1lLFxuICAgIHVzZXJUb2tlbixcbiAgICByb2xlLFxuICApXG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAod2luZG93LmZhY2VhcGkpIHtcbiAgICAgIHNldEZhY2VBcGlMb2FkZWQodHJ1ZSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHNjcmlwdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpO1xuICAgIHNjcmlwdC5zcmMgPSAnaHR0cHM6Ly9jZG4uanNkZWxpdnIubmV0L25wbS9mYWNlLWFwaS5qc0AwLjIyLjIvZGlzdC9mYWNlLWFwaS5taW4uanMnO1xuICAgIHNjcmlwdC5hc3luYyA9IHRydWU7XG4gICAgc2NyaXB0Lm9ubG9hZCA9ICgpID0+IHtcbiAgICAgIHNldEZhY2VBcGlMb2FkZWQodHJ1ZSk7XG4gICAgICAvLyB0b2FzdCh7IHRpdGxlOiBcIkZhY2VBUEkgU2NyaXB0IExvYWRlZFwiLCBkZXNjcmlwdGlvbjogXCJGYWNlIGRldGVjdGlvbiBjYXBhYmlsaXRpZXMgYXJlIG5vdyBhY3RpdmUuXCIgfSk7XG4gICAgfTtcbiAgICBzY3JpcHQub25lcnJvciA9ICgpID0+IHtcbiAgICAgIHRvYXN0KHsgdGl0bGU6IFwiRmFjZUFQSSBMb2FkIEVycm9yXCIsIGRlc2NyaXB0aW9uOiBcIkZhaWxlZCB0byBsb2FkIGZhY2UgZGV0ZWN0aW9uIHNjcmlwdC5cIiwgdmFyaWFudDogXCJkZXN0cnVjdGl2ZVwiIH0pO1xuICAgIH07XG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChzY3JpcHQpO1xuXG4gICAgLy8gTm8gY2xlYW51cCBuZWVkZWQgZm9yIENETiBzY3JpcHQgdGhhdCBtaWdodCBiZSB1c2VkIGJ5IG90aGVyIHBhZ2VzXG4gIH0sIFt0b2FzdF0pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3Qgc3RvcmVkVXNlcm5hbWUgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcImtyYWNrbGVfdXNlcm5hbWVcIilcbiAgICBjb25zdCBzdG9yZWRMb2JieSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwia3JhY2tsZV9sb2JieVwiKVxuICAgIGNvbnN0IHN0b3JlZFRva2VuID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJrcmFja2xlX3VzZXJfdG9rZW5cIilcbiAgICBjb25zdCBzdG9yZWRBZG1pblRva2VuID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJrcmFja2xlX2FkbWluX3Rva2VuXCIpXG4gICAgY29uc3Qgc3RvcmVkUm9sZSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwia3JhY2tsZV9yb2xlXCIpXG4gICAgY29uc3QgdXJsTG9iYnlDb2RlID0gc2VhcmNoUGFyYW1zLmdldChcImxvYmJ5X2NvZGVcIilcblxuICAgIGlmICghc3RvcmVkVXNlcm5hbWUgfHwgKCFzdG9yZWRMb2JieSAmJiAhdXJsTG9iYnlDb2RlKSkge1xuICAgICAgdG9hc3Qoe1xuICAgICAgICB0aXRsZTogXCJTZXNzaW9uIGV4cGlyZWRcIixcbiAgICAgICAgZGVzY3JpcHRpb246IFwiUGxlYXNlIGpvaW4gYSBsb2JieSBhZ2FpblwiLFxuICAgICAgICB2YXJpYW50OiBcImRlc3RydWN0aXZlXCIsXG4gICAgICB9KVxuICAgICAgcm91dGVyLnB1c2goXCIvXCIpXG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBzZXRVc2VybmFtZShzdG9yZWRVc2VybmFtZSlcbiAgICBzZXRMb2JieUNvZGUoc3RvcmVkTG9iYnkgfHwgdXJsTG9iYnlDb2RlKVxuXG4gICAgY29uc3Qgd2Vic29ja2V0Um9sZSA9IHN0b3JlZFJvbGUgPT09IFwiYWRtaW5cIiA/IFwibG9iYnktYWRtaW5cIiA6IHN0b3JlZFJvbGUgfHwgXCJwbGF5ZXJcIlxuICAgIHNldFJvbGUod2Vic29ja2V0Um9sZSlcblxuICAgIGlmIChzdG9yZWRSb2xlID09PSBcImFkbWluXCIpIHtcbiAgICAgIHNldFVzZXJUb2tlbihzdG9yZWRBZG1pblRva2VuKVxuICAgIH0gZWxzZSBpZiAoc3RvcmVkUm9sZSA9PT0gXCJwbGF5ZXJcIikge1xuICAgICAgc2V0VXNlclRva2VuKHN0b3JlZFRva2VuKVxuICAgIH0gZWxzZSB7XG4gICAgICB0b2FzdCh7XG4gICAgICAgIHRpdGxlOiBcIkludmFsaWQgc2Vzc2lvblwiLFxuICAgICAgICBkZXNjcmlwdGlvbjogXCJNaXNzaW5nIGF1dGhlbnRpY2F0aW9uIHRva2VuXCIsXG4gICAgICAgIHZhcmlhbnQ6IFwiZGVzdHJ1Y3RpdmVcIixcbiAgICAgIH0pXG4gICAgICByb3V0ZXIucHVzaChcIi9cIilcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGlmIChzdG9yZWRSb2xlID09PSBcImFkbWluXCIpIHtcbiAgICAgIHJlcXVlc3ROZXdWaWRlbygpXG4gICAgfVxuXG4gICAgaWYgKCFmYWNlQXBpTG9hZGVkIHx8IG1vZGVsc0xvYWRlZCkgcmV0dXJuO1xuXG4gICAgY29uc3QgbG9hZE1vZGVscyA9IGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IE1PREVMX1VSTCA9ICcvbW9kZWxzJztcbiAgICAgIGlmICghd2luZG93LmZhY2VhcGkpIHtcbiAgICAgICAgLy8gdG9hc3QoeyB0aXRsZTogXCJGYWNlQVBJIE5vdCBSZWFkeVwiLCBkZXNjcmlwdGlvbjogXCJDYW5ub3QgbG9hZCBtb2RlbHMgeWV0LlwiLCB2YXJpYW50OiBcIndhcm5pbmdcIiB9KTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdHJ5IHtcbiAgICAgICAgLy8gdG9hc3QoeyB0aXRsZTogXCJMb2FkaW5nIEZhY2UgTW9kZWxzXCIsIGRlc2NyaXB0aW9uOiBcIlBsZWFzZSB3YWl0Li4uXCIgfSk7XG4gICAgICAgIGF3YWl0IHdpbmRvdy5mYWNlYXBpLm5ldHMudGlueUZhY2VEZXRlY3Rvci5sb2FkRnJvbVVyaShNT0RFTF9VUkwpO1xuICAgICAgICBzZXRNb2RlbHNMb2FkZWQodHJ1ZSk7XG4gICAgICAgIHRvYXN0KHsgdGl0bGU6IFwiRmFjZSBNb2RlbHMgTG9hZGVkXCIsIGRlc2NyaXB0aW9uOiBcIlJlYWR5IGZvciBmYWNlIGRldGVjdGlvbi5cIiB9KTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBsb2FkaW5nIGZhY2UgZGV0ZWN0aW9uIG1vZGVsczpcIiwgZXJyb3IpO1xuICAgICAgICB0b2FzdCh7XG4gICAgICAgICAgdGl0bGU6IFwiTW9kZWwgTG9hZCBFcnJvclwiLFxuICAgICAgICAgIGRlc2NyaXB0aW9uOiBcIkNvdWxkIG5vdCBsb2FkIGZhY2UgZGV0ZWN0aW9uIG1vZGVscy5cIixcbiAgICAgICAgICB2YXJpYW50OiBcImRlc3RydWN0aXZlXCIsXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH07XG4gICAgbG9hZE1vZGVscygpO1xuICB9LCBbcm91dGVyLCBzZWFyY2hQYXJhbXMsIHRvYXN0LCBmYWNlQXBpTG9hZGVkLCBtb2RlbHNMb2FkZWRdKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGluaXRXZWJjYW0gPSBhc3luYyAoKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBzdHJlYW0gPSBhd2FpdCBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYSh7IHZpZGVvOiB0cnVlIH0pO1xuICAgICAgICBpZiAodmlkZW9FbGVtZW50UmVmLmN1cnJlbnQpIHtcbiAgICAgICAgICB2aWRlb0VsZW1lbnRSZWYuY3VycmVudC5zcmNPYmplY3QgPSBzdHJlYW07XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgYWNjZXNzaW5nIHdlYmNhbTpcIiwgZXJyKTtcbiAgICAgICAgdG9hc3Qoe1xuICAgICAgICAgIHRpdGxlOiBcIldlYmNhbSBFcnJvclwiLFxuICAgICAgICAgIGRlc2NyaXB0aW9uOiBcIkNvdWxkIG5vdCBhY2Nlc3Mgd2ViY2FtLiBQbGVhc2UgY2hlY2sgcGVybWlzc2lvbnMuXCIsXG4gICAgICAgICAgdmFyaWFudDogXCJkZXN0cnVjdGl2ZVwiLFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9O1xuICAgIGluaXRXZWJjYW0oKTtcbiAgICAvLyBDbGVhbnVwIGZ1bmN0aW9uIHRvIHN0b3Agd2ViY2FtIHRyYWNrcyB3aGVuIGNvbXBvbmVudCB1bm1vdW50c1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBpZiAodmlkZW9FbGVtZW50UmVmLmN1cnJlbnQgJiYgdmlkZW9FbGVtZW50UmVmLmN1cnJlbnQuc3JjT2JqZWN0KSB7XG4gICAgICAgIGNvbnN0IHN0cmVhbSA9IHZpZGVvRWxlbWVudFJlZi5jdXJyZW50LnNyY09iamVjdDtcbiAgICAgICAgY29uc3QgdHJhY2tzID0gc3RyZWFtLmdldFRyYWNrcygpO1xuICAgICAgICB0cmFja3MuZm9yRWFjaCh0cmFjayA9PiB0cmFjay5zdG9wKCkpO1xuICAgICAgICB2aWRlb0VsZW1lbnRSZWYuY3VycmVudC5zcmNPYmplY3QgPSBudWxsO1xuICAgICAgfVxuICAgIH07XG4gIH0sIFt0b2FzdF0pO1xuXG4gIGNvbnN0IHJlcXVlc3ROZXdWaWRlbyA9IGFzeW5jICgpID0+IHtcbiAgICBzZXRJc0xvYWRpbmdWaWRlbyh0cnVlKVxuICAgIHRyeSB7XG4gICAgICBpZiAoaXNDb25uZWN0ZWQgJiYgc2VuZE1lc3NhZ2UpIHtcbiAgICAgICAgc2VuZE1lc3NhZ2UoSlNPTi5zdHJpbmdpZnkoeyB0eXBlOiBcInJlcXVlc3RfdmlkZW9cIiB9KSlcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRvYXN0KHtcbiAgICAgICAgICB0aXRsZTogXCJDb25uZWN0aW9uIGVycm9yXCIsXG4gICAgICAgICAgZGVzY3JpcHRpb246IFwiTm90IGNvbm5lY3RlZCB0byBzZXJ2ZXIgdG8gcmVxdWVzdCB2aWRlby5cIixcbiAgICAgICAgICB2YXJpYW50OiBcImRlc3RydWN0aXZlXCIsXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHRvYXN0KHtcbiAgICAgICAgdGl0bGU6IFwiQ29ubmVjdGlvbiBlcnJvclwiLFxuICAgICAgICBkZXNjcmlwdGlvbjogXCJDb3VsZCBub3QgY29ubmVjdCB0byB0aGUgZ2FtZSBzZXJ2ZXIuXCIsXG4gICAgICAgIHZhcmlhbnQ6IFwiZGVzdHJ1Y3RpdmVcIixcbiAgICAgIH0pXG4gICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgZmV0Y2hpbmcgdmlkZW86XCIsIGVycm9yKVxuICAgIH0gZmluYWxseSB7XG4gICAgICBzZXRJc0xvYWRpbmdWaWRlbyhmYWxzZSlcbiAgICB9XG4gIH1cblxuICBjb25zdCBnZXRZb3VUdWJlVmlkZW9JZCA9ICh1cmwpID0+IHtcbiAgICBpZiAoIXVybCkgcmV0dXJuIG51bGxcbiAgICBjb25zdCByZWdFeHAgPSAvXi4qKHlvdXR1LmJlXFwvfHZcXC98dVxcL1xcd1xcL3xlbWJlZFxcL3xzaG9ydHNcXC98d2F0Y2hcXD92PXwmdj0pKFteIyY/XSopLiovXG4gICAgY29uc3QgbWF0Y2ggPSB1cmwubWF0Y2gocmVnRXhwKVxuICAgIHJldHVybiBtYXRjaCAmJiBtYXRjaFsyXS5sZW5ndGggPT09IDExID8gbWF0Y2hbMl0gOiBudWxsXG4gIH1cblxuICBjb25zdCBsb2FkX3ZpZGVvX2Zyb21fdXJsID0gKHZpZGVvX3VybF9mcm9tX3dzKSA9PiB7XG4gICAgaWYgKCF2aWRlb191cmxfZnJvbV93cyB8fCAhdmlkZW9Db250YWluZXJSZWYuY3VycmVudCkge1xuICAgICAgY29uc29sZS53YXJuKFwiTm8gdmlkZW8gVVJMIHByb3ZpZGVkIG9yIGNvbnRhaW5lciBub3QgZm91bmRcIilcbiAgICAgIHJldHVyblxuICAgIH1cbiAgICBzZXRWaWRlb1VybCh2aWRlb191cmxfZnJvbV93cyk7IC8vIFVwZGF0ZSB0aGUgdmlkZW9Vcmwgc3RhdGVcblxuICAgIGNvbnN0IGNvbnRhaW5lciA9IHZpZGVvQ29udGFpbmVyUmVmLmN1cnJlbnRcbiAgICBjb250YWluZXIuaW5uZXJIVE1MID0gXCJcIlxuXG4gICAgY29uc3QgbG9hZGluZ092ZXJsYXkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpXG4gICAgbG9hZGluZ092ZXJsYXkuY2xhc3NOYW1lID1cbiAgICAgIFwiYWJzb2x1dGUgaW5zZXQtMCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBiZy1ncmFkaWVudC10by1iciBmcm9tLXB1cnBsZS05MDAvNTAgdG8tcGluay05MDAvNTAgYmFja2Ryb3AtYmx1ci1zbSB6LTEwIHRyYW5zaXRpb24tb3BhY2l0eSBkdXJhdGlvbi01MDBcIlxuICAgIGxvYWRpbmdPdmVybGF5LmlubmVySFRNTCA9IGBcbiAgICAgIDxkaXYgY2xhc3M9XCJ0ZXh0LWNlbnRlclwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwidy0xNiBoLTE2IGJvcmRlci00IGJvcmRlci13aGl0ZS8yMCBib3JkZXItdC13aGl0ZSByb3VuZGVkLWZ1bGwgYW5pbWF0ZS1zcGluIG14LWF1dG8gbWItNFwiPjwvZGl2PlxuICAgICAgICA8cCBjbGFzcz1cInRleHQtd2hpdGUgdGV4dC1sZyBmb250LW1lZGl1bVwiPkxvYWRpbmcgdmlkZW8uLi48L3A+XG4gICAgICA8L2Rpdj5cbiAgICBgXG4gICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGxvYWRpbmdPdmVybGF5KVxuXG4gICAgY29uc3QgdmlkZW9JZCA9IGdldFlvdVR1YmVWaWRlb0lkKHZpZGVvX3VybF9mcm9tX3dzKVxuXG4gICAgaWYgKHZpZGVvSWQpIHtcbiAgICAgIGNvbnN0IGlmcmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpZnJhbWVcIilcbiAgICAgIGlmcmFtZS5jbGFzc05hbWUgPSBcImFic29sdXRlIGluc2V0LTAgdy1mdWxsIGgtZnVsbFwiXG4gICAgICBpZnJhbWUuc3JjID0gYGh0dHBzOi8vd3d3LnlvdXR1YmUuY29tL2VtYmVkLyR7dmlkZW9JZH0/YXV0b3BsYXk9MSZjb250cm9scz0wJmRpc2FibGVrYj0xJmZzPTAmbW9kZXN0YnJhbmRpbmc9MSZyZWw9MCZzaG93aW5mbz0wJml2X2xvYWRfcG9saWN5PTMmZW5hYmxlanNhcGk9MSZwbGF5c2lubGluZT0xJm11dGU9MGBcbiAgICAgIGlmcmFtZS50aXRsZSA9IFwiR2FtZSBWaWRlbyBQbGF5ZXJcIlxuICAgICAgaWZyYW1lLmZyYW1lQm9yZGVyID0gXCIwXCJcbiAgICAgIGlmcmFtZS5hbGxvdyA9IFwiYWNjZWxlcm9tZXRlcjsgYXV0b3BsYXk7IGNsaXBib2FyZC13cml0ZTsgZW5jcnlwdGVkLW1lZGlhOyBneXJvc2NvcGU7IHBpY3R1cmUtaW4tcGljdHVyZVwiXG4gICAgICBpZnJhbWUuYWxsb3dGdWxsc2NyZWVuID0gZmFsc2VcbiAgICAgIGlmcmFtZS5zdHlsZS5wb2ludGVyRXZlbnRzID0gXCJub25lXCJcblxuICAgICAgaWZyYW1lLm9ubG9hZCA9ICgpID0+IHtcbiAgICAgICAgbG9hZGluZ092ZXJsYXkuc3R5bGUub3BhY2l0eSA9IFwiMFwiXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIGlmIChsb2FkaW5nT3ZlcmxheS5wYXJlbnROb2RlKSB7XG4gICAgICAgICAgICBsb2FkaW5nT3ZlcmxheS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGxvYWRpbmdPdmVybGF5KVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgNTAwKVxuICAgICAgICB0b2FzdCh7IHRpdGxlOiBcIllvdVR1YmUgVmlkZW8gTG9hZGVkXCIsIGRlc2NyaXB0aW9uOiBcIlBsYXliYWNrIHN0YXJ0ZWQuXCIgfSk7XG4gICAgICB9XG4gICAgICBpZnJhbWUub25lcnJvciA9ICgpID0+IHtcbiAgICAgICAgaGFuZGxlVmlkZW9FcnJvcihcIkZhaWxlZCB0byBsb2FkIFlvdVR1YmUgdmlkZW9cIilcbiAgICAgIH1cbiAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChpZnJhbWUpXG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHZpZGVvID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInZpZGVvXCIpXG4gICAgICB2aWRlby5jbGFzc05hbWUgPSBcInctZnVsbCBoLWZ1bGwgb2JqZWN0LWNvdmVyIHJvdW5kZWQteGxcIlxuICAgICAgdmlkZW8uc3JjID0gdmlkZW9fdXJsX2Zyb21fd3NcbiAgICAgIHZpZGVvLmF1dG9wbGF5ID0gdHJ1ZVxuICAgICAgdmlkZW8ubXV0ZWQgPSB0cnVlIFxuICAgICAgdmlkZW8ucGxheXNJbmxpbmUgPSB0cnVlXG4gICAgICB2aWRlby5sb29wID0gZmFsc2VcbiAgICAgIHZpZGVvLnByZWxvYWQgPSBcImF1dG9cIlxuICAgICAgdmlkZW8uY29udHJvbHMgPSBmYWxzZVxuICAgICAgdmlkZW8uc3R5bGUucG9pbnRlckV2ZW50cyA9IFwibm9uZVwiXG5cbiAgICAgIHZpZGVvLm9ubG9hZGVkZGF0YSA9ICgpID0+IHtcbiAgICAgICAgbG9hZGluZ092ZXJsYXkuc3R5bGUub3BhY2l0eSA9IFwiMFwiXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIGlmIChsb2FkaW5nT3ZlcmxheS5wYXJlbnROb2RlKSB7XG4gICAgICAgICAgICBsb2FkaW5nT3ZlcmxheS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGxvYWRpbmdPdmVybGF5KVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgNTAwKVxuICAgICAgICB0b2FzdCh7IHRpdGxlOiBcIlZpZGVvIEZpbGUgTG9hZGVkXCIsIGRlc2NyaXB0aW9uOiBcIlBsYXliYWNrIHN0YXJ0ZWQuXCIgfSk7XG4gICAgICB9XG4gICAgICB2aWRlby5vbmVycm9yID0gKCkgPT4ge1xuICAgICAgICBoYW5kbGVWaWRlb0Vycm9yKFwiRmFpbGVkIHRvIGxvYWQgdmlkZW8gZmlsZVwiKVxuICAgICAgfVxuICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHZpZGVvKVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGhhbmRsZVZpZGVvRXJyb3IoZXJyb3JNZXNzYWdlKSB7XG4gICAgICBpZiAobG9hZGluZ092ZXJsYXkucGFyZW50Tm9kZSkge1xuICAgICAgICAgbG9hZGluZ092ZXJsYXkuaW5uZXJIVE1MID0gYFxuICAgICAgICA8ZGl2IGNsYXNzPVwidGV4dC1jZW50ZXJcIj5cbiAgICAgICAgICA8cCBjbGFzcz1cInRleHQtcmVkLTQwMCB0ZXh0LWxnIGZvbnQtbWVkaXVtIG1iLTJcIj5WaWRlbyBMb2FkIEVycm9yPC9wPlxuICAgICAgICAgIDxwIGNsYXNzPVwidGV4dC13aGl0ZS83MCB0ZXh0LXNtXCI+JHtlcnJvck1lc3NhZ2V9PC9wPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIGBcbiAgICAgIH1cbiAgICAgIHRvYXN0KHsgdGl0bGU6IFwiVmlkZW8gRXJyb3JcIiwgZGVzY3JpcHRpb246IGVycm9yTWVzc2FnZSwgdmFyaWFudDogXCJkZXN0cnVjdGl2ZVwiIH0pXG4gICAgfVxuICB9XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAodmlkZW9fdXJsKSB7XG4gICAgICBsb2FkX3ZpZGVvX2Zyb21fdXJsKHZpZGVvX3VybCk7XG4gICAgfVxuICB9LCBbdmlkZW9fdXJsXSk7XG5cbiAgYXN5bmMgZnVuY3Rpb24gZGV0ZWN0QW5kU2VuZEZhY2UoKSB7XG4gICAgY29uc3QgY3VycmVudFZpZGVvRWxlbWVudCA9IHZpZGVvRWxlbWVudFJlZi5jdXJyZW50O1xuICAgIGlmICghY3VycmVudFZpZGVvRWxlbWVudCB8fCBjdXJyZW50VmlkZW9FbGVtZW50LnBhdXNlZCB8fCBjdXJyZW50VmlkZW9FbGVtZW50LnJlYWR5U3RhdGUgPCAzKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKCF3aW5kb3cuZmFjZWFwaSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICBjb25zdCBvcHRpb25zID0gbmV3IHdpbmRvdy5mYWNlYXBpLlRpbnlGYWNlRGV0ZWN0b3JPcHRpb25zKHtcbiAgICAgICAgaW5wdXRTaXplOiAyMjQsXG4gICAgICAgIHNjb3JlVGhyZXNob2xkOiAwLjUsXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgZGV0ZWN0aW9ucyA9IGF3YWl0IHdpbmRvdy5mYWNlYXBpLmRldGVjdEFsbEZhY2VzKGN1cnJlbnRWaWRlb0VsZW1lbnQsIG9wdGlvbnMpO1xuXG4gICAgICBpZiAoZGV0ZWN0aW9ucy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoZGV0ZWN0aW9ucy5sZW5ndGggPiAxKSB7XG4gICAgICAgIC8vIHRvYXN0KHsgdGl0bGU6IFwiTXVsdGlwbGUgZmFjZXMgZGV0ZWN0ZWRcIiwgZGVzY3JpcHRpb246IFwiUGxlYXNlIGVuc3VyZSBvbmx5IG9uZSBwZXJzb24gaXMgdmlzaWJsZS5cIiwgdmFyaWFudDogXCJ3YXJuaW5nXCIgfSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgY29uc3QgZGV0ZWN0aW9uID0gZGV0ZWN0aW9uc1swXTtcbiAgICAgIGNvbnN0IGJveCA9IGRldGVjdGlvbi5kZXRlY3Rpb24gPyBkZXRlY3Rpb24uZGV0ZWN0aW9uLmJveCA6IGRldGVjdGlvbi5ib3g7XG5cbiAgICAgIGlmICghYm94KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgY29uc3QgdGVtcENhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7XG4gICAgICBjb25zdCB0ZW1wQ29udGV4dCA9IHRlbXBDYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xuXG4gICAgICBjb25zdCBwYWRkaW5nID0gMC4xO1xuICAgICAgY29uc3QgcGFkZGVkV2lkdGggPSBib3gud2lkdGggKiAoMSArIHBhZGRpbmcgKiAyKTtcbiAgICAgIGNvbnN0IHBhZGRlZEhlaWdodCA9IGJveC5oZWlnaHQgKiAoMSArIHBhZGRpbmcgKiAyKTtcbiAgICAgIGNvbnN0IHBhZGRlZFggPSBib3gueCAtIGJveC53aWR0aCAqIHBhZGRpbmc7XG4gICAgICBjb25zdCBwYWRkZWRZID0gYm94LnkgLSBib3guaGVpZ2h0ICogcGFkZGluZztcblxuICAgICAgY29uc3QgY3JvcFggPSBNYXRoLm1heCgwLCBwYWRkZWRYKTtcbiAgICAgIGNvbnN0IGNyb3BZID0gTWF0aC5tYXgoMCwgcGFkZGVkWSk7XG4gICAgICBjb25zdCBjcm9wV2lkdGggPSBNYXRoLm1pbihwYWRkZWRXaWR0aCwgY3VycmVudFZpZGVvRWxlbWVudC52aWRlb1dpZHRoIC0gY3JvcFgpO1xuICAgICAgY29uc3QgY3JvcEhlaWdodCA9IE1hdGgubWluKHBhZGRlZEhlaWdodCwgY3VycmVudFZpZGVvRWxlbWVudC52aWRlb0hlaWdodCAtIGNyb3BZKTtcbiAgICAgIFxuICAgICAgaWYgKGNyb3BXaWR0aCA8PSAwIHx8IGNyb3BIZWlnaHQgPD0gMCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHRlbXBDYW52YXMud2lkdGggPSBjcm9wV2lkdGg7XG4gICAgICB0ZW1wQ2FudmFzLmhlaWdodCA9IGNyb3BIZWlnaHQ7XG5cbiAgICAgIHRlbXBDb250ZXh0LmRyYXdJbWFnZShcbiAgICAgICAgY3VycmVudFZpZGVvRWxlbWVudCxcbiAgICAgICAgY3JvcFgsXG4gICAgICAgIGNyb3BZLFxuICAgICAgICBjcm9wV2lkdGgsXG4gICAgICAgIGNyb3BIZWlnaHQsXG4gICAgICAgIDAsXG4gICAgICAgIDAsXG4gICAgICAgIGNyb3BXaWR0aCxcbiAgICAgICAgY3JvcEhlaWdodFxuICAgICAgKTtcblxuICAgICAgY29uc3QgaW1hZ2VEYXRhVXJsID0gdGVtcENhbnZhcy50b0RhdGFVUkwoXCJpbWFnZS9qcGVnXCIsIDAuNyk7XG4gICAgICBjb25zdCBiYXNlNjREYXRhID0gaW1hZ2VEYXRhVXJsLnNwbGl0KFwiLFwiKVsxXTtcblxuICAgICAgY29uc3QgbWVzc2FnZSA9IHtcbiAgICAgICAgdHlwZTogXCJ1cGxvYWRfaW1hZ2VcIixcbiAgICAgICAgcGF5bG9hZDoge1xuICAgICAgICAgIGltYWdlX2RhdGE6IGJhc2U2NERhdGEsXG4gICAgICAgICAgbG9iYnlfY29kZTogbG9iYnlDb2RlLFxuICAgICAgICAgIHVzZXJuYW1lOiB1c2VybmFtZSxcbiAgICAgICAgfSxcbiAgICAgIH07XG4gICAgICBcbiAgICAgIGlmIChzZW5kTWVzc2FnZSkge1xuICAgICAgICBzZW5kTWVzc2FnZShKU09OLnN0cmluZ2lmeShtZXNzYWdlKSk7XG4gICAgICB9XG5cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihcIkZhY2UgY3JvcCBhbmQgc2VuZCBlcnJvcjpcIiwgZXJyb3IpO1xuICAgICAgLy8gdG9hc3Qoe1xuICAgICAgLy8gICB0aXRsZTogXCJGYWNlIERldGVjdGlvbiBFcnJvclwiLFxuICAgICAgLy8gICBkZXNjcmlwdGlvbjogYEZhaWxlZCB0byBjcm9wIGFuZCBzZW5kIGZhY2U6ICR7ZXJyb3IubWVzc2FnZX1gLFxuICAgICAgLy8gICB2YXJpYW50OiBcImRlc3RydWN0aXZlXCIsXG4gICAgICAvLyB9KTtcbiAgICB9XG4gIH1cblxuICAvLyBSZW5hbWVkIHRvIGF2b2lkIGNvbmZsaWN0IHdpdGggZGV0ZWN0QW5kU2VuZEZhY2Ugd2hpY2ggaXMgYXN5bmNcbiAgZnVuY3Rpb24gdHJpZ2dlckZhY2VJbWFnZVNlbmQoKSB7IFxuICAgIGlmICghaXNDb25uZWN0ZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgY3VycmVudFZpZGVvRWxlbWVudCA9IHZpZGVvRWxlbWVudFJlZi5jdXJyZW50O1xuICAgIGlmICghY3VycmVudFZpZGVvRWxlbWVudCB8fCBjdXJyZW50VmlkZW9FbGVtZW50LnBhdXNlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoIW1vZGVsc0xvYWRlZCB8fCAhZmFjZUFwaUxvYWRlZCkgeyAvLyBDaGVjayBib3RoIGZsYWdzXG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGRldGVjdEFuZFNlbmRGYWNlKCk7IC8vIENhbGwgdGhlIGFzeW5jIGZ1bmN0aW9uXG4gIH1cblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGxldCBpbnRlcnZhbElkO1xuICAgIGlmIChpc0Nvbm5lY3RlZCAmJiBtb2RlbHNMb2FkZWQgJiYgZmFjZUFwaUxvYWRlZCAmJiByb2xlID09PSBcInBsYXllclwiKSB7XG4gICAgICBpbnRlcnZhbElkID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgICB0cmlnZ2VyRmFjZUltYWdlU2VuZCgpOyAvLyBVc2UgdGhlIHJlbmFtZWQgd3JhcHBlciBmdW5jdGlvblxuICAgICAgfSwgNTAwKTtcbiAgICB9XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGlmIChpbnRlcnZhbElkKSB7XG4gICAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWxJZCk7XG4gICAgICB9XG4gICAgfTtcbiAgfSwgW2lzQ29ubmVjdGVkLCBtb2RlbHNMb2FkZWQsIGZhY2VBcGlMb2FkZWQsIHJvbGUsIGxvYmJ5Q29kZSwgdXNlcm5hbWUsIHNlbmRNZXNzYWdlXSk7IC8vIEFkZGVkIHJlbGV2YW50IGRlcGVuZGVuY2llc1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGlmICh2aWRlb0NvbnRhaW5lclJlZi5jdXJyZW50Py5fY2xlYW51cCkge1xuICAgICAgICB2aWRlb0NvbnRhaW5lclJlZi5jdXJyZW50Ll9jbGVhbnVwKClcbiAgICAgIH1cbiAgICB9XG4gIH0sIFtdKVxuXG4gIGNvbnN0IGhhbmRsZUxlYXZlR2FtZSA9ICgpID0+IHtcbiAgICBkaXNjb25uZWN0KClcbiAgICByb3V0ZXIucHVzaChcIi9sb2JieVwiKVxuICB9XG5cbiAgaWYgKGNvbm5lY3Rpb25FcnJvcikge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1pbi1oLXNjcmVlbiBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBiZy1ncmFkaWVudC10by1iciBmcm9tLXB1cnBsZS02MDAgdmlhLXBpbmstNjAwIHRvLWJsdWUtNjAwIHAtNFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLXdoaXRlLzk1IGJhY2tkcm9wLWJsdXIteGwgcm91bmRlZC0zeGwgcC04IHRleHQtY2VudGVyXCI+XG4gICAgICAgICAgPGgyIGNsYXNzTmFtZT1cInRleHQtMnhsIGZvbnQtYm9sZCB0ZXh0LXJlZC02MDAgbWItNFwiPkNvbm5lY3Rpb24gRXJyb3I8L2gyPlxuICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtZ3JheS03MDAgbWItNFwiPntjb25uZWN0aW9uRXJyb3J9PC9wPlxuICAgICAgICAgIDxCdXR0b24gb25DbGljaz17KCkgPT4gcm91dGVyLnB1c2goXCIvbG9iYnlcIil9IGNsYXNzTmFtZT1cImJnLXB1cnBsZS02MDAgaG92ZXI6YmctcHVycGxlLTcwMFwiPlxuICAgICAgICAgICAgUmV0dXJuIHRvIExvYmJ5XG4gICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cIm1pbi1oLXNjcmVlbiBmbGV4IGZsZXgtY29sIGJnLWdyYWRpZW50LXRvLWJyIGZyb20tcHVycGxlLTYwMCB2aWEtcGluay02MDAgdG8tYmx1ZS02MDBcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXIgcHktNFwiPlxuICAgICAgICA8aDEgY2xhc3NOYW1lPVwidGV4dC13aGl0ZSB0ZXh0LTR4bCBmb250LWJvbGQgdHJhY2tpbmctd2lkZVwiPlxuICAgICAgICAgIEtSQUNLTEU8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXllbGxvdy0zMDBcIj4uQ088L3NwYW4+XG4gICAgICAgIDwvaDE+XG4gICAgICAgIDxoMiBjbGFzc05hbWU9XCJ0ZXh0LXdoaXRlIHRleHQteGwgbXQtMVwiPkdhbWU6IHtsb2JieUNvZGV9PC9oMj5cbiAgICAgIDwvZGl2PlxuXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgbWQ6ZmxleC1yb3cgZmxleC0xIHAtNCBnYXAtNFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctZnVsbCBtZDp3LTY0IGJnLXdoaXRlLzEwIGJhY2tkcm9wLWJsdXItbWQgcm91bmRlZC14bCBwLTRcIj5cbiAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwidGV4dC13aGl0ZSB0ZXh0LXhsIGZvbnQtYm9sZCBtYi00IGZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XG4gICAgICAgICAgICA8VXNlcnMgY2xhc3NOYW1lPVwidy01IGgtNVwiIC8+IFBsYXllcnNcbiAgICAgICAgICA8L2gzPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0yIG1heC1oLVs2MHZoXSBvdmVyZmxvdy15LWF1dG9cIj5cbiAgICAgICAgICAgIHtwbGF5ZXJzLmxlbmd0aCA+IDAgPyAoXG4gICAgICAgICAgICAgIHBsYXllcnMubWFwKChwbGF5ZXIsIGluZGV4KSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgaXNWZXJpZmllZCA9IHZlcmlmaWVkUGxheWVycy5pbmNsdWRlcyhwbGF5ZXIpIC8vIFJFVkVSVEVEOiBDaGVjayBkaXJlY3RseSBhZ2FpbnN0IHBsYXllciBzdHJpbmdcblxuICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgIGtleT17aW5kZXh9IFxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2BwLTMgcm91bmRlZC1sZyAke1xuICAgICAgICAgICAgICAgICAgICAgIGlzVmVyaWZpZWRcbiAgICAgICAgICAgICAgICAgICAgICAgID8gXCJiZy1ncmFkaWVudC10by1yIGZyb20tZ3JlZW4tMjAwLzgwIHRvLWdyZWVuLTEwMC84MCBiYWNrZHJvcC1ibHVyLW1kXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIDogXCJiZy1ncmF5LTIwMC84MCBiYWNrZHJvcC1ibHVyLW1kXCJcbiAgICAgICAgICAgICAgICAgICAgfSBmbGV4IGl0ZW1zLWNlbnRlcmB9XG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2BoLTggdy04IHJvdW5kZWQtZnVsbCAke1xuICAgICAgICAgICAgICAgICAgICAgICAgaXNWZXJpZmllZCA/IFwiYmctZ3JhZGllbnQtdG8tciBmcm9tLWdyZWVuLTUwMCB0by1lbWVyYWxkLTUwMFwiIDogXCJiZy1ncmF5LTUwMFwiXG4gICAgICAgICAgICAgICAgICAgICAgfSB0ZXh0LXdoaXRlIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIG1yLTNgfVxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAge3BsYXllci5jaGFyQXQoMCkudG9VcHBlckNhc2UoKX0gXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJmb250LW1lZGl1bVwiPlxuICAgICAgICAgICAgICAgICAgICAgIHtwbGF5ZXJ9IHtwbGF5ZXIgPT09IHVzZXJuYW1lICYmIFwiKFlvdSlcIn0gXG4gICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgey8qIFJFVkVSVEVEOiBPcmlnaW5hbCBhZG1pbiBjaGVjayAoZmlyc3QgcGxheWVyKSAqL31cbiAgICAgICAgICAgICAgICAgICAge2luZGV4ID09PSAwICYmIDxDcm93biBjbGFzc05hbWU9XCJ3LTQgaC00IHRleHQteWVsbG93LTUwMCBtbC0yXCIgLz59XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtY2VudGVyIHB5LTQgdGV4dC13aGl0ZVwiPlxuICAgICAgICAgICAgICAgIDxMb2FkZXIyIGNsYXNzTmFtZT1cInctNiBoLTYgYW5pbWF0ZS1zcGluIG14LWF1dG8gbWItMlwiIC8+XG4gICAgICAgICAgICAgICAgPHA+TG9hZGluZyBwbGF5ZXJzLi4uPC9wPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC0xIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LVs0MDBweF0gYmctd2hpdGUgcm91bmRlZC14bCBwLTQgaC1bNjAwcHhdIGZsZXggZmxleC1jb2xcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWJldHdlZW4gaXRlbXMtY2VudGVyIG1iLTRcIj5cbiAgICAgICAgICAgICAgPGgzIGNsYXNzTmFtZT1cInRleHQtMnhsIGZvbnQtYm9sZFwiPkdhbWUgVmlkZW88L2gzPlxuICAgICAgICAgICAgICB7cm9sZSA9PT0gXCJsb2JieS1hZG1pblwiICYmIChcbiAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICBvbkNsaWNrPXtyZXF1ZXN0TmV3VmlkZW99XG4gICAgICAgICAgICAgICAgICBkaXNhYmxlZD17aXNMb2FkaW5nVmlkZW99XG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJiZy1wdXJwbGUtNjAwIGhvdmVyOmJnLXB1cnBsZS03MDAgdGV4dC13aGl0ZVwiXG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAge2lzTG9hZGluZ1ZpZGVvID8gKFxuICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgIDxMb2FkZXIyIGNsYXNzTmFtZT1cInctNCBoLTQgbXItMiBhbmltYXRlLXNwaW5cIiAvPlxuICAgICAgICAgICAgICAgICAgICAgIExvYWRpbmcuLi5cbiAgICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgIDxSZWZyZXNoQ3cgY2xhc3NOYW1lPVwidy00IGgtNCBtci0yXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICBOZXcgVmlkZW9cbiAgICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC0xIHJlbGF0aXZlIHctZnVsbCByb3VuZGVkLWxnIG92ZXJmbG93LWhpZGRlbiBiZy1ibGFja1wiIHJlZj17dmlkZW9Db250YWluZXJSZWZ9PlxuICAgICAgICAgICAgICB7IXZpZGVvX3VybCAmJiAhdmlkZW9VcmwgJiYgKFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWJzb2x1dGUgaW5zZXQtMCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICA8UGxheSBjbGFzc05hbWU9XCJ3LTEyIGgtMTIgbXgtYXV0byBtYi00IHRleHQtZ3JheS01MDBcIiAvPlxuICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNTAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAge3JvbGUgPT09IFwibG9iYnktYWRtaW5cIlxuICAgICAgICAgICAgICAgICAgICAgICAgPyBcIkNsaWNrICdOZXcgVmlkZW8nIHRvIHN0YXJ0IHRoZSBnYW1lXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIDogXCJXYWl0aW5nIGZvciB0aGUgaG9zdCB0byBzdGFydCBhIHZpZGVvLi4uXCJ9XG4gICAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtNCBmbGV4IGp1c3RpZnktY2VudGVyXCI+XG4gICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJiZy1yZWQtNDAwIGhvdmVyOmJnLXJlZC01MDAgdGV4dC13aGl0ZSByb3VuZGVkLWZ1bGwgcHgtNiBweS0yIHRleHQtbGcgZm9udC1ib2xkXCJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVMZWF2ZUdhbWV9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8TG9nT3V0IGNsYXNzTmFtZT1cInctNSBoLTUgbXItMlwiIC8+XG4gICAgICAgICAgICAgICAgTEVBVkUgR0FNRVxuICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImZpeGVkIGJvdHRvbS02IHJpZ2h0LTYgei0yMFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJlbGF0aXZlIGZsZXggZmxleC1jb2wgaXRlbXMtY2VudGVyXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyZWxhdGl2ZSB3LTggaC00MCBtYi0wXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIGluc2V0LTAgYmctd2hpdGUvMjAgYmFja2Ryb3AtYmx1ci1zbSByb3VuZGVkLWZ1bGwgYm9yZGVyIGJvcmRlci13aGl0ZS8zMFwiPjwvZGl2PlxuICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJhYnNvbHV0ZSBib3R0b20tMCBsZWZ0LTAgcmlnaHQtMCByb3VuZGVkLWZ1bGwgdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMzAwIGVhc2Utb3V0XCJcbiAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IGAke2dhbWVQcm9ncmVzc30lYCxcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiBgbGluZWFyLWdyYWRpZW50KHRvIHRvcCwgIzIyYzU1ZSwgI2VhYjMwOCwgI2VmNDQ0NClgLFxuICAgICAgICAgICAgICAgIG1hcmdpbjogXCIycHhcIixcbiAgICAgICAgICAgICAgICB3aWR0aDogXCJjYWxjKDEwMCUgLSA0cHgpXCIsXG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICA+PC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIC1yaWdodC0xMCB0b3AtMS8yIC10cmFuc2xhdGUteS0xLzJcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy1ibGFjay81MCBiYWNrZHJvcC1ibHVyLXNtIHJvdW5kZWQtbGcgcHgtMiBweS0xXCI+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC13aGl0ZSBmb250LWJvbGQgdGV4dC14c1wiPntNYXRoLnJvdW5kKGdhbWVQcm9ncmVzcyl9JTwvc3Bhbj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmVsYXRpdmVcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmVsYXRpdmUgdy0zMiBoLTMyIHJvdW5kZWQtZnVsbCBvdmVyZmxvdy1oaWRkZW4gYm9yZGVyLTQgYm9yZGVyLXdoaXRlLzMwIHNoYWRvdy14bFwiPlxuICAgICAgICAgICAgICB7LyogTU9ESUZJRUQ6IFVzZSB2aWRlb0VsZW1lbnRSZWYgZm9yIHRoZSB3ZWJjYW0gdmlkZW8gZWxlbWVudCAqL31cbiAgICAgICAgICAgICAgPHZpZGVvIHJlZj17dmlkZW9FbGVtZW50UmVmfSBpZD1cIndlYmNhbVwiIGNsYXNzTmFtZT1cImFic29sdXRlIHctZnVsbCBoLWZ1bGwgb2JqZWN0LWNvdmVyXCIgYXV0b1BsYXkgcGxheXNJbmxpbmUgbXV0ZWQ+PC92aWRlbz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSB0b3AtMSByaWdodC0xIHotMTBcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMSBiZy1ibGFjay81MCBiYWNrZHJvcC1ibHVyLXNtIHJvdW5kZWQtZnVsbCBweC0xLjUgcHktMC41XCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTEuNSBoLTEuNSBiZy1yZWQtNTAwIHJvdW5kZWQtZnVsbCBhbmltYXRlLXB1bHNlXCI+PC9kaXY+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC13aGl0ZSB0ZXh0LXhzIGZvbnQtbWVkaXVtXCI+TElWRTwvc3Bhbj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cblxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJweS00IHRleHQtY2VudGVyIHRleHQtd2hpdGUgdGV4dC14c1wiPlxuICAgICAgICBNQURFIFdJVEggTE9WRSBCWSBIQVlTT04sIE5FTFNPTiwgQU5EIEJPWUEgPHNwYW4gY2xhc3NOYW1lPVwibWwtMVwiPuKdpO+4jzwvc3Bhbj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApXG59XG4iXSwibmFtZXMiOlsidXNlRWZmZWN0IiwidXNlU3RhdGUiLCJ1c2VSZWYiLCJ1c2VSb3V0ZXIiLCJ1c2VTZWFyY2hQYXJhbXMiLCJ1c2VUb2FzdCIsIkJ1dHRvbiIsIlVzZXJzIiwiQ3Jvd24iLCJMb2FkZXIyIiwiUmVmcmVzaEN3IiwiUGxheSIsIkxvZ091dCIsInVzZVdlYlNvY2tldCIsIkFQSV9CQVNFX1VSTCIsIkdhbWVQYWdlIiwidXNlcm5hbWUiLCJzZXRVc2VybmFtZSIsImxvYmJ5Q29kZSIsInNldExvYmJ5Q29kZSIsInVzZXJUb2tlbiIsInNldFVzZXJUb2tlbiIsInJvbGUiLCJzZXRSb2xlIiwiaXNMb2FkaW5nVmlkZW8iLCJzZXRJc0xvYWRpbmdWaWRlbyIsInZlcmlmaWVkUGxheWVycyIsInNldFZlcmlmaWVkUGxheWVycyIsInZpZGVvVXJsIiwic2V0VmlkZW9VcmwiLCJnYW1lUHJvZ3Jlc3MiLCJzZXRHYW1lUHJvZ3Jlc3MiLCJtb2RlbHNMb2FkZWQiLCJzZXRNb2RlbHNMb2FkZWQiLCJmYWNlQXBpTG9hZGVkIiwic2V0RmFjZUFwaUxvYWRlZCIsInZpZGVvQ29udGFpbmVyUmVmIiwidmlkZW9FbGVtZW50UmVmIiwicm91dGVyIiwic2VhcmNoUGFyYW1zIiwidG9hc3QiLCJ2aWRlb191cmwiLCJpc0Nvbm5lY3RlZCIsInBsYXllcnMiLCJjb25uZWN0aW9uRXJyb3IiLCJzZW5kTWVzc2FnZSIsImRpc2Nvbm5lY3QiLCJ3aW5kb3ciLCJmYWNlYXBpIiwic2NyaXB0IiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50Iiwic3JjIiwiYXN5bmMiLCJvbmxvYWQiLCJvbmVycm9yIiwidGl0bGUiLCJkZXNjcmlwdGlvbiIsInZhcmlhbnQiLCJib2R5IiwiYXBwZW5kQ2hpbGQiLCJzdG9yZWRVc2VybmFtZSIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJzdG9yZWRMb2JieSIsInN0b3JlZFRva2VuIiwic3RvcmVkQWRtaW5Ub2tlbiIsInN0b3JlZFJvbGUiLCJ1cmxMb2JieUNvZGUiLCJnZXQiLCJwdXNoIiwid2Vic29ja2V0Um9sZSIsInJlcXVlc3ROZXdWaWRlbyIsImxvYWRNb2RlbHMiLCJNT0RFTF9VUkwiLCJuZXRzIiwidGlueUZhY2VEZXRlY3RvciIsImxvYWRGcm9tVXJpIiwiZXJyb3IiLCJjb25zb2xlIiwiaW5pdFdlYmNhbSIsInN0cmVhbSIsIm5hdmlnYXRvciIsIm1lZGlhRGV2aWNlcyIsImdldFVzZXJNZWRpYSIsInZpZGVvIiwiY3VycmVudCIsInNyY09iamVjdCIsImVyciIsInRyYWNrcyIsImdldFRyYWNrcyIsImZvckVhY2giLCJ0cmFjayIsInN0b3AiLCJKU09OIiwic3RyaW5naWZ5IiwidHlwZSIsImdldFlvdVR1YmVWaWRlb0lkIiwidXJsIiwicmVnRXhwIiwibWF0Y2giLCJsZW5ndGgiLCJsb2FkX3ZpZGVvX2Zyb21fdXJsIiwidmlkZW9fdXJsX2Zyb21fd3MiLCJ3YXJuIiwiY29udGFpbmVyIiwiaW5uZXJIVE1MIiwibG9hZGluZ092ZXJsYXkiLCJjbGFzc05hbWUiLCJ2aWRlb0lkIiwiaWZyYW1lIiwiZnJhbWVCb3JkZXIiLCJhbGxvdyIsImFsbG93RnVsbHNjcmVlbiIsInN0eWxlIiwicG9pbnRlckV2ZW50cyIsIm9wYWNpdHkiLCJzZXRUaW1lb3V0IiwicGFyZW50Tm9kZSIsInJlbW92ZUNoaWxkIiwiaGFuZGxlVmlkZW9FcnJvciIsImF1dG9wbGF5IiwibXV0ZWQiLCJwbGF5c0lubGluZSIsImxvb3AiLCJwcmVsb2FkIiwiY29udHJvbHMiLCJvbmxvYWRlZGRhdGEiLCJlcnJvck1lc3NhZ2UiLCJkZXRlY3RBbmRTZW5kRmFjZSIsImN1cnJlbnRWaWRlb0VsZW1lbnQiLCJwYXVzZWQiLCJyZWFkeVN0YXRlIiwib3B0aW9ucyIsIlRpbnlGYWNlRGV0ZWN0b3JPcHRpb25zIiwiaW5wdXRTaXplIiwic2NvcmVUaHJlc2hvbGQiLCJkZXRlY3Rpb25zIiwiZGV0ZWN0QWxsRmFjZXMiLCJkZXRlY3Rpb24iLCJib3giLCJ0ZW1wQ2FudmFzIiwidGVtcENvbnRleHQiLCJnZXRDb250ZXh0IiwicGFkZGluZyIsInBhZGRlZFdpZHRoIiwid2lkdGgiLCJwYWRkZWRIZWlnaHQiLCJoZWlnaHQiLCJwYWRkZWRYIiwieCIsInBhZGRlZFkiLCJ5IiwiY3JvcFgiLCJNYXRoIiwibWF4IiwiY3JvcFkiLCJjcm9wV2lkdGgiLCJtaW4iLCJ2aWRlb1dpZHRoIiwiY3JvcEhlaWdodCIsInZpZGVvSGVpZ2h0IiwiZHJhd0ltYWdlIiwiaW1hZ2VEYXRhVXJsIiwidG9EYXRhVVJMIiwiYmFzZTY0RGF0YSIsInNwbGl0IiwibWVzc2FnZSIsInBheWxvYWQiLCJpbWFnZV9kYXRhIiwibG9iYnlfY29kZSIsInRyaWdnZXJGYWNlSW1hZ2VTZW5kIiwiaW50ZXJ2YWxJZCIsInNldEludGVydmFsIiwiY2xlYXJJbnRlcnZhbCIsIl9jbGVhbnVwIiwiaGFuZGxlTGVhdmVHYW1lIiwiZGl2IiwiaDIiLCJwIiwib25DbGljayIsImgxIiwic3BhbiIsImgzIiwibWFwIiwicGxheWVyIiwiaW5kZXgiLCJpc1ZlcmlmaWVkIiwiaW5jbHVkZXMiLCJjaGFyQXQiLCJ0b1VwcGVyQ2FzZSIsImRpc2FibGVkIiwicmVmIiwiYmFja2dyb3VuZCIsIm1hcmdpbiIsInJvdW5kIiwiaWQiLCJhdXRvUGxheSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./app/game/page.jsx\n"));

/***/ })

});