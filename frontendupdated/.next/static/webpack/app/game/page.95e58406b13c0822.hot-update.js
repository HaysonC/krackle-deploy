"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/game/page",{

/***/ "(app-pages-browser)/./app/game/page.jsx":
/*!***************************!*\
  !*** ./app/game/page.jsx ***!
  \***************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ GamePage)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_navigation__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/navigation */ \"(app-pages-browser)/./node_modules/next/dist/api/navigation.js\");\n/* harmony import */ var _components_ui_use_toast__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/components/ui/use-toast */ \"(app-pages-browser)/./components/ui/use-toast.ts\");\n/* harmony import */ var _components_ui_button__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/components/ui/button */ \"(app-pages-browser)/./components/ui/button.tsx\");\n/* harmony import */ var _barrel_optimize_names_Crown_Loader2_LogOut_Play_RefreshCw_Users_lucide_react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! __barrel_optimize__?names=Crown,Loader2,LogOut,Play,RefreshCw,Users!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/users.js\");\n/* harmony import */ var _barrel_optimize_names_Crown_Loader2_LogOut_Play_RefreshCw_Users_lucide_react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! __barrel_optimize__?names=Crown,Loader2,LogOut,Play,RefreshCw,Users!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/crown.js\");\n/* harmony import */ var _barrel_optimize_names_Crown_Loader2_LogOut_Play_RefreshCw_Users_lucide_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! __barrel_optimize__?names=Crown,Loader2,LogOut,Play,RefreshCw,Users!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/loader-circle.js\");\n/* harmony import */ var _barrel_optimize_names_Crown_Loader2_LogOut_Play_RefreshCw_Users_lucide_react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! __barrel_optimize__?names=Crown,Loader2,LogOut,Play,RefreshCw,Users!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/refresh-cw.js\");\n/* harmony import */ var _barrel_optimize_names_Crown_Loader2_LogOut_Play_RefreshCw_Users_lucide_react__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! __barrel_optimize__?names=Crown,Loader2,LogOut,Play,RefreshCw,Users!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/play.js\");\n/* harmony import */ var _barrel_optimize_names_Crown_Loader2_LogOut_Play_RefreshCw_Users_lucide_react__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! __barrel_optimize__?names=Crown,Loader2,LogOut,Play,RefreshCw,Users!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/log-out.js\");\n/* harmony import */ var _hooks_use_websocket__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/hooks/use-websocket */ \"(app-pages-browser)/./hooks/use-websocket.js\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\n\n\n\n\nconst API_BASE_URL = \"https://cd6f-202-28-7-4.ngrok-free.app\";\nfunction GamePage() {\n    _s();\n    const [username, setUsername] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [lobbyCode, setLobbyCode] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [userToken, setUserToken] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [role, setRole] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"player\");\n    const [isLoadingVideo, setIsLoadingVideo] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [verifiedPlayers, setVerifiedPlayers] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [videoUrl, setVideoUrl] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [gameProgress, setGameProgress] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const [modelsLoaded, setModelsLoaded] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [faceApiLoaded, setFaceApiLoaded] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const videoContainerRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const videoElementRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null); // Added ref for video element\n    const router = (0,next_navigation__WEBPACK_IMPORTED_MODULE_2__.useRouter)();\n    const searchParams = (0,next_navigation__WEBPACK_IMPORTED_MODULE_2__.useSearchParams)();\n    const { toast } = (0,_components_ui_use_toast__WEBPACK_IMPORTED_MODULE_3__.useToast)();\n    const { video_url, isConnected, players, connectionError, sendMessage, disconnect } = (0,_hooks_use_websocket__WEBPACK_IMPORTED_MODULE_5__.useWebSocket)(lobbyCode, username, userToken, role);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"GamePage.useEffect\": ()=>{\n            if (window.faceapi) {\n                setFaceApiLoaded(true);\n                return;\n            }\n            const script = document.createElement('script');\n            script.src = 'https://cdn.jsdelivr.net/npm/face-api.js@0.22.2/dist/face-api.min.js';\n            script.async = true;\n            script.onload = ({\n                \"GamePage.useEffect\": ()=>{\n                    setFaceApiLoaded(true);\n                // toast({ title: \"FaceAPI Script Loaded\", description: \"Face detection capabilities are now active.\" });\n                }\n            })[\"GamePage.useEffect\"];\n            script.onerror = ({\n                \"GamePage.useEffect\": ()=>{\n                    toast({\n                        title: \"FaceAPI Load Error\",\n                        description: \"Failed to load face detection script.\",\n                        variant: \"destructive\"\n                    });\n                }\n            })[\"GamePage.useEffect\"];\n            document.body.appendChild(script);\n        // No cleanup needed for CDN script that might be used by other pages\n        }\n    }[\"GamePage.useEffect\"], [\n        toast\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"GamePage.useEffect\": ()=>{\n            const storedUsername = localStorage.getItem(\"krackle_username\");\n            const storedLobby = localStorage.getItem(\"krackle_lobby\");\n            const storedToken = localStorage.getItem(\"krackle_user_token\");\n            const storedAdminToken = localStorage.getItem(\"krackle_admin_token\");\n            const storedRole = localStorage.getItem(\"krackle_role\");\n            const urlLobbyCode = searchParams.get(\"lobby_code\");\n            if (!storedUsername || !storedLobby && !urlLobbyCode) {\n                toast({\n                    title: \"Session expired\",\n                    description: \"Please join a lobby again\",\n                    variant: \"destructive\"\n                });\n                router.push(\"/\");\n                return;\n            }\n            setUsername(storedUsername);\n            setLobbyCode(storedLobby || urlLobbyCode);\n            const websocketRole = storedRole === \"admin\" ? \"lobby-admin\" : storedRole || \"player\";\n            setRole(websocketRole);\n            if (storedRole === \"admin\") {\n                setUserToken(storedAdminToken);\n            } else if (storedRole === \"player\") {\n                setUserToken(storedToken);\n            } else {\n                toast({\n                    title: \"Invalid session\",\n                    description: \"Missing authentication token\",\n                    variant: \"destructive\"\n                });\n                router.push(\"/\");\n                return;\n            }\n            if (storedRole === \"admin\") {\n                requestNewVideo();\n            }\n            if (!faceApiLoaded || modelsLoaded) return;\n            const loadModels = {\n                \"GamePage.useEffect.loadModels\": async ()=>{\n                    const MODEL_URL = '/models';\n                    if (!window.faceapi) {\n                        // toast({ title: \"FaceAPI Not Ready\", description: \"Cannot load models yet.\", variant: \"warning\" });\n                        return;\n                    }\n                    try {\n                        // toast({ title: \"Loading Face Models\", description: \"Please wait...\" });\n                        await window.faceapi.nets.tinyFaceDetector.loadFromUri(MODEL_URL);\n                        setModelsLoaded(true);\n                    // toast({ title: \"Face Models Loaded\", description: \"Ready for face detection.\" });\n                    } catch (error) {\n                        console.error(\"Error loading face detection models:\", error);\n                        toast({\n                            title: \"Model Load Error\",\n                            description: \"Could not load face detection models.\",\n                            variant: \"destructive\"\n                        });\n                    }\n                }\n            }[\"GamePage.useEffect.loadModels\"];\n            loadModels();\n        }\n    }[\"GamePage.useEffect\"], [\n        router,\n        searchParams,\n        toast,\n        faceApiLoaded,\n        modelsLoaded\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"GamePage.useEffect\": ()=>{\n            const initWebcam = {\n                \"GamePage.useEffect.initWebcam\": async ()=>{\n                    try {\n                        const stream = await navigator.mediaDevices.getUserMedia({\n                            video: true\n                        });\n                        if (videoElementRef.current) {\n                            videoElementRef.current.srcObject = stream;\n                        }\n                    } catch (err) {\n                        console.error(\"Error accessing webcam:\", err);\n                        toast({\n                            title: \"Webcam Error\",\n                            description: \"Could not access webcam. Please check permissions.\",\n                            variant: \"destructive\"\n                        });\n                    }\n                }\n            }[\"GamePage.useEffect.initWebcam\"];\n            initWebcam();\n            // Cleanup function to stop webcam tracks when component unmounts\n            return ({\n                \"GamePage.useEffect\": ()=>{\n                    if (videoElementRef.current && videoElementRef.current.srcObject) {\n                        const stream = videoElementRef.current.srcObject;\n                        const tracks = stream.getTracks();\n                        tracks.forEach({\n                            \"GamePage.useEffect\": (track)=>track.stop()\n                        }[\"GamePage.useEffect\"]);\n                        videoElementRef.current.srcObject = null;\n                    }\n                }\n            })[\"GamePage.useEffect\"];\n        }\n    }[\"GamePage.useEffect\"], [\n        toast\n    ]);\n    const requestNewVideo = async ()=>{\n        setIsLoadingVideo(true);\n        try {\n            if (isConnected && sendMessage) {\n                sendMessage(JSON.stringify({\n                    type: \"request_video\"\n                }));\n            } else {\n                toast({\n                    title: \"Connection error\",\n                    description: \"Not connected to server to request video.\",\n                    variant: \"destructive\"\n                });\n            }\n        } catch (error) {\n            toast({\n                title: \"Connection error\",\n                description: \"Could not connect to the game server.\",\n                variant: \"destructive\"\n            });\n            console.error(\"Error fetching video:\", error);\n        } finally{\n            setIsLoadingVideo(false);\n        }\n    };\n    const getYouTubeVideoId = (url)=>{\n        if (!url) return null;\n        const regExp = /^.*(youtu.be\\/|v\\/|u\\/\\w\\/|embed\\/|shorts\\/|watch\\?v=|&v=)([^#&?]*).*/;\n        const match = url.match(regExp);\n        return match && match[2].length === 11 ? match[2] : null;\n    };\n    const load_video_from_url = (video_url_from_ws)=>{\n        if (!video_url_from_ws || !videoContainerRef.current) {\n            console.warn(\"No video URL provided or container not found\");\n            return;\n        }\n        setVideoUrl(video_url_from_ws); // Update the videoUrl state\n        const container = videoContainerRef.current;\n        container.innerHTML = \"\";\n        const loadingOverlay = document.createElement(\"div\");\n        loadingOverlay.className = \"absolute inset-0 flex items-center justify-center bg-gradient-to-br from-purple-900/50 to-pink-900/50 backdrop-blur-sm z-10 transition-opacity duration-500\";\n        loadingOverlay.innerHTML = '\\n      <div class=\"text-center\">\\n        <div class=\"w-16 h-16 border-4 border-white/20 border-t-white rounded-full animate-spin mx-auto mb-4\"></div>\\n        <p class=\"text-white text-lg font-medium\">Loading video...</p>\\n      </div>\\n    ';\n        container.appendChild(loadingOverlay);\n        const videoId = getYouTubeVideoId(video_url_from_ws);\n        if (videoId) {\n            const iframe = document.createElement(\"iframe\");\n            iframe.className = \"absolute inset-0 w-full h-full\";\n            iframe.src = \"https://www.youtube.com/embed/\".concat(videoId, \"?autoplay=1&controls=0&disablekb=1&fs=0&modestbranding=1&rel=0&showinfo=0&iv_load_policy=3&enablejsapi=1&playsinline=1&mute=0\");\n            iframe.title = \"Game Video Player\";\n            iframe.frameBorder = \"0\";\n            iframe.allow = \"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\";\n            iframe.allowFullscreen = false;\n            iframe.style.pointerEvents = \"none\";\n            iframe.onload = ()=>{\n                loadingOverlay.style.opacity = \"0\";\n                setTimeout(()=>{\n                    if (loadingOverlay.parentNode) {\n                        loadingOverlay.parentNode.removeChild(loadingOverlay);\n                    }\n                }, 500);\n                toast({\n                    title: \"YouTube Video Loaded\",\n                    description: \"Playback started.\"\n                });\n            };\n            iframe.onerror = ()=>{\n                handleVideoError(\"Failed to load YouTube video\");\n            };\n            container.appendChild(iframe);\n        } else {\n            const video = document.createElement(\"video\");\n            video.className = \"w-full h-full object-cover rounded-xl\";\n            video.src = video_url_from_ws;\n            video.autoplay = true;\n            video.muted = true;\n            video.playsInline = true;\n            video.loop = false;\n            video.preload = \"auto\";\n            video.controls = false;\n            video.style.pointerEvents = \"none\";\n            video.onloadeddata = ()=>{\n                loadingOverlay.style.opacity = \"0\";\n                setTimeout(()=>{\n                    if (loadingOverlay.parentNode) {\n                        loadingOverlay.parentNode.removeChild(loadingOverlay);\n                    }\n                }, 500);\n                toast({\n                    title: \"Video File Loaded\",\n                    description: \"Playback started.\"\n                });\n            };\n            video.onerror = ()=>{\n                handleVideoError(\"Failed to load video file\");\n            };\n            container.appendChild(video);\n        }\n        function handleVideoError(errorMessage) {\n            if (loadingOverlay.parentNode) {\n                loadingOverlay.innerHTML = '\\n        <div class=\"text-center\">\\n          <p class=\"text-red-400 text-lg font-medium mb-2\">Video Load Error</p>\\n          <p class=\"text-white/70 text-sm\">'.concat(errorMessage, \"</p>\\n        </div>\\n      \");\n            }\n            toast({\n                title: \"Video Error\",\n                description: errorMessage,\n                variant: \"destructive\"\n            });\n        }\n    };\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"GamePage.useEffect\": ()=>{\n            if (video_url) {\n                load_video_from_url(video_url);\n            }\n        }\n    }[\"GamePage.useEffect\"], [\n        video_url\n    ]);\n    async function detectAndSendFace() {\n        const currentVideoElement = videoElementRef.current;\n        if (!currentVideoElement || currentVideoElement.paused || currentVideoElement.readyState < 3) {\n            return;\n        }\n        if (!window.faceapi) {\n            return;\n        }\n        try {\n            const options = new window.faceapi.TinyFaceDetectorOptions({\n                inputSize: 224,\n                scoreThreshold: 0.5\n            });\n            const detections = await window.faceapi.detectAllFaces(currentVideoElement, options);\n            if (detections.length === 0) {\n                return;\n            }\n            if (detections.length > 1) {\n                // toast({ title: \"Multiple faces detected\", description: \"Please ensure only one person is visible.\", variant: \"warning\" });\n                return;\n            }\n            const detection = detections[0];\n            const box = detection.detection ? detection.detection.box : detection.box;\n            if (!box) {\n                return;\n            }\n            const tempCanvas = document.createElement(\"canvas\");\n            const tempContext = tempCanvas.getContext(\"2d\");\n            const padding = 0.1;\n            const paddedWidth = box.width * (1 + padding * 2);\n            const paddedHeight = box.height * (1 + padding * 2);\n            const paddedX = box.x - box.width * padding;\n            const paddedY = box.y - box.height * padding;\n            const cropX = Math.max(0, paddedX);\n            const cropY = Math.max(0, paddedY);\n            const cropWidth = Math.min(paddedWidth, currentVideoElement.videoWidth - cropX);\n            const cropHeight = Math.min(paddedHeight, currentVideoElement.videoHeight - cropY);\n            if (cropWidth <= 0 || cropHeight <= 0) {\n                return;\n            }\n            tempCanvas.width = cropWidth;\n            tempCanvas.height = cropHeight;\n            tempContext.drawImage(currentVideoElement, cropX, cropY, cropWidth, cropHeight, 0, 0, cropWidth, cropHeight);\n            const imageDataUrl = tempCanvas.toDataURL(\"image/jpeg\", 0.7);\n            const base64Data = imageDataUrl.split(\",\")[1];\n            const message = {\n                type: \"upload_image\",\n                payload: {\n                    image_data: base64Data,\n                    lobby_code: lobbyCode,\n                    username: username\n                }\n            };\n            if (sendMessage) {\n                sendMessage(JSON.stringify(message));\n            }\n        } catch (error) {\n            console.error(\"Face crop and send error:\", error);\n        // toast({\n        //   title: \"Face Detection Error\",\n        //   description: `Failed to crop and send face: ${error.message}`,\n        //   variant: \"destructive\",\n        // });\n        }\n    }\n    // Renamed to avoid conflict with detectAndSendFace which is async\n    function triggerFaceImageSend() {\n        if (!isConnected) {\n            return;\n        }\n        const currentVideoElement = videoElementRef.current;\n        if (!currentVideoElement || currentVideoElement.paused) {\n            return;\n        }\n        if (!modelsLoaded || !faceApiLoaded) {\n            return;\n        }\n        detectAndSendFace(); // Call the async function\n    }\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"GamePage.useEffect\": ()=>{\n            let intervalId;\n            if (isConnected && modelsLoaded && faceApiLoaded && role === \"player\") {\n                intervalId = setInterval({\n                    \"GamePage.useEffect\": ()=>{\n                        triggerFaceImageSend(); // Use the renamed wrapper function\n                    }\n                }[\"GamePage.useEffect\"], 500);\n            }\n            return ({\n                \"GamePage.useEffect\": ()=>{\n                    if (intervalId) {\n                        clearInterval(intervalId);\n                    }\n                }\n            })[\"GamePage.useEffect\"];\n        }\n    }[\"GamePage.useEffect\"], [\n        isConnected,\n        modelsLoaded,\n        faceApiLoaded,\n        role,\n        lobbyCode,\n        username,\n        sendMessage\n    ]); // Added relevant dependencies\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"GamePage.useEffect\": ()=>{\n            return ({\n                \"GamePage.useEffect\": ()=>{\n                    var _videoContainerRef_current;\n                    if ((_videoContainerRef_current = videoContainerRef.current) === null || _videoContainerRef_current === void 0 ? void 0 : _videoContainerRef_current._cleanup) {\n                        videoContainerRef.current._cleanup();\n                    }\n                }\n            })[\"GamePage.useEffect\"];\n        }\n    }[\"GamePage.useEffect\"], []);\n    const handleLeaveGame = ()=>{\n        disconnect();\n        router.push(\"/lobby\");\n    };\n    if (connectionError) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"min-h-screen flex items-center justify-center bg-gradient-to-br from-purple-600 via-pink-600 to-blue-600 p-4\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"bg-white/95 backdrop-blur-xl rounded-3xl p-8 text-center\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                        className: \"text-2xl font-bold text-red-600 mb-4\",\n                        children: \"Connection Error\"\n                    }, void 0, false, {\n                        fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                        lineNumber: 414,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"text-gray-700 mb-4\",\n                        children: connectionError\n                    }, void 0, false, {\n                        fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                        lineNumber: 415,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_4__.Button, {\n                        onClick: ()=>router.push(\"/lobby\"),\n                        className: \"bg-purple-600 hover:bg-purple-700\",\n                        children: \"Return to Lobby\"\n                    }, void 0, false, {\n                        fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                        lineNumber: 416,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                lineNumber: 413,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n            lineNumber: 412,\n            columnNumber: 7\n        }, this);\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"min-h-screen flex flex-col bg-gradient-to-br from-purple-600 via-pink-600 to-blue-600\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"text-center py-4\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                        className: \"text-white text-4xl font-bold tracking-wide\",\n                        children: [\n                            \"KRACKLE\",\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: \"text-yellow-300\",\n                                children: \".CO\"\n                            }, void 0, false, {\n                                fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                lineNumber: 428,\n                                columnNumber: 18\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                        lineNumber: 427,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                        className: \"text-white text-xl mt-1\",\n                        children: [\n                            \"Game: \",\n                            lobbyCode\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                        lineNumber: 430,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                lineNumber: 426,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex flex-col md:flex-row flex-1 p-4 gap-4\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"w-full md:w-64 bg-white/10 backdrop-blur-md rounded-xl p-4\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                className: \"text-white text-xl font-bold mb-4 flex items-center gap-2\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Crown_Loader2_LogOut_Play_RefreshCw_Users_lucide_react__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n                                        className: \"w-5 h-5\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                        lineNumber: 436,\n                                        columnNumber: 13\n                                    }, this),\n                                    \" Players\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                lineNumber: 435,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"space-y-2 max-h-[60vh] overflow-y-auto\",\n                                children: players.length > 0 ? players.map((player, index)=>{\n                                    const isVerified = verifiedPlayers.includes(player) // REVERTED: Check directly against player string\n                                    ;\n                                    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"p-3 rounded-lg \".concat(isVerified ? \"bg-gradient-to-r from-green-200/80 to-green-100/80 backdrop-blur-md\" : \"bg-gray-200/80 backdrop-blur-md\", \" flex items-center\"),\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"h-8 w-8 rounded-full \".concat(isVerified ? \"bg-gradient-to-r from-green-500 to-emerald-500\" : \"bg-gray-500\", \" text-white flex items-center justify-center mr-3\"),\n                                                children: player.charAt(0).toUpperCase()\n                                            }, void 0, false, {\n                                                fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                                lineNumber: 452,\n                                                columnNumber: 21\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"font-medium\",\n                                                children: [\n                                                    player,\n                                                    \" \",\n                                                    player === username && \"(You)\"\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                                lineNumber: 459,\n                                                columnNumber: 21\n                                            }, this),\n                                            index === 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Crown_Loader2_LogOut_Play_RefreshCw_Users_lucide_react__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n                                                className: \"w-4 h-4 text-yellow-500 ml-2\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                                lineNumber: 463,\n                                                columnNumber: 37\n                                            }, this)\n                                        ]\n                                    }, index, true, {\n                                        fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                        lineNumber: 444,\n                                        columnNumber: 19\n                                    }, this);\n                                }) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"text-center py-4 text-white\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Crown_Loader2_LogOut_Play_RefreshCw_Users_lucide_react__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n                                            className: \"w-6 h-6 animate-spin mx-auto mb-2\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                            lineNumber: 469,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                            children: \"Loading players...\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                            lineNumber: 470,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                    lineNumber: 468,\n                                    columnNumber: 15\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                lineNumber: 438,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                        lineNumber: 434,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex-1 flex items-center justify-center\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"w-[400px] bg-white rounded-xl p-4 h-[600px] flex flex-col\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex justify-between items-center mb-4\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                            className: \"text-2xl font-bold\",\n                                            children: \"Game Video\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                            lineNumber: 479,\n                                            columnNumber: 15\n                                        }, this),\n                                        role === \"lobby-admin\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_4__.Button, {\n                                            onClick: requestNewVideo,\n                                            disabled: isLoadingVideo,\n                                            className: \"bg-purple-600 hover:bg-purple-700 text-white\",\n                                            children: isLoadingVideo ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Crown_Loader2_LogOut_Play_RefreshCw_Users_lucide_react__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n                                                        className: \"w-4 h-4 mr-2 animate-spin\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                                        lineNumber: 488,\n                                                        columnNumber: 23\n                                                    }, this),\n                                                    \"Loading...\"\n                                                ]\n                                            }, void 0, true) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Crown_Loader2_LogOut_Play_RefreshCw_Users_lucide_react__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n                                                        className: \"w-4 h-4 mr-2\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                                        lineNumber: 493,\n                                                        columnNumber: 23\n                                                    }, this),\n                                                    \"New Video\"\n                                                ]\n                                            }, void 0, true)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                            lineNumber: 481,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                    lineNumber: 478,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex-1 relative w-full rounded-lg overflow-hidden bg-black\",\n                                    ref: videoContainerRef,\n                                    children: !video_url && !videoUrl && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"absolute inset-0 flex items-center justify-center\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"text-center\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Crown_Loader2_LogOut_Play_RefreshCw_Users_lucide_react__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\n                                                    className: \"w-12 h-12 mx-auto mb-4 text-gray-500\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                                    lineNumber: 505,\n                                                    columnNumber: 21\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                    className: \"text-gray-500\",\n                                                    children: role === \"lobby-admin\" ? \"Click 'New Video' to start the game\" : \"Waiting for the host to start a video...\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                                    lineNumber: 506,\n                                                    columnNumber: 21\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                            lineNumber: 504,\n                                            columnNumber: 19\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                        lineNumber: 503,\n                                        columnNumber: 17\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                    lineNumber: 501,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"mt-4 flex justify-center\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_4__.Button, {\n                                        className: \"bg-red-400 hover:bg-red-500 text-white rounded-full px-6 py-2 text-lg font-bold\",\n                                        onClick: handleLeaveGame,\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Crown_Loader2_LogOut_Play_RefreshCw_Users_lucide_react__WEBPACK_IMPORTED_MODULE_11__[\"default\"], {\n                                                className: \"w-5 h-5 mr-2\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                                lineNumber: 521,\n                                                columnNumber: 17\n                                            }, this),\n                                            \"LEAVE GAME\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                        lineNumber: 517,\n                                        columnNumber: 15\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                    lineNumber: 516,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                            lineNumber: 477,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                        lineNumber: 476,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                lineNumber: 433,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"fixed bottom-6 right-6 z-20\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"relative flex flex-col items-center\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"relative w-8 h-40 mb-0\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"absolute inset-0 bg-white/20 backdrop-blur-sm rounded-full border border-white/30\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                    lineNumber: 532,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"absolute bottom-0 left-0 right-0 rounded-full transition-all duration-300 ease-out\",\n                                    style: {\n                                        height: \"\".concat(gameProgress, \"%\"),\n                                        background: \"linear-gradient(to top, #22c55e, #eab308, #ef4444)\",\n                                        margin: \"2px\",\n                                        width: \"calc(100% - 4px)\"\n                                    }\n                                }, void 0, false, {\n                                    fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                    lineNumber: 533,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"absolute -right-10 top-1/2 -translate-y-1/2\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"bg-black/50 backdrop-blur-sm rounded-lg px-2 py-1\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"text-white font-bold text-xs\",\n                                            children: [\n                                                Math.round(gameProgress),\n                                                \"%\"\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                            lineNumber: 544,\n                                            columnNumber: 17\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                        lineNumber: 543,\n                                        columnNumber: 15\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                    lineNumber: 542,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                            lineNumber: 531,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"relative\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"relative w-32 h-32 rounded-full overflow-hidden border-4 border-white/30 shadow-xl\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"video\", {\n                                        ref: videoElementRef,\n                                        id: \"webcam\",\n                                        className: \"absolute w-full h-full object-cover\",\n                                        autoPlay: true,\n                                        playsInline: true,\n                                        muted: true\n                                    }, void 0, false, {\n                                        fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                        lineNumber: 552,\n                                        columnNumber: 15\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                    lineNumber: 550,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"absolute top-1 right-1 z-10\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex items-center gap-1 bg-black/50 backdrop-blur-sm rounded-full px-1.5 py-0.5\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"w-1.5 h-1.5 bg-red-500 rounded-full animate-pulse\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                                lineNumber: 556,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"text-white text-xs font-medium\",\n                                                children: \"LIVE\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                                lineNumber: 557,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                        lineNumber: 555,\n                                        columnNumber: 15\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                                    lineNumber: 554,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                            lineNumber: 549,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                    lineNumber: 530,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                lineNumber: 529,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"py-4 text-center text-white text-xs\",\n                children: [\n                    \"MADE WITH LOVE BY HAYSON, NELSON, AND BOYA \",\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                        className: \"ml-1\",\n                        children: \"❤️\"\n                    }, void 0, false, {\n                        fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                        lineNumber: 565,\n                        columnNumber: 52\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n                lineNumber: 564,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/haysoncheung/programs/pythonProject/krackle2/frontendupdated/app/game/page.jsx\",\n        lineNumber: 425,\n        columnNumber: 5\n    }, this);\n}\n_s(GamePage, \"UvCBuHARTu5ky20DcDS9POYAnTU=\", false, function() {\n    return [\n        next_navigation__WEBPACK_IMPORTED_MODULE_2__.useRouter,\n        next_navigation__WEBPACK_IMPORTED_MODULE_2__.useSearchParams,\n        _components_ui_use_toast__WEBPACK_IMPORTED_MODULE_3__.useToast,\n        _hooks_use_websocket__WEBPACK_IMPORTED_MODULE_5__.useWebSocket\n    ];\n});\n_c = GamePage;\nvar _c;\n$RefreshReg$(_c, \"GamePage\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUNELEtBQUs7Ozs7Ozs7Ozs7OzhDQUVySCw4REFBQ3VEO29DQUFJckUsV0FBVTs4Q0FDYiw0RUFBQ3FFO3dDQUFJckUsV0FBVTs7MERBQ2IsOERBQUNxRTtnREFBSXJFLFdBQVU7Ozs7OzswREFDZiw4REFBQzBFO2dEQUFLMUUsV0FBVTswREFBaUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7MEJBTzNELDhEQUFDcUU7Z0JBQUlyRSxXQUFVOztvQkFBc0M7a0NBQ1IsOERBQUMwRTt3QkFBSzFFLFdBQVU7a0NBQU87Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUkxRTtHQTdpQndCN0Y7O1FBY1BaLHNEQUFTQTtRQUNIQyw0REFBZUE7UUFDbEJDLDhEQUFRQTtRQUU0RFEsOERBQVlBOzs7S0FsQjVFRSIsInNvdXJjZXMiOlsiL1VzZXJzL2hheXNvbmNoZXVuZy9wcm9ncmFtcy9weXRob25Qcm9qZWN0L2tyYWNrbGUyL2Zyb250ZW5kdXBkYXRlZC9hcHAvZ2FtZS9wYWdlLmpzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIlxuXG5pbXBvcnQgeyB1c2VFZmZlY3QsIHVzZVN0YXRlLCB1c2VSZWYgfSBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IHsgdXNlUm91dGVyLCB1c2VTZWFyY2hQYXJhbXMgfSBmcm9tIFwibmV4dC9uYXZpZ2F0aW9uXCJcbmltcG9ydCB7IHVzZVRvYXN0IH0gZnJvbSBcIkAvY29tcG9uZW50cy91aS91c2UtdG9hc3RcIlxuaW1wb3J0IHsgQnV0dG9uIH0gZnJvbSBcIkAvY29tcG9uZW50cy91aS9idXR0b25cIlxuaW1wb3J0IHsgVXNlcnMsIENyb3duLCBMb2FkZXIyLCBSZWZyZXNoQ3csIFBsYXksIExvZ091dCB9IGZyb20gXCJsdWNpZGUtcmVhY3RcIlxuaW1wb3J0IHsgdXNlV2ViU29ja2V0IH0gZnJvbSBcIkAvaG9va3MvdXNlLXdlYnNvY2tldFwiIFxuXG5jb25zdCBBUElfQkFTRV9VUkwgPSBcImh0dHBzOi8vY2Q2Zi0yMDItMjgtNy00Lm5ncm9rLWZyZWUuYXBwXCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gR2FtZVBhZ2UoKSB7XG4gIGNvbnN0IFt1c2VybmFtZSwgc2V0VXNlcm5hbWVdID0gdXNlU3RhdGUoXCJcIilcbiAgY29uc3QgW2xvYmJ5Q29kZSwgc2V0TG9iYnlDb2RlXSA9IHVzZVN0YXRlKFwiXCIpXG4gIGNvbnN0IFt1c2VyVG9rZW4sIHNldFVzZXJUb2tlbl0gPSB1c2VTdGF0ZShcIlwiKVxuICBjb25zdCBbcm9sZSwgc2V0Um9sZV0gPSB1c2VTdGF0ZShcInBsYXllclwiKVxuICBjb25zdCBbaXNMb2FkaW5nVmlkZW8sIHNldElzTG9hZGluZ1ZpZGVvXSA9IHVzZVN0YXRlKGZhbHNlKVxuICBjb25zdCBbdmVyaWZpZWRQbGF5ZXJzLCBzZXRWZXJpZmllZFBsYXllcnNdID0gdXNlU3RhdGUoW10pXG4gIGNvbnN0IFt2aWRlb1VybCwgc2V0VmlkZW9VcmxdID0gdXNlU3RhdGUoXCJcIilcbiAgY29uc3QgW2dhbWVQcm9ncmVzcywgc2V0R2FtZVByb2dyZXNzXSA9IHVzZVN0YXRlKDApXG4gIGNvbnN0IFttb2RlbHNMb2FkZWQsIHNldE1vZGVsc0xvYWRlZF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtmYWNlQXBpTG9hZGVkLCBzZXRGYWNlQXBpTG9hZGVkXSA9IHVzZVN0YXRlKGZhbHNlKTsgXG4gIGNvbnN0IHZpZGVvQ29udGFpbmVyUmVmID0gdXNlUmVmKG51bGwpXG4gIGNvbnN0IHZpZGVvRWxlbWVudFJlZiA9IHVzZVJlZihudWxsKTsgLy8gQWRkZWQgcmVmIGZvciB2aWRlbyBlbGVtZW50XG5cbiAgY29uc3Qgcm91dGVyID0gdXNlUm91dGVyKClcbiAgY29uc3Qgc2VhcmNoUGFyYW1zID0gdXNlU2VhcmNoUGFyYW1zKClcbiAgY29uc3QgeyB0b2FzdCB9ID0gdXNlVG9hc3QoKVxuXG4gIGNvbnN0IHsgdmlkZW9fdXJsLCBpc0Nvbm5lY3RlZCwgcGxheWVycywgY29ubmVjdGlvbkVycm9yLCBzZW5kTWVzc2FnZSwgZGlzY29ubmVjdCB9ID0gdXNlV2ViU29ja2V0KFxuICAgIGxvYmJ5Q29kZSxcbiAgICB1c2VybmFtZSxcbiAgICB1c2VyVG9rZW4sXG4gICAgcm9sZSxcbiAgKVxuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKHdpbmRvdy5mYWNlYXBpKSB7XG4gICAgICBzZXRGYWNlQXBpTG9hZGVkKHRydWUpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBzY3JpcHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTtcbiAgICBzY3JpcHQuc3JjID0gJ2h0dHBzOi8vY2RuLmpzZGVsaXZyLm5ldC9ucG0vZmFjZS1hcGkuanNAMC4yMi4yL2Rpc3QvZmFjZS1hcGkubWluLmpzJztcbiAgICBzY3JpcHQuYXN5bmMgPSB0cnVlO1xuICAgIHNjcmlwdC5vbmxvYWQgPSAoKSA9PiB7XG4gICAgICBzZXRGYWNlQXBpTG9hZGVkKHRydWUpO1xuICAgICAgLy8gdG9hc3QoeyB0aXRsZTogXCJGYWNlQVBJIFNjcmlwdCBMb2FkZWRcIiwgZGVzY3JpcHRpb246IFwiRmFjZSBkZXRlY3Rpb24gY2FwYWJpbGl0aWVzIGFyZSBub3cgYWN0aXZlLlwiIH0pO1xuICAgIH07XG4gICAgc2NyaXB0Lm9uZXJyb3IgPSAoKSA9PiB7XG4gICAgICB0b2FzdCh7IHRpdGxlOiBcIkZhY2VBUEkgTG9hZCBFcnJvclwiLCBkZXNjcmlwdGlvbjogXCJGYWlsZWQgdG8gbG9hZCBmYWNlIGRldGVjdGlvbiBzY3JpcHQuXCIsIHZhcmlhbnQ6IFwiZGVzdHJ1Y3RpdmVcIiB9KTtcbiAgICB9O1xuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoc2NyaXB0KTtcblxuICAgIC8vIE5vIGNsZWFudXAgbmVlZGVkIGZvciBDRE4gc2NyaXB0IHRoYXQgbWlnaHQgYmUgdXNlZCBieSBvdGhlciBwYWdlc1xuICB9LCBbdG9hc3RdKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IHN0b3JlZFVzZXJuYW1lID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJrcmFja2xlX3VzZXJuYW1lXCIpXG4gICAgY29uc3Qgc3RvcmVkTG9iYnkgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcImtyYWNrbGVfbG9iYnlcIilcbiAgICBjb25zdCBzdG9yZWRUb2tlbiA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwia3JhY2tsZV91c2VyX3Rva2VuXCIpXG4gICAgY29uc3Qgc3RvcmVkQWRtaW5Ub2tlbiA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwia3JhY2tsZV9hZG1pbl90b2tlblwiKVxuICAgIGNvbnN0IHN0b3JlZFJvbGUgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcImtyYWNrbGVfcm9sZVwiKVxuICAgIGNvbnN0IHVybExvYmJ5Q29kZSA9IHNlYXJjaFBhcmFtcy5nZXQoXCJsb2JieV9jb2RlXCIpXG5cbiAgICBpZiAoIXN0b3JlZFVzZXJuYW1lIHx8ICghc3RvcmVkTG9iYnkgJiYgIXVybExvYmJ5Q29kZSkpIHtcbiAgICAgIHRvYXN0KHtcbiAgICAgICAgdGl0bGU6IFwiU2Vzc2lvbiBleHBpcmVkXCIsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBcIlBsZWFzZSBqb2luIGEgbG9iYnkgYWdhaW5cIixcbiAgICAgICAgdmFyaWFudDogXCJkZXN0cnVjdGl2ZVwiLFxuICAgICAgfSlcbiAgICAgIHJvdXRlci5wdXNoKFwiL1wiKVxuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgc2V0VXNlcm5hbWUoc3RvcmVkVXNlcm5hbWUpXG4gICAgc2V0TG9iYnlDb2RlKHN0b3JlZExvYmJ5IHx8IHVybExvYmJ5Q29kZSlcblxuICAgIGNvbnN0IHdlYnNvY2tldFJvbGUgPSBzdG9yZWRSb2xlID09PSBcImFkbWluXCIgPyBcImxvYmJ5LWFkbWluXCIgOiBzdG9yZWRSb2xlIHx8IFwicGxheWVyXCJcbiAgICBzZXRSb2xlKHdlYnNvY2tldFJvbGUpXG5cbiAgICBpZiAoc3RvcmVkUm9sZSA9PT0gXCJhZG1pblwiKSB7XG4gICAgICBzZXRVc2VyVG9rZW4oc3RvcmVkQWRtaW5Ub2tlbilcbiAgICB9IGVsc2UgaWYgKHN0b3JlZFJvbGUgPT09IFwicGxheWVyXCIpIHtcbiAgICAgIHNldFVzZXJUb2tlbihzdG9yZWRUb2tlbilcbiAgICB9IGVsc2Uge1xuICAgICAgdG9hc3Qoe1xuICAgICAgICB0aXRsZTogXCJJbnZhbGlkIHNlc3Npb25cIixcbiAgICAgICAgZGVzY3JpcHRpb246IFwiTWlzc2luZyBhdXRoZW50aWNhdGlvbiB0b2tlblwiLFxuICAgICAgICB2YXJpYW50OiBcImRlc3RydWN0aXZlXCIsXG4gICAgICB9KVxuICAgICAgcm91dGVyLnB1c2goXCIvXCIpXG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBpZiAoc3RvcmVkUm9sZSA9PT0gXCJhZG1pblwiKSB7XG4gICAgICByZXF1ZXN0TmV3VmlkZW8oKVxuICAgIH1cblxuICAgIGlmICghZmFjZUFwaUxvYWRlZCB8fCBtb2RlbHNMb2FkZWQpIHJldHVybjtcblxuICAgIGNvbnN0IGxvYWRNb2RlbHMgPSBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBNT0RFTF9VUkwgPSAnL21vZGVscyc7XG4gICAgICBpZiAoIXdpbmRvdy5mYWNlYXBpKSB7XG4gICAgICAgIC8vIHRvYXN0KHsgdGl0bGU6IFwiRmFjZUFQSSBOb3QgUmVhZHlcIiwgZGVzY3JpcHRpb246IFwiQ2Fubm90IGxvYWQgbW9kZWxzIHlldC5cIiwgdmFyaWFudDogXCJ3YXJuaW5nXCIgfSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRyeSB7XG4gICAgICAgIC8vIHRvYXN0KHsgdGl0bGU6IFwiTG9hZGluZyBGYWNlIE1vZGVsc1wiLCBkZXNjcmlwdGlvbjogXCJQbGVhc2Ugd2FpdC4uLlwiIH0pO1xuICAgICAgICBhd2FpdCB3aW5kb3cuZmFjZWFwaS5uZXRzLnRpbnlGYWNlRGV0ZWN0b3IubG9hZEZyb21VcmkoTU9ERUxfVVJMKTtcbiAgICAgICAgc2V0TW9kZWxzTG9hZGVkKHRydWUpO1xuICAgICAgICAvLyB0b2FzdCh7IHRpdGxlOiBcIkZhY2UgTW9kZWxzIExvYWRlZFwiLCBkZXNjcmlwdGlvbjogXCJSZWFkeSBmb3IgZmFjZSBkZXRlY3Rpb24uXCIgfSk7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgbG9hZGluZyBmYWNlIGRldGVjdGlvbiBtb2RlbHM6XCIsIGVycm9yKTtcbiAgICAgICAgdG9hc3Qoe1xuICAgICAgICAgIHRpdGxlOiBcIk1vZGVsIExvYWQgRXJyb3JcIixcbiAgICAgICAgICBkZXNjcmlwdGlvbjogXCJDb3VsZCBub3QgbG9hZCBmYWNlIGRldGVjdGlvbiBtb2RlbHMuXCIsXG4gICAgICAgICAgdmFyaWFudDogXCJkZXN0cnVjdGl2ZVwiLFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9O1xuICAgIGxvYWRNb2RlbHMoKTtcbiAgfSwgW3JvdXRlciwgc2VhcmNoUGFyYW1zLCB0b2FzdCwgZmFjZUFwaUxvYWRlZCwgbW9kZWxzTG9hZGVkXSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBpbml0V2ViY2FtID0gYXN5bmMgKCkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3Qgc3RyZWFtID0gYXdhaXQgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEoeyB2aWRlbzogdHJ1ZSB9KTtcbiAgICAgICAgaWYgKHZpZGVvRWxlbWVudFJlZi5jdXJyZW50KSB7XG4gICAgICAgICAgdmlkZW9FbGVtZW50UmVmLmN1cnJlbnQuc3JjT2JqZWN0ID0gc3RyZWFtO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGFjY2Vzc2luZyB3ZWJjYW06XCIsIGVycik7XG4gICAgICAgIHRvYXN0KHtcbiAgICAgICAgICB0aXRsZTogXCJXZWJjYW0gRXJyb3JcIixcbiAgICAgICAgICBkZXNjcmlwdGlvbjogXCJDb3VsZCBub3QgYWNjZXNzIHdlYmNhbS4gUGxlYXNlIGNoZWNrIHBlcm1pc3Npb25zLlwiLFxuICAgICAgICAgIHZhcmlhbnQ6IFwiZGVzdHJ1Y3RpdmVcIixcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfTtcbiAgICBpbml0V2ViY2FtKCk7XG4gICAgLy8gQ2xlYW51cCBmdW5jdGlvbiB0byBzdG9wIHdlYmNhbSB0cmFja3Mgd2hlbiBjb21wb25lbnQgdW5tb3VudHNcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgaWYgKHZpZGVvRWxlbWVudFJlZi5jdXJyZW50ICYmIHZpZGVvRWxlbWVudFJlZi5jdXJyZW50LnNyY09iamVjdCkge1xuICAgICAgICBjb25zdCBzdHJlYW0gPSB2aWRlb0VsZW1lbnRSZWYuY3VycmVudC5zcmNPYmplY3Q7XG4gICAgICAgIGNvbnN0IHRyYWNrcyA9IHN0cmVhbS5nZXRUcmFja3MoKTtcbiAgICAgICAgdHJhY2tzLmZvckVhY2godHJhY2sgPT4gdHJhY2suc3RvcCgpKTtcbiAgICAgICAgdmlkZW9FbGVtZW50UmVmLmN1cnJlbnQuc3JjT2JqZWN0ID0gbnVsbDtcbiAgICAgIH1cbiAgICB9O1xuICB9LCBbdG9hc3RdKTtcblxuICBjb25zdCByZXF1ZXN0TmV3VmlkZW8gPSBhc3luYyAoKSA9PiB7XG4gICAgc2V0SXNMb2FkaW5nVmlkZW8odHJ1ZSlcbiAgICB0cnkge1xuICAgICAgaWYgKGlzQ29ubmVjdGVkICYmIHNlbmRNZXNzYWdlKSB7XG4gICAgICAgIHNlbmRNZXNzYWdlKEpTT04uc3RyaW5naWZ5KHsgdHlwZTogXCJyZXF1ZXN0X3ZpZGVvXCIgfSkpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0b2FzdCh7XG4gICAgICAgICAgdGl0bGU6IFwiQ29ubmVjdGlvbiBlcnJvclwiLFxuICAgICAgICAgIGRlc2NyaXB0aW9uOiBcIk5vdCBjb25uZWN0ZWQgdG8gc2VydmVyIHRvIHJlcXVlc3QgdmlkZW8uXCIsXG4gICAgICAgICAgdmFyaWFudDogXCJkZXN0cnVjdGl2ZVwiLFxuICAgICAgICB9KVxuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICB0b2FzdCh7XG4gICAgICAgIHRpdGxlOiBcIkNvbm5lY3Rpb24gZXJyb3JcIixcbiAgICAgICAgZGVzY3JpcHRpb246IFwiQ291bGQgbm90IGNvbm5lY3QgdG8gdGhlIGdhbWUgc2VydmVyLlwiLFxuICAgICAgICB2YXJpYW50OiBcImRlc3RydWN0aXZlXCIsXG4gICAgICB9KVxuICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGZldGNoaW5nIHZpZGVvOlwiLCBlcnJvcilcbiAgICB9IGZpbmFsbHkge1xuICAgICAgc2V0SXNMb2FkaW5nVmlkZW8oZmFsc2UpXG4gICAgfVxuICB9XG5cbiAgY29uc3QgZ2V0WW91VHViZVZpZGVvSWQgPSAodXJsKSA9PiB7XG4gICAgaWYgKCF1cmwpIHJldHVybiBudWxsXG4gICAgY29uc3QgcmVnRXhwID0gL14uKih5b3V0dS5iZVxcL3x2XFwvfHVcXC9cXHdcXC98ZW1iZWRcXC98c2hvcnRzXFwvfHdhdGNoXFw/dj18JnY9KShbXiMmP10qKS4qL1xuICAgIGNvbnN0IG1hdGNoID0gdXJsLm1hdGNoKHJlZ0V4cClcbiAgICByZXR1cm4gbWF0Y2ggJiYgbWF0Y2hbMl0ubGVuZ3RoID09PSAxMSA/IG1hdGNoWzJdIDogbnVsbFxuICB9XG5cbiAgY29uc3QgbG9hZF92aWRlb19mcm9tX3VybCA9ICh2aWRlb191cmxfZnJvbV93cykgPT4ge1xuICAgIGlmICghdmlkZW9fdXJsX2Zyb21fd3MgfHwgIXZpZGVvQ29udGFpbmVyUmVmLmN1cnJlbnQpIHtcbiAgICAgIGNvbnNvbGUud2FybihcIk5vIHZpZGVvIFVSTCBwcm92aWRlZCBvciBjb250YWluZXIgbm90IGZvdW5kXCIpXG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgc2V0VmlkZW9VcmwodmlkZW9fdXJsX2Zyb21fd3MpOyAvLyBVcGRhdGUgdGhlIHZpZGVvVXJsIHN0YXRlXG5cbiAgICBjb25zdCBjb250YWluZXIgPSB2aWRlb0NvbnRhaW5lclJlZi5jdXJyZW50XG4gICAgY29udGFpbmVyLmlubmVySFRNTCA9IFwiXCJcblxuICAgIGNvbnN0IGxvYWRpbmdPdmVybGF5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKVxuICAgIGxvYWRpbmdPdmVybGF5LmNsYXNzTmFtZSA9XG4gICAgICBcImFic29sdXRlIGluc2V0LTAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgYmctZ3JhZGllbnQtdG8tYnIgZnJvbS1wdXJwbGUtOTAwLzUwIHRvLXBpbmstOTAwLzUwIGJhY2tkcm9wLWJsdXItc20gei0xMCB0cmFuc2l0aW9uLW9wYWNpdHkgZHVyYXRpb24tNTAwXCJcbiAgICBsb2FkaW5nT3ZlcmxheS5pbm5lckhUTUwgPSBgXG4gICAgICA8ZGl2IGNsYXNzPVwidGV4dC1jZW50ZXJcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cInctMTYgaC0xNiBib3JkZXItNCBib3JkZXItd2hpdGUvMjAgYm9yZGVyLXQtd2hpdGUgcm91bmRlZC1mdWxsIGFuaW1hdGUtc3BpbiBteC1hdXRvIG1iLTRcIj48L2Rpdj5cbiAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LXdoaXRlIHRleHQtbGcgZm9udC1tZWRpdW1cIj5Mb2FkaW5nIHZpZGVvLi4uPC9wPlxuICAgICAgPC9kaXY+XG4gICAgYFxuICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChsb2FkaW5nT3ZlcmxheSlcblxuICAgIGNvbnN0IHZpZGVvSWQgPSBnZXRZb3VUdWJlVmlkZW9JZCh2aWRlb191cmxfZnJvbV93cylcblxuICAgIGlmICh2aWRlb0lkKSB7XG4gICAgICBjb25zdCBpZnJhbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaWZyYW1lXCIpXG4gICAgICBpZnJhbWUuY2xhc3NOYW1lID0gXCJhYnNvbHV0ZSBpbnNldC0wIHctZnVsbCBoLWZ1bGxcIlxuICAgICAgaWZyYW1lLnNyYyA9IGBodHRwczovL3d3dy55b3V0dWJlLmNvbS9lbWJlZC8ke3ZpZGVvSWR9P2F1dG9wbGF5PTEmY29udHJvbHM9MCZkaXNhYmxla2I9MSZmcz0wJm1vZGVzdGJyYW5kaW5nPTEmcmVsPTAmc2hvd2luZm89MCZpdl9sb2FkX3BvbGljeT0zJmVuYWJsZWpzYXBpPTEmcGxheXNpbmxpbmU9MSZtdXRlPTBgXG4gICAgICBpZnJhbWUudGl0bGUgPSBcIkdhbWUgVmlkZW8gUGxheWVyXCJcbiAgICAgIGlmcmFtZS5mcmFtZUJvcmRlciA9IFwiMFwiXG4gICAgICBpZnJhbWUuYWxsb3cgPSBcImFjY2VsZXJvbWV0ZXI7IGF1dG9wbGF5OyBjbGlwYm9hcmQtd3JpdGU7IGVuY3J5cHRlZC1tZWRpYTsgZ3lyb3Njb3BlOyBwaWN0dXJlLWluLXBpY3R1cmVcIlxuICAgICAgaWZyYW1lLmFsbG93RnVsbHNjcmVlbiA9IGZhbHNlXG4gICAgICBpZnJhbWUuc3R5bGUucG9pbnRlckV2ZW50cyA9IFwibm9uZVwiXG5cbiAgICAgIGlmcmFtZS5vbmxvYWQgPSAoKSA9PiB7XG4gICAgICAgIGxvYWRpbmdPdmVybGF5LnN0eWxlLm9wYWNpdHkgPSBcIjBcIlxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICBpZiAobG9hZGluZ092ZXJsYXkucGFyZW50Tm9kZSkge1xuICAgICAgICAgICAgbG9hZGluZ092ZXJsYXkucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChsb2FkaW5nT3ZlcmxheSlcbiAgICAgICAgICB9XG4gICAgICAgIH0sIDUwMClcbiAgICAgICAgdG9hc3QoeyB0aXRsZTogXCJZb3VUdWJlIFZpZGVvIExvYWRlZFwiLCBkZXNjcmlwdGlvbjogXCJQbGF5YmFjayBzdGFydGVkLlwiIH0pO1xuICAgICAgfVxuICAgICAgaWZyYW1lLm9uZXJyb3IgPSAoKSA9PiB7XG4gICAgICAgIGhhbmRsZVZpZGVvRXJyb3IoXCJGYWlsZWQgdG8gbG9hZCBZb3VUdWJlIHZpZGVvXCIpXG4gICAgICB9XG4gICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoaWZyYW1lKVxuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCB2aWRlbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ2aWRlb1wiKVxuICAgICAgdmlkZW8uY2xhc3NOYW1lID0gXCJ3LWZ1bGwgaC1mdWxsIG9iamVjdC1jb3ZlciByb3VuZGVkLXhsXCJcbiAgICAgIHZpZGVvLnNyYyA9IHZpZGVvX3VybF9mcm9tX3dzXG4gICAgICB2aWRlby5hdXRvcGxheSA9IHRydWVcbiAgICAgIHZpZGVvLm11dGVkID0gdHJ1ZSBcbiAgICAgIHZpZGVvLnBsYXlzSW5saW5lID0gdHJ1ZVxuICAgICAgdmlkZW8ubG9vcCA9IGZhbHNlXG4gICAgICB2aWRlby5wcmVsb2FkID0gXCJhdXRvXCJcbiAgICAgIHZpZGVvLmNvbnRyb2xzID0gZmFsc2VcbiAgICAgIHZpZGVvLnN0eWxlLnBvaW50ZXJFdmVudHMgPSBcIm5vbmVcIlxuXG4gICAgICB2aWRlby5vbmxvYWRlZGRhdGEgPSAoKSA9PiB7XG4gICAgICAgIGxvYWRpbmdPdmVybGF5LnN0eWxlLm9wYWNpdHkgPSBcIjBcIlxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICBpZiAobG9hZGluZ092ZXJsYXkucGFyZW50Tm9kZSkge1xuICAgICAgICAgICAgbG9hZGluZ092ZXJsYXkucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChsb2FkaW5nT3ZlcmxheSlcbiAgICAgICAgICB9XG4gICAgICAgIH0sIDUwMClcbiAgICAgICAgdG9hc3QoeyB0aXRsZTogXCJWaWRlbyBGaWxlIExvYWRlZFwiLCBkZXNjcmlwdGlvbjogXCJQbGF5YmFjayBzdGFydGVkLlwiIH0pO1xuICAgICAgfVxuICAgICAgdmlkZW8ub25lcnJvciA9ICgpID0+IHtcbiAgICAgICAgaGFuZGxlVmlkZW9FcnJvcihcIkZhaWxlZCB0byBsb2FkIHZpZGVvIGZpbGVcIilcbiAgICAgIH1cbiAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZCh2aWRlbylcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBoYW5kbGVWaWRlb0Vycm9yKGVycm9yTWVzc2FnZSkge1xuICAgICAgaWYgKGxvYWRpbmdPdmVybGF5LnBhcmVudE5vZGUpIHtcbiAgICAgICAgIGxvYWRpbmdPdmVybGF5LmlubmVySFRNTCA9IGBcbiAgICAgICAgPGRpdiBjbGFzcz1cInRleHQtY2VudGVyXCI+XG4gICAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LXJlZC00MDAgdGV4dC1sZyBmb250LW1lZGl1bSBtYi0yXCI+VmlkZW8gTG9hZCBFcnJvcjwvcD5cbiAgICAgICAgICA8cCBjbGFzcz1cInRleHQtd2hpdGUvNzAgdGV4dC1zbVwiPiR7ZXJyb3JNZXNzYWdlfTwvcD5cbiAgICAgICAgPC9kaXY+XG4gICAgICBgXG4gICAgICB9XG4gICAgICB0b2FzdCh7IHRpdGxlOiBcIlZpZGVvIEVycm9yXCIsIGRlc2NyaXB0aW9uOiBlcnJvck1lc3NhZ2UsIHZhcmlhbnQ6IFwiZGVzdHJ1Y3RpdmVcIiB9KVxuICAgIH1cbiAgfVxuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKHZpZGVvX3VybCkge1xuICAgICAgbG9hZF92aWRlb19mcm9tX3VybCh2aWRlb191cmwpO1xuICAgIH1cbiAgfSwgW3ZpZGVvX3VybF0pO1xuXG4gIGFzeW5jIGZ1bmN0aW9uIGRldGVjdEFuZFNlbmRGYWNlKCkge1xuICAgIGNvbnN0IGN1cnJlbnRWaWRlb0VsZW1lbnQgPSB2aWRlb0VsZW1lbnRSZWYuY3VycmVudDtcbiAgICBpZiAoIWN1cnJlbnRWaWRlb0VsZW1lbnQgfHwgY3VycmVudFZpZGVvRWxlbWVudC5wYXVzZWQgfHwgY3VycmVudFZpZGVvRWxlbWVudC5yZWFkeVN0YXRlIDwgMykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICghd2luZG93LmZhY2VhcGkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgY29uc3Qgb3B0aW9ucyA9IG5ldyB3aW5kb3cuZmFjZWFwaS5UaW55RmFjZURldGVjdG9yT3B0aW9ucyh7XG4gICAgICAgIGlucHV0U2l6ZTogMjI0LFxuICAgICAgICBzY29yZVRocmVzaG9sZDogMC41LFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IGRldGVjdGlvbnMgPSBhd2FpdCB3aW5kb3cuZmFjZWFwaS5kZXRlY3RBbGxGYWNlcyhjdXJyZW50VmlkZW9FbGVtZW50LCBvcHRpb25zKTtcblxuICAgICAgaWYgKGRldGVjdGlvbnMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKGRldGVjdGlvbnMubGVuZ3RoID4gMSkge1xuICAgICAgICAvLyB0b2FzdCh7IHRpdGxlOiBcIk11bHRpcGxlIGZhY2VzIGRldGVjdGVkXCIsIGRlc2NyaXB0aW9uOiBcIlBsZWFzZSBlbnN1cmUgb25seSBvbmUgcGVyc29uIGlzIHZpc2libGUuXCIsIHZhcmlhbnQ6IFwid2FybmluZ1wiIH0pO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGRldGVjdGlvbiA9IGRldGVjdGlvbnNbMF07XG4gICAgICBjb25zdCBib3ggPSBkZXRlY3Rpb24uZGV0ZWN0aW9uID8gZGV0ZWN0aW9uLmRldGVjdGlvbi5ib3ggOiBkZXRlY3Rpb24uYm94O1xuXG4gICAgICBpZiAoIWJveCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHRlbXBDYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpO1xuICAgICAgY29uc3QgdGVtcENvbnRleHQgPSB0ZW1wQ2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcblxuICAgICAgY29uc3QgcGFkZGluZyA9IDAuMTtcbiAgICAgIGNvbnN0IHBhZGRlZFdpZHRoID0gYm94LndpZHRoICogKDEgKyBwYWRkaW5nICogMik7XG4gICAgICBjb25zdCBwYWRkZWRIZWlnaHQgPSBib3guaGVpZ2h0ICogKDEgKyBwYWRkaW5nICogMik7XG4gICAgICBjb25zdCBwYWRkZWRYID0gYm94LnggLSBib3gud2lkdGggKiBwYWRkaW5nO1xuICAgICAgY29uc3QgcGFkZGVkWSA9IGJveC55IC0gYm94LmhlaWdodCAqIHBhZGRpbmc7XG5cbiAgICAgIGNvbnN0IGNyb3BYID0gTWF0aC5tYXgoMCwgcGFkZGVkWCk7XG4gICAgICBjb25zdCBjcm9wWSA9IE1hdGgubWF4KDAsIHBhZGRlZFkpO1xuICAgICAgY29uc3QgY3JvcFdpZHRoID0gTWF0aC5taW4ocGFkZGVkV2lkdGgsIGN1cnJlbnRWaWRlb0VsZW1lbnQudmlkZW9XaWR0aCAtIGNyb3BYKTtcbiAgICAgIGNvbnN0IGNyb3BIZWlnaHQgPSBNYXRoLm1pbihwYWRkZWRIZWlnaHQsIGN1cnJlbnRWaWRlb0VsZW1lbnQudmlkZW9IZWlnaHQgLSBjcm9wWSk7XG4gICAgICBcbiAgICAgIGlmIChjcm9wV2lkdGggPD0gMCB8fCBjcm9wSGVpZ2h0IDw9IDApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB0ZW1wQ2FudmFzLndpZHRoID0gY3JvcFdpZHRoO1xuICAgICAgdGVtcENhbnZhcy5oZWlnaHQgPSBjcm9wSGVpZ2h0O1xuXG4gICAgICB0ZW1wQ29udGV4dC5kcmF3SW1hZ2UoXG4gICAgICAgIGN1cnJlbnRWaWRlb0VsZW1lbnQsXG4gICAgICAgIGNyb3BYLFxuICAgICAgICBjcm9wWSxcbiAgICAgICAgY3JvcFdpZHRoLFxuICAgICAgICBjcm9wSGVpZ2h0LFxuICAgICAgICAwLFxuICAgICAgICAwLFxuICAgICAgICBjcm9wV2lkdGgsXG4gICAgICAgIGNyb3BIZWlnaHRcbiAgICAgICk7XG5cbiAgICAgIGNvbnN0IGltYWdlRGF0YVVybCA9IHRlbXBDYW52YXMudG9EYXRhVVJMKFwiaW1hZ2UvanBlZ1wiLCAwLjcpO1xuICAgICAgY29uc3QgYmFzZTY0RGF0YSA9IGltYWdlRGF0YVVybC5zcGxpdChcIixcIilbMV07XG5cbiAgICAgIGNvbnN0IG1lc3NhZ2UgPSB7XG4gICAgICAgIHR5cGU6IFwidXBsb2FkX2ltYWdlXCIsXG4gICAgICAgIHBheWxvYWQ6IHtcbiAgICAgICAgICBpbWFnZV9kYXRhOiBiYXNlNjREYXRhLFxuICAgICAgICAgIGxvYmJ5X2NvZGU6IGxvYmJ5Q29kZSxcbiAgICAgICAgICB1c2VybmFtZTogdXNlcm5hbWUsXG4gICAgICAgIH0sXG4gICAgICB9O1xuICAgICAgXG4gICAgICBpZiAoc2VuZE1lc3NhZ2UpIHtcbiAgICAgICAgc2VuZE1lc3NhZ2UoSlNPTi5zdHJpbmdpZnkobWVzc2FnZSkpO1xuICAgICAgfVxuXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJGYWNlIGNyb3AgYW5kIHNlbmQgZXJyb3I6XCIsIGVycm9yKTtcbiAgICAgIC8vIHRvYXN0KHtcbiAgICAgIC8vICAgdGl0bGU6IFwiRmFjZSBEZXRlY3Rpb24gRXJyb3JcIixcbiAgICAgIC8vICAgZGVzY3JpcHRpb246IGBGYWlsZWQgdG8gY3JvcCBhbmQgc2VuZCBmYWNlOiAke2Vycm9yLm1lc3NhZ2V9YCxcbiAgICAgIC8vICAgdmFyaWFudDogXCJkZXN0cnVjdGl2ZVwiLFxuICAgICAgLy8gfSk7XG4gICAgfVxuICB9XG5cbiAgLy8gUmVuYW1lZCB0byBhdm9pZCBjb25mbGljdCB3aXRoIGRldGVjdEFuZFNlbmRGYWNlIHdoaWNoIGlzIGFzeW5jXG4gIGZ1bmN0aW9uIHRyaWdnZXJGYWNlSW1hZ2VTZW5kKCkgeyBcbiAgICBpZiAoIWlzQ29ubmVjdGVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGN1cnJlbnRWaWRlb0VsZW1lbnQgPSB2aWRlb0VsZW1lbnRSZWYuY3VycmVudDtcbiAgICBpZiAoIWN1cnJlbnRWaWRlb0VsZW1lbnQgfHwgY3VycmVudFZpZGVvRWxlbWVudC5wYXVzZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKCFtb2RlbHNMb2FkZWQgfHwgIWZhY2VBcGlMb2FkZWQpIHsgLy8gQ2hlY2sgYm90aCBmbGFnc1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBkZXRlY3RBbmRTZW5kRmFjZSgpOyAvLyBDYWxsIHRoZSBhc3luYyBmdW5jdGlvblxuICB9XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBsZXQgaW50ZXJ2YWxJZDtcbiAgICBpZiAoaXNDb25uZWN0ZWQgJiYgbW9kZWxzTG9hZGVkICYmIGZhY2VBcGlMb2FkZWQgJiYgcm9sZSA9PT0gXCJwbGF5ZXJcIikge1xuICAgICAgaW50ZXJ2YWxJZCA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgICAgdHJpZ2dlckZhY2VJbWFnZVNlbmQoKTsgLy8gVXNlIHRoZSByZW5hbWVkIHdyYXBwZXIgZnVuY3Rpb25cbiAgICAgIH0sIDUwMCk7XG4gICAgfVxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBpZiAoaW50ZXJ2YWxJZCkge1xuICAgICAgICBjbGVhckludGVydmFsKGludGVydmFsSWQpO1xuICAgICAgfVxuICAgIH07XG4gIH0sIFtpc0Nvbm5lY3RlZCwgbW9kZWxzTG9hZGVkLCBmYWNlQXBpTG9hZGVkLCByb2xlLCBsb2JieUNvZGUsIHVzZXJuYW1lLCBzZW5kTWVzc2FnZV0pOyAvLyBBZGRlZCByZWxldmFudCBkZXBlbmRlbmNpZXNcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBpZiAodmlkZW9Db250YWluZXJSZWYuY3VycmVudD8uX2NsZWFudXApIHtcbiAgICAgICAgdmlkZW9Db250YWluZXJSZWYuY3VycmVudC5fY2xlYW51cCgpXG4gICAgICB9XG4gICAgfVxuICB9LCBbXSlcblxuICBjb25zdCBoYW5kbGVMZWF2ZUdhbWUgPSAoKSA9PiB7XG4gICAgZGlzY29ubmVjdCgpXG4gICAgcm91dGVyLnB1c2goXCIvbG9iYnlcIilcbiAgfVxuXG4gIGlmIChjb25uZWN0aW9uRXJyb3IpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtaW4taC1zY3JlZW4gZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgYmctZ3JhZGllbnQtdG8tYnIgZnJvbS1wdXJwbGUtNjAwIHZpYS1waW5rLTYwMCB0by1ibHVlLTYwMCBwLTRcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy13aGl0ZS85NSBiYWNrZHJvcC1ibHVyLXhsIHJvdW5kZWQtM3hsIHAtOCB0ZXh0LWNlbnRlclwiPlxuICAgICAgICAgIDxoMiBjbGFzc05hbWU9XCJ0ZXh0LTJ4bCBmb250LWJvbGQgdGV4dC1yZWQtNjAwIG1iLTRcIj5Db25uZWN0aW9uIEVycm9yPC9oMj5cbiAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNzAwIG1iLTRcIj57Y29ubmVjdGlvbkVycm9yfTwvcD5cbiAgICAgICAgICA8QnV0dG9uIG9uQ2xpY2s9eygpID0+IHJvdXRlci5wdXNoKFwiL2xvYmJ5XCIpfSBjbGFzc05hbWU9XCJiZy1wdXJwbGUtNjAwIGhvdmVyOmJnLXB1cnBsZS03MDBcIj5cbiAgICAgICAgICAgIFJldHVybiB0byBMb2JieVxuICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJtaW4taC1zY3JlZW4gZmxleCBmbGV4LWNvbCBiZy1ncmFkaWVudC10by1iciBmcm9tLXB1cnBsZS02MDAgdmlhLXBpbmstNjAwIHRvLWJsdWUtNjAwXCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtY2VudGVyIHB5LTRcIj5cbiAgICAgICAgPGgxIGNsYXNzTmFtZT1cInRleHQtd2hpdGUgdGV4dC00eGwgZm9udC1ib2xkIHRyYWNraW5nLXdpZGVcIj5cbiAgICAgICAgICBLUkFDS0xFPHNwYW4gY2xhc3NOYW1lPVwidGV4dC15ZWxsb3ctMzAwXCI+LkNPPC9zcGFuPlxuICAgICAgICA8L2gxPlxuICAgICAgICA8aDIgY2xhc3NOYW1lPVwidGV4dC13aGl0ZSB0ZXh0LXhsIG10LTFcIj5HYW1lOiB7bG9iYnlDb2RlfTwvaDI+XG4gICAgICA8L2Rpdj5cblxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIG1kOmZsZXgtcm93IGZsZXgtMSBwLTQgZ2FwLTRcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LWZ1bGwgbWQ6dy02NCBiZy13aGl0ZS8xMCBiYWNrZHJvcC1ibHVyLW1kIHJvdW5kZWQteGwgcC00XCI+XG4gICAgICAgICAgPGgzIGNsYXNzTmFtZT1cInRleHQtd2hpdGUgdGV4dC14bCBmb250LWJvbGQgbWItNCBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxuICAgICAgICAgICAgPFVzZXJzIGNsYXNzTmFtZT1cInctNSBoLTVcIiAvPiBQbGF5ZXJzXG4gICAgICAgICAgPC9oMz5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktMiBtYXgtaC1bNjB2aF0gb3ZlcmZsb3cteS1hdXRvXCI+XG4gICAgICAgICAgICB7cGxheWVycy5sZW5ndGggPiAwID8gKFxuICAgICAgICAgICAgICBwbGF5ZXJzLm1hcCgocGxheWVyLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGlzVmVyaWZpZWQgPSB2ZXJpZmllZFBsYXllcnMuaW5jbHVkZXMocGxheWVyKSAvLyBSRVZFUlRFRDogQ2hlY2sgZGlyZWN0bHkgYWdhaW5zdCBwbGF5ZXIgc3RyaW5nXG5cbiAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICBrZXk9e2luZGV4fSBcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgcC0zIHJvdW5kZWQtbGcgJHtcbiAgICAgICAgICAgICAgICAgICAgICBpc1ZlcmlmaWVkXG4gICAgICAgICAgICAgICAgICAgICAgICA/IFwiYmctZ3JhZGllbnQtdG8tciBmcm9tLWdyZWVuLTIwMC84MCB0by1ncmVlbi0xMDAvODAgYmFja2Ryb3AtYmx1ci1tZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICA6IFwiYmctZ3JheS0yMDAvODAgYmFja2Ryb3AtYmx1ci1tZFwiXG4gICAgICAgICAgICAgICAgICAgIH0gZmxleCBpdGVtcy1jZW50ZXJgfVxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgaC04IHctOCByb3VuZGVkLWZ1bGwgJHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzVmVyaWZpZWQgPyBcImJnLWdyYWRpZW50LXRvLXIgZnJvbS1ncmVlbi01MDAgdG8tZW1lcmFsZC01MDBcIiA6IFwiYmctZ3JheS01MDBcIlxuICAgICAgICAgICAgICAgICAgICAgIH0gdGV4dC13aGl0ZSBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBtci0zYH1cbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgIHtwbGF5ZXIuY2hhckF0KDApLnRvVXBwZXJDYXNlKCl9IFxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZm9udC1tZWRpdW1cIj5cbiAgICAgICAgICAgICAgICAgICAgICB7cGxheWVyfSB7cGxheWVyID09PSB1c2VybmFtZSAmJiBcIihZb3UpXCJ9IFxuICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgIHsvKiBSRVZFUlRFRDogT3JpZ2luYWwgYWRtaW4gY2hlY2sgKGZpcnN0IHBsYXllcikgKi99XG4gICAgICAgICAgICAgICAgICAgIHtpbmRleCA9PT0gMCAmJiA8Q3Jvd24gY2xhc3NOYW1lPVwidy00IGgtNCB0ZXh0LXllbGxvdy01MDAgbWwtMlwiIC8+fVxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlciBweS00IHRleHQtd2hpdGVcIj5cbiAgICAgICAgICAgICAgICA8TG9hZGVyMiBjbGFzc05hbWU9XCJ3LTYgaC02IGFuaW1hdGUtc3BpbiBteC1hdXRvIG1iLTJcIiAvPlxuICAgICAgICAgICAgICAgIDxwPkxvYWRpbmcgcGxheWVycy4uLjwvcD5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgtMSBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy1bNDAwcHhdIGJnLXdoaXRlIHJvdW5kZWQteGwgcC00IGgtWzYwMHB4XSBmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgganVzdGlmeS1iZXR3ZWVuIGl0ZW1zLWNlbnRlciBtYi00XCI+XG4gICAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJ0ZXh0LTJ4bCBmb250LWJvbGRcIj5HYW1lIFZpZGVvPC9oMz5cbiAgICAgICAgICAgICAge3JvbGUgPT09IFwibG9iYnktYWRtaW5cIiAmJiAoXG4gICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgb25DbGljaz17cmVxdWVzdE5ld1ZpZGVvfVxuICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2lzTG9hZGluZ1ZpZGVvfVxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYmctcHVycGxlLTYwMCBob3ZlcjpiZy1wdXJwbGUtNzAwIHRleHQtd2hpdGVcIlxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIHtpc0xvYWRpbmdWaWRlbyA/IChcbiAgICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgICA8TG9hZGVyMiBjbGFzc05hbWU9XCJ3LTQgaC00IG1yLTIgYW5pbWF0ZS1zcGluXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICBMb2FkaW5nLi4uXG4gICAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgICA8UmVmcmVzaEN3IGNsYXNzTmFtZT1cInctNCBoLTQgbXItMlwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgTmV3IFZpZGVvXG4gICAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgtMSByZWxhdGl2ZSB3LWZ1bGwgcm91bmRlZC1sZyBvdmVyZmxvdy1oaWRkZW4gYmctYmxhY2tcIiByZWY9e3ZpZGVvQ29udGFpbmVyUmVmfT5cbiAgICAgICAgICAgICAgeyF2aWRlb191cmwgJiYgIXZpZGVvVXJsICYmIChcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIGluc2V0LTAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgPFBsYXkgY2xhc3NOYW1lPVwidy0xMiBoLTEyIG14LWF1dG8gbWItNCB0ZXh0LWdyYXktNTAwXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1ncmF5LTUwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgIHtyb2xlID09PSBcImxvYmJ5LWFkbWluXCJcbiAgICAgICAgICAgICAgICAgICAgICAgID8gXCJDbGljayAnTmV3IFZpZGVvJyB0byBzdGFydCB0aGUgZ2FtZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICA6IFwiV2FpdGluZyBmb3IgdGhlIGhvc3QgdG8gc3RhcnQgYSB2aWRlby4uLlwifVxuICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTQgZmxleCBqdXN0aWZ5LWNlbnRlclwiPlxuICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYmctcmVkLTQwMCBob3ZlcjpiZy1yZWQtNTAwIHRleHQtd2hpdGUgcm91bmRlZC1mdWxsIHB4LTYgcHktMiB0ZXh0LWxnIGZvbnQtYm9sZFwiXG4gICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlTGVhdmVHYW1lfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPExvZ091dCBjbGFzc05hbWU9XCJ3LTUgaC01IG1yLTJcIiAvPlxuICAgICAgICAgICAgICAgIExFQVZFIEdBTUVcbiAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cblxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJmaXhlZCBib3R0b20tNiByaWdodC02IHotMjBcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyZWxhdGl2ZSBmbGV4IGZsZXgtY29sIGl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmVsYXRpdmUgdy04IGgtNDAgbWItMFwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSBpbnNldC0wIGJnLXdoaXRlLzIwIGJhY2tkcm9wLWJsdXItc20gcm91bmRlZC1mdWxsIGJvcmRlciBib3JkZXItd2hpdGUvMzBcIj48L2Rpdj5cbiAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYWJzb2x1dGUgYm90dG9tLTAgbGVmdC0wIHJpZ2h0LTAgcm91bmRlZC1mdWxsIHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTMwMCBlYXNlLW91dFwiXG4gICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgaGVpZ2h0OiBgJHtnYW1lUHJvZ3Jlc3N9JWAsXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZDogYGxpbmVhci1ncmFkaWVudCh0byB0b3AsICMyMmM1NWUsICNlYWIzMDgsICNlZjQ0NDQpYCxcbiAgICAgICAgICAgICAgICBtYXJnaW46IFwiMnB4XCIsXG4gICAgICAgICAgICAgICAgd2lkdGg6IFwiY2FsYygxMDAlIC0gNHB4KVwiLFxuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgPjwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSAtcmlnaHQtMTAgdG9wLTEvMiAtdHJhbnNsYXRlLXktMS8yXCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctYmxhY2svNTAgYmFja2Ryb3AtYmx1ci1zbSByb3VuZGVkLWxnIHB4LTIgcHktMVwiPlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtd2hpdGUgZm9udC1ib2xkIHRleHQteHNcIj57TWF0aC5yb3VuZChnYW1lUHJvZ3Jlc3MpfSU8L3NwYW4+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJlbGF0aXZlXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJlbGF0aXZlIHctMzIgaC0zMiByb3VuZGVkLWZ1bGwgb3ZlcmZsb3ctaGlkZGVuIGJvcmRlci00IGJvcmRlci13aGl0ZS8zMCBzaGFkb3cteGxcIj5cbiAgICAgICAgICAgICAgey8qIE1PRElGSUVEOiBVc2UgdmlkZW9FbGVtZW50UmVmIGZvciB0aGUgd2ViY2FtIHZpZGVvIGVsZW1lbnQgKi99XG4gICAgICAgICAgICAgIDx2aWRlbyByZWY9e3ZpZGVvRWxlbWVudFJlZn0gaWQ9XCJ3ZWJjYW1cIiBjbGFzc05hbWU9XCJhYnNvbHV0ZSB3LWZ1bGwgaC1mdWxsIG9iamVjdC1jb3ZlclwiIGF1dG9QbGF5IHBsYXlzSW5saW5lIG11dGVkPjwvdmlkZW8+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWJzb2x1dGUgdG9wLTEgcmlnaHQtMSB6LTEwXCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTEgYmctYmxhY2svNTAgYmFja2Ryb3AtYmx1ci1zbSByb3VuZGVkLWZ1bGwgcHgtMS41IHB5LTAuNVwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0xLjUgaC0xLjUgYmctcmVkLTUwMCByb3VuZGVkLWZ1bGwgYW5pbWF0ZS1wdWxzZVwiPjwvZGl2PlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtd2hpdGUgdGV4dC14cyBmb250LW1lZGl1bVwiPkxJVkU8L3NwYW4+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicHktNCB0ZXh0LWNlbnRlciB0ZXh0LXdoaXRlIHRleHQteHNcIj5cbiAgICAgICAgTUFERSBXSVRIIExPVkUgQlkgSEFZU09OLCBORUxTT04sIEFORCBCT1lBIDxzcGFuIGNsYXNzTmFtZT1cIm1sLTFcIj7inaTvuI88L3NwYW4+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKVxufVxuIl0sIm5hbWVzIjpbInVzZUVmZmVjdCIsInVzZVN0YXRlIiwidXNlUmVmIiwidXNlUm91dGVyIiwidXNlU2VhcmNoUGFyYW1zIiwidXNlVG9hc3QiLCJCdXR0b24iLCJVc2VycyIsIkNyb3duIiwiTG9hZGVyMiIsIlJlZnJlc2hDdyIsIlBsYXkiLCJMb2dPdXQiLCJ1c2VXZWJTb2NrZXQiLCJBUElfQkFTRV9VUkwiLCJHYW1lUGFnZSIsInVzZXJuYW1lIiwic2V0VXNlcm5hbWUiLCJsb2JieUNvZGUiLCJzZXRMb2JieUNvZGUiLCJ1c2VyVG9rZW4iLCJzZXRVc2VyVG9rZW4iLCJyb2xlIiwic2V0Um9sZSIsImlzTG9hZGluZ1ZpZGVvIiwic2V0SXNMb2FkaW5nVmlkZW8iLCJ2ZXJpZmllZFBsYXllcnMiLCJzZXRWZXJpZmllZFBsYXllcnMiLCJ2aWRlb1VybCIsInNldFZpZGVvVXJsIiwiZ2FtZVByb2dyZXNzIiwic2V0R2FtZVByb2dyZXNzIiwibW9kZWxzTG9hZGVkIiwic2V0TW9kZWxzTG9hZGVkIiwiZmFjZUFwaUxvYWRlZCIsInNldEZhY2VBcGlMb2FkZWQiLCJ2aWRlb0NvbnRhaW5lclJlZiIsInZpZGVvRWxlbWVudFJlZiIsInJvdXRlciIsInNlYXJjaFBhcmFtcyIsInRvYXN0IiwidmlkZW9fdXJsIiwiaXNDb25uZWN0ZWQiLCJwbGF5ZXJzIiwiY29ubmVjdGlvbkVycm9yIiwic2VuZE1lc3NhZ2UiLCJkaXNjb25uZWN0Iiwid2luZG93IiwiZmFjZWFwaSIsInNjcmlwdCIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsInNyYyIsImFzeW5jIiwib25sb2FkIiwib25lcnJvciIsInRpdGxlIiwiZGVzY3JpcHRpb24iLCJ2YXJpYW50IiwiYm9keSIsImFwcGVuZENoaWxkIiwic3RvcmVkVXNlcm5hbWUiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwic3RvcmVkTG9iYnkiLCJzdG9yZWRUb2tlbiIsInN0b3JlZEFkbWluVG9rZW4iLCJzdG9yZWRSb2xlIiwidXJsTG9iYnlDb2RlIiwiZ2V0IiwicHVzaCIsIndlYnNvY2tldFJvbGUiLCJyZXF1ZXN0TmV3VmlkZW8iLCJsb2FkTW9kZWxzIiwiTU9ERUxfVVJMIiwibmV0cyIsInRpbnlGYWNlRGV0ZWN0b3IiLCJsb2FkRnJvbVVyaSIsImVycm9yIiwiY29uc29sZSIsImluaXRXZWJjYW0iLCJzdHJlYW0iLCJuYXZpZ2F0b3IiLCJtZWRpYURldmljZXMiLCJnZXRVc2VyTWVkaWEiLCJ2aWRlbyIsImN1cnJlbnQiLCJzcmNPYmplY3QiLCJlcnIiLCJ0cmFja3MiLCJnZXRUcmFja3MiLCJmb3JFYWNoIiwidHJhY2siLCJzdG9wIiwiSlNPTiIsInN0cmluZ2lmeSIsInR5cGUiLCJnZXRZb3VUdWJlVmlkZW9JZCIsInVybCIsInJlZ0V4cCIsIm1hdGNoIiwibGVuZ3RoIiwibG9hZF92aWRlb19mcm9tX3VybCIsInZpZGVvX3VybF9mcm9tX3dzIiwid2FybiIsImNvbnRhaW5lciIsImlubmVySFRNTCIsImxvYWRpbmdPdmVybGF5IiwiY2xhc3NOYW1lIiwidmlkZW9JZCIsImlmcmFtZSIsImZyYW1lQm9yZGVyIiwiYWxsb3ciLCJhbGxvd0Z1bGxzY3JlZW4iLCJzdHlsZSIsInBvaW50ZXJFdmVudHMiLCJvcGFjaXR5Iiwic2V0VGltZW91dCIsInBhcmVudE5vZGUiLCJyZW1vdmVDaGlsZCIsImhhbmRsZVZpZGVvRXJyb3IiLCJhdXRvcGxheSIsIm11dGVkIiwicGxheXNJbmxpbmUiLCJsb29wIiwicHJlbG9hZCIsImNvbnRyb2xzIiwib25sb2FkZWRkYXRhIiwiZXJyb3JNZXNzYWdlIiwiZGV0ZWN0QW5kU2VuZEZhY2UiLCJjdXJyZW50VmlkZW9FbGVtZW50IiwicGF1c2VkIiwicmVhZHlTdGF0ZSIsIm9wdGlvbnMiLCJUaW55RmFjZURldGVjdG9yT3B0aW9ucyIsImlucHV0U2l6ZSIsInNjb3JlVGhyZXNob2xkIiwiZGV0ZWN0aW9ucyIsImRldGVjdEFsbEZhY2VzIiwiZGV0ZWN0aW9uIiwiYm94IiwidGVtcENhbnZhcyIsInRlbXBDb250ZXh0IiwiZ2V0Q29udGV4dCIsInBhZGRpbmciLCJwYWRkZWRXaWR0aCIsIndpZHRoIiwicGFkZGVkSGVpZ2h0IiwiaGVpZ2h0IiwicGFkZGVkWCIsIngiLCJwYWRkZWRZIiwieSIsImNyb3BYIiwiTWF0aCIsIm1heCIsImNyb3BZIiwiY3JvcFdpZHRoIiwibWluIiwidmlkZW9XaWR0aCIsImNyb3BIZWlnaHQiLCJ2aWRlb0hlaWdodCIsImRyYXdJbWFnZSIsImltYWdlRGF0YVVybCIsInRvRGF0YVVSTCIsImJhc2U2NERhdGEiLCJzcGxpdCIsIm1lc3NhZ2UiLCJwYXlsb2FkIiwiaW1hZ2VfZGF0YSIsImxvYmJ5X2NvZGUiLCJ0cmlnZ2VyRmFjZUltYWdlU2VuZCIsImludGVydmFsSWQiLCJzZXRJbnRlcnZhbCIsImNsZWFySW50ZXJ2YWwiLCJfY2xlYW51cCIsImhhbmRsZUxlYXZlR2FtZSIsImRpdiIsImgyIiwicCIsIm9uQ2xpY2siLCJoMSIsInNwYW4iLCJoMyIsIm1hcCIsInBsYXllciIsImluZGV4IiwiaXNWZXJpZmllZCIsImluY2x1ZGVzIiwiY2hhckF0IiwidG9VcHBlckNhc2UiLCJkaXNhYmxlZCIsInJlZiIsImJhY2tncm91bmQiLCJtYXJnaW4iLCJyb3VuZCIsImlkIiwiYXV0b1BsYXkiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./app/game/page.jsx\n"));

/***/ })

});